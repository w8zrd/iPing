import{r as p,u,j as n}from"./index-B988mT6b.js";const m=p.memo(({text:a})=>{const o=u(),h=p.useMemo(()=>{const r=[],l=/(https?:\/\/[^\s]+|#\w+|@\w+)/g;let t=0,s;for(;(s=l.exec(a))!==null;){s.index>t&&r.push(n.jsx("span",{children:a.substring(t,s.index)},t));const e=s[0];if(e.startsWith("http://")||e.startsWith("https://"))r.push(n.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",onClick:i=>i.stopPropagation(),className:"text-primary hover:underline font-medium break-all",children:e},s.index));else if(e.startsWith("#"))r.push(n.jsx("button",{onClick:i=>{i.stopPropagation(),o(`/search?q=${encodeURIComponent(e)}`)},className:"text-primary hover:underline font-medium",children:e},s.index));else if(e.startsWith("@")){const i=e.substring(1);r.push(n.jsx("button",{onClick:c=>{c.stopPropagation(),o(`/profile/${i}`)},className:"text-primary hover:underline font-medium",children:e},s.index))}t=l.lastIndex}return t<a.length&&r.push(n.jsx("span",{children:a.substring(t)},t)),r},[a,o]);return n.jsx(n.Fragment,{children:h})});export{m as P};
