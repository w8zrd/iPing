import{r as s,d as j,u as N,j as e}from"./index-CM0PV9rL.js";import{B as S}from"./Button-aohLmecZ.js";import{I as d,L as w}from"./Input-ApE2g_zo.js";import{u as E}from"./use-toast-BZ8SEqu7.js";import"./utils-Dtjc6EhN.js";import"./createLucideIcon-BM7LnnNf.js";const q=()=>{const[t,g]=s.useState(!0),[n,h]=s.useState(""),[o,x]=s.useState(""),[l,f]=s.useState(""),[u,c]=s.useState(!1),{signIn:b,signUp:v,user:m}=j(),p=N(),{toast:i}=E();s.useEffect(()=>{m&&p("/")},[m,p]);const y=async r=>{r.preventDefault(),c(!0);try{let a;if(t)a=await b(n,o);else{if(!l.trim()){i({title:"Error",description:"Username is required",variant:"destructive"}),c(!1);return}a=await v(n,o,l)}a.error?i({title:"Error",description:a.error.message||"Authentication failed",variant:"destructive"}):t||i({title:"Success",description:"Account created! Please check your email to verify your account."})}catch(a){i({title:"Error",description:a.message||"Authentication failed",variant:"destructive"})}finally{c(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-background via-muted/20 to-background",children:e.jsx("div",{className:"w-full max-w-md animate-scale-in",children:e.jsxs("div",{className:"glass-strong rounded-3xl p-8 shadow-lg border-2",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold mb-2 bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:"iPing"}),e.jsx("p",{className:"text-muted-foreground",children:"Social Made Simple"})]}),e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[!t&&e.jsx("div",{className:"space-y-2",children:e.jsx(d,{type:"text",placeholder:"Username",value:l,onChange:r=>f(r.target.value),required:!0,className:"h-12 rounded-2xl glass border-border/50 focus:border-primary transition-apple"})}),e.jsx("div",{className:"space-y-2",children:e.jsx(d,{type:"email",placeholder:"Email",value:n,onChange:r=>h(r.target.value),required:!0,className:"h-12 rounded-2xl glass border-border/50 focus:border-primary transition-apple"})}),e.jsx("div",{className:"space-y-2",children:e.jsx(d,{type:"password",placeholder:"Password",value:o,onChange:r=>x(r.target.value),required:!0,minLength:6,className:"h-12 rounded-2xl glass border-border/50 focus:border-primary transition-apple"})}),e.jsx(S,{type:"submit",disabled:u,className:"w-full h-12 rounded-2xl bg-primary hover:bg-primary/90 text-primary-foreground font-semibold transition-apple",children:u?e.jsxs(e.Fragment,{children:[e.jsx(w,{className:"mr-2 h-4 w-4 animate-spin"}),"Loading..."]}):t?"Sign In":"Sign Up"})]}),e.jsx("button",{onClick:()=>g(!t),className:"w-full mt-4 text-sm text-muted-foreground hover:text-foreground transition-apple",children:t?"Don't have an account? Sign up":"Already have an account? Sign in"})]})})})};export{q as default};
