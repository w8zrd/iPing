import{u as N,e as j,r as p,j as s}from"./index-4hGjUGNn.js";import{N as f,M as y}from"./Navigation-D9tE6Q6T.js";import{H as g}from"./Header-Bk30rA8Q.js";import{A as v,a as b}from"./Avatar-Br7rrXQT.js";import{B as i}from"./Button-DYDU9NB5.js";import{u as w}from"./use-toast-BZ8SEqu7.js";import{C as k}from"./check-C0zb_0lj.js";import{U as q}from"./user-plus-DGNAXj8S.js";import{H as C}from"./heart-B-RXpsSu.js";import"./createLucideIcon-DSKUenRI.js";import"./x-EFaVZ6UY.js";import"./utils-Dtjc6EhN.js";const o=[{id:"1",type:"like",user:{username:"alex",displayName:"Alex Chen",verified:!0},text:"liked your ping",timestamp:new Date(Date.now()-1e3*60*5),read:!1,postId:"post-1"},{id:"2",type:"friend_request",user:{username:"sarah",displayName:"Sarah Johnson",verified:!1},text:"sent you a friend request",timestamp:new Date(Date.now()-1e3*60*30),read:!1},{id:"3",type:"comment",user:{username:"mike",displayName:"Mike Davis",verified:!0},text:"commented on your ping",timestamp:new Date(Date.now()-1e3*60*60),read:!0,postId:"post-2",commentId:"comment-1"}],U=()=>{const d=N(),{markNotificationAsRead:t}=j(),{toast:n}=w(),[m,u]=p.useState({});p.useEffect(()=>{o.forEach(e=>{e.read||t(e.id)})},[t]);const c=e=>{switch(e){case"like":return s.jsx(C,{className:"h-5 w-5 text-red-500 fill-red-500"});case"friend_request":return s.jsx(q,{className:"h-5 w-5 text-primary"});case"comment":return s.jsx(y,{className:"h-5 w-5 text-blue-500"});default:return null}},x=e=>{t(e.id),e.type==="like"&&e.postId?d(`/?post=${e.postId}`):e.type==="comment"&&e.postId?d(`/?post=${e.postId}&openComments=true`):(e.type==="friend_request"||e.type==="follow")&&d(`/profile/${e.user.username}`)},l=(e,a,r)=>{u(h=>({...h,[e]:a})),t(e),n({title:a==="accepted"?"Friend request accepted":"Friend request declined",description:`${r} will be notified about your response`})};return s.jsxs("div",{className:"min-h-screen pb-32",children:[s.jsx(g,{}),s.jsxs("div",{className:"max-w-2xl mx-auto p-4",children:[s.jsx("div",{className:"mb-8 pt-24 animate-fade-in",children:s.jsx("h1",{className:"text-3xl font-bold",children:"Notifications"})}),s.jsx("div",{className:"glass-strong rounded-3xl shadow-md overflow-hidden",children:o.map((e,a)=>s.jsx("div",{className:`p-4 animate-fade-in border-b border-border/30 last:border-b-0 ${e.read?"":"bg-primary/5"} ${e.type==="friend_request"?"":"cursor-pointer hover:bg-primary/5 transition-apple"}`,style:{animationDelay:`${a*.05}s`},onClick:()=>e.type!=="friend_request"&&x(e),children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(v,{className:"w-12 h-12",children:s.jsx(b,{className:"bg-gradient-to-br from-primary via-primary/80 to-primary/50 text-white font-bold",children:e.user.displayName[0]?.toUpperCase()})}),s.jsx("div",{className:"absolute -bottom-1 -right-1 bg-background rounded-full p-0.5",children:c(e.type)})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"font-semibold",children:e.user.displayName}),e.user.verified&&s.jsx("div",{className:"flex items-center justify-center w-4 h-4 bg-primary rounded-full",children:s.jsx(k,{className:"h-3 w-3 text-white stroke-[3]"})}),s.jsxs("span",{className:"text-muted-foreground text-sm",children:["@",e.user.username]})]}),e.type==="friend_request"&&m[e.id]?s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"text-sm text-foreground/80",children:["You ",m[e.id]," @",e.user.username,"'s friend request"]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:e.timestamp.toLocaleString()})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-sm text-foreground/80",children:e.text}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:e.timestamp.toLocaleString()}),e.type==="friend_request"&&s.jsxs("div",{className:"flex gap-2 mt-3",children:[s.jsx(i,{size:"sm",onClick:r=>{r.stopPropagation(),l(e.id,"accepted",e.user.displayName)},children:"Accept"}),s.jsx(i,{size:"sm",variant:"outline",onClick:r=>{r.stopPropagation(),l(e.id,"rejected",e.user.displayName)},children:"Decline"})]})]})]})]})},e.id))})]}),s.jsx(f,{})]})};export{U as default};
