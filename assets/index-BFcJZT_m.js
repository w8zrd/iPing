const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-C8J27srj.js","assets/Navigation-Dfno_2b8.js","assets/createLucideIcon-BHP_jijh.js","assets/Header-C8AQHQev.js","assets/x-DSI2zZ5M.js","assets/textParser-BNefA4S8.js","assets/send-C2hFMwWm.js","assets/check-CGwL9IJe.js","assets/user-plus-BDhr2G2M.js","assets/heart-zuYBrX7w.js","assets/eye-Dgo6B-Us.js","assets/Profile-CEmEnvtm.js","assets/Button-B8xnTMRQ.js","assets/utils-Dtjc6EhN.js","assets/Avatar-BkcTkP87.js","assets/use-toast-BZ8SEqu7.js","assets/user-DRA7dMka.js","assets/arrow-left-BqAPCrBK.js","assets/SearchResults-hevs-UVZ.js","assets/Settings-aeWXDB7G.js","assets/Input-C1gfzAfc.js","assets/Textarea-B_5L5qlx.js","assets/loader-circle-CxsxKMvs.js","assets/Notifications-Dq_GRgYW.js","assets/Chats-C6qcX3dL.js","assets/ChatConversation-DtlaKJJy.js","assets/SupabaseAuth-BJUyIlDX.js"])))=>i.map(i=>d[i]);
function ef(s,r){for(var n=0;n<r.length;n++){const o=r[n];if(typeof o!="string"&&!Array.isArray(o)){for(const l in o)if(l!=="default"&&!(l in s)){const u=Object.getOwnPropertyDescriptor(o,l);u&&Object.defineProperty(s,l,u.get?u:{enumerable:!0,get:()=>o[l]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function tf(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function fv(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var r=s.default;if(typeof r=="function"){var n=function o(){var l=!1;try{l=this instanceof o}catch{}return l?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};n.prototype=r.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(s).forEach(function(o){var l=Object.getOwnPropertyDescriptor(s,o);Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:function(){return s[o]}})}),n}var il={exports:{}},ms={},ol={exports:{}},ie={};var Zd;function pv(){if(Zd)return ie;Zd=1;var s=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),w=Symbol.iterator;function _(P){return P===null||typeof P!="object"?null:(P=w&&P[w]||P["@@iterator"],typeof P=="function"?P:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,b={};function S(P,U,se){this.props=P,this.context=U,this.refs=b,this.updater=se||C}S.prototype.isReactComponent={},S.prototype.setState=function(P,U){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,U,"setState")},S.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function I(){}I.prototype=S.prototype;function j(P,U,se){this.props=P,this.context=U,this.refs=b,this.updater=se||C}var A=j.prototype=new I;A.constructor=j,E(A,S.prototype),A.isPureReactComponent=!0;var M=Array.isArray,Y=Object.prototype.hasOwnProperty,X={current:null},oe={key:!0,ref:!0,__self:!0,__source:!0};function we(P,U,se){var ae,ue={},ce=null,ge=null;if(U!=null)for(ae in U.ref!==void 0&&(ge=U.ref),U.key!==void 0&&(ce=""+U.key),U)Y.call(U,ae)&&!oe.hasOwnProperty(ae)&&(ue[ae]=U[ae]);var he=arguments.length-2;if(he===1)ue.children=se;else if(1<he){for(var Ee=Array(he),at=0;at<he;at++)Ee[at]=arguments[at+2];ue.children=Ee}if(P&&P.defaultProps)for(ae in he=P.defaultProps,he)ue[ae]===void 0&&(ue[ae]=he[ae]);return{$$typeof:s,type:P,key:ce,ref:ge,props:ue,_owner:X.current}}function Ae(P,U){return{$$typeof:s,type:P.type,key:U,ref:P.ref,props:P.props,_owner:P._owner}}function it(P){return typeof P=="object"&&P!==null&&P.$$typeof===s}function zt(P){var U={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(se){return U[se]})}var Nt=/\/+/g;function ot(P,U){return typeof P=="object"&&P!==null&&P.key!=null?zt(""+P.key):U.toString(36)}function Et(P,U,se,ae,ue){var ce=typeof P;(ce==="undefined"||ce==="boolean")&&(P=null);var ge=!1;if(P===null)ge=!0;else switch(ce){case"string":case"number":ge=!0;break;case"object":switch(P.$$typeof){case s:case r:ge=!0}}if(ge)return ge=P,ue=ue(ge),P=ae===""?"."+ot(ge,0):ae,M(ue)?(se="",P!=null&&(se=P.replace(Nt,"$&/")+"/"),Et(ue,U,se,"",function(at){return at})):ue!=null&&(it(ue)&&(ue=Ae(ue,se+(!ue.key||ge&&ge.key===ue.key?"":(""+ue.key).replace(Nt,"$&/")+"/")+P)),U.push(ue)),1;if(ge=0,ae=ae===""?".":ae+":",M(P))for(var he=0;he<P.length;he++){ce=P[he];var Ee=ae+ot(ce,he);ge+=Et(ce,U,se,Ee,ue)}else if(Ee=_(P),typeof Ee=="function")for(P=Ee.call(P),he=0;!(ce=P.next()).done;)ce=ce.value,Ee=ae+ot(ce,he++),ge+=Et(ce,U,se,Ee,ue);else if(ce==="object")throw U=String(P),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return ge}function Lt(P,U,se){if(P==null)return P;var ae=[],ue=0;return Et(P,ae,"","",function(ce){return U.call(se,ce,ue++)}),ae}function Xe(P){if(P._status===-1){var U=P._result;U=U(),U.then(function(se){(P._status===0||P._status===-1)&&(P._status=1,P._result=se)},function(se){(P._status===0||P._status===-1)&&(P._status=2,P._result=se)}),P._status===-1&&(P._status=0,P._result=U)}if(P._status===1)return P._result.default;throw P._result}var Te={current:null},B={transition:null},re={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:B,ReactCurrentOwner:X};function q(){throw Error("act(...) is not supported in production builds of React.")}return ie.Children={map:Lt,forEach:function(P,U,se){Lt(P,function(){U.apply(this,arguments)},se)},count:function(P){var U=0;return Lt(P,function(){U++}),U},toArray:function(P){return Lt(P,function(U){return U})||[]},only:function(P){if(!it(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},ie.Component=S,ie.Fragment=n,ie.Profiler=l,ie.PureComponent=j,ie.StrictMode=o,ie.Suspense=p,ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=re,ie.act=q,ie.cloneElement=function(P,U,se){if(P==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+P+".");var ae=E({},P.props),ue=P.key,ce=P.ref,ge=P._owner;if(U!=null){if(U.ref!==void 0&&(ce=U.ref,ge=X.current),U.key!==void 0&&(ue=""+U.key),P.type&&P.type.defaultProps)var he=P.type.defaultProps;for(Ee in U)Y.call(U,Ee)&&!oe.hasOwnProperty(Ee)&&(ae[Ee]=U[Ee]===void 0&&he!==void 0?he[Ee]:U[Ee])}var Ee=arguments.length-2;if(Ee===1)ae.children=se;else if(1<Ee){he=Array(Ee);for(var at=0;at<Ee;at++)he[at]=arguments[at+2];ae.children=he}return{$$typeof:s,type:P.type,key:ue,ref:ce,props:ae,_owner:ge}},ie.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},P.Provider={$$typeof:u,_context:P},P.Consumer=P},ie.createElement=we,ie.createFactory=function(P){var U=we.bind(null,P);return U.type=P,U},ie.createRef=function(){return{current:null}},ie.forwardRef=function(P){return{$$typeof:f,render:P}},ie.isValidElement=it,ie.lazy=function(P){return{$$typeof:m,_payload:{_status:-1,_result:P},_init:Xe}},ie.memo=function(P,U){return{$$typeof:v,type:P,compare:U===void 0?null:U}},ie.startTransition=function(P){var U=B.transition;B.transition={};try{P()}finally{B.transition=U}},ie.unstable_act=q,ie.useCallback=function(P,U){return Te.current.useCallback(P,U)},ie.useContext=function(P){return Te.current.useContext(P)},ie.useDebugValue=function(){},ie.useDeferredValue=function(P){return Te.current.useDeferredValue(P)},ie.useEffect=function(P,U){return Te.current.useEffect(P,U)},ie.useId=function(){return Te.current.useId()},ie.useImperativeHandle=function(P,U,se){return Te.current.useImperativeHandle(P,U,se)},ie.useInsertionEffect=function(P,U){return Te.current.useInsertionEffect(P,U)},ie.useLayoutEffect=function(P,U){return Te.current.useLayoutEffect(P,U)},ie.useMemo=function(P,U){return Te.current.useMemo(P,U)},ie.useReducer=function(P,U,se){return Te.current.useReducer(P,U,se)},ie.useRef=function(P){return Te.current.useRef(P)},ie.useState=function(P){return Te.current.useState(P)},ie.useSyncExternalStore=function(P,U,se){return Te.current.useSyncExternalStore(P,U,se)},ie.useTransition=function(){return Te.current.useTransition()},ie.version="18.3.1",ie}var eh;function zl(){return eh||(eh=1,ol.exports=pv()),ol.exports}var th;function gv(){if(th)return ms;th=1;var s=zl(),r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(f,p,v){var m,w={},_=null,C=null;v!==void 0&&(_=""+v),p.key!==void 0&&(_=""+p.key),p.ref!==void 0&&(C=p.ref);for(m in p)o.call(p,m)&&!u.hasOwnProperty(m)&&(w[m]=p[m]);if(f&&f.defaultProps)for(m in p=f.defaultProps,p)w[m]===void 0&&(w[m]=p[m]);return{$$typeof:r,type:f,key:_,ref:C,props:w,_owner:l.current}}return ms.Fragment=n,ms.jsx=c,ms.jsxs=c,ms}var rh;function vv(){return rh||(rh=1,il.exports=gv()),il.exports}var J=vv(),Mi={},al={exports:{}},st={},ll={exports:{}},ul={};var nh;function mv(){return nh||(nh=1,(function(s){function r(B,re){var q=B.length;B.push(re);e:for(;0<q;){var P=q-1>>>1,U=B[P];if(0<l(U,re))B[P]=re,B[q]=U,q=P;else break e}}function n(B){return B.length===0?null:B[0]}function o(B){if(B.length===0)return null;var re=B[0],q=B.pop();if(q!==re){B[0]=q;e:for(var P=0,U=B.length,se=U>>>1;P<se;){var ae=2*(P+1)-1,ue=B[ae],ce=ae+1,ge=B[ce];if(0>l(ue,q))ce<U&&0>l(ge,ue)?(B[P]=ge,B[ce]=q,P=ce):(B[P]=ue,B[ae]=q,P=ae);else if(ce<U&&0>l(ge,q))B[P]=ge,B[ce]=q,P=ce;else break e}}return re}function l(B,re){var q=B.sortIndex-re.sortIndex;return q!==0?q:B.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var c=Date,f=c.now();s.unstable_now=function(){return c.now()-f}}var p=[],v=[],m=1,w=null,_=3,C=!1,E=!1,b=!1,S=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(B){for(var re=n(v);re!==null;){if(re.callback===null)o(v);else if(re.startTime<=B)o(v),re.sortIndex=re.expirationTime,r(p,re);else break;re=n(v)}}function M(B){if(b=!1,A(B),!E)if(n(p)!==null)E=!0,Xe(Y);else{var re=n(v);re!==null&&Te(M,re.startTime-B)}}function Y(B,re){E=!1,b&&(b=!1,I(we),we=-1),C=!0;var q=_;try{for(A(re),w=n(p);w!==null&&(!(w.expirationTime>re)||B&&!zt());){var P=w.callback;if(typeof P=="function"){w.callback=null,_=w.priorityLevel;var U=P(w.expirationTime<=re);re=s.unstable_now(),typeof U=="function"?w.callback=U:w===n(p)&&o(p),A(re)}else o(p);w=n(p)}if(w!==null)var se=!0;else{var ae=n(v);ae!==null&&Te(M,ae.startTime-re),se=!1}return se}finally{w=null,_=q,C=!1}}var X=!1,oe=null,we=-1,Ae=5,it=-1;function zt(){return!(s.unstable_now()-it<Ae)}function Nt(){if(oe!==null){var B=s.unstable_now();it=B;var re=!0;try{re=oe(!0,B)}finally{re?ot():(X=!1,oe=null)}}else X=!1}var ot;if(typeof j=="function")ot=function(){j(Nt)};else if(typeof MessageChannel<"u"){var Et=new MessageChannel,Lt=Et.port2;Et.port1.onmessage=Nt,ot=function(){Lt.postMessage(null)}}else ot=function(){S(Nt,0)};function Xe(B){oe=B,X||(X=!0,ot())}function Te(B,re){we=S(function(){B(s.unstable_now())},re)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(B){B.callback=null},s.unstable_continueExecution=function(){E||C||(E=!0,Xe(Y))},s.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ae=0<B?Math.floor(1e3/B):5},s.unstable_getCurrentPriorityLevel=function(){return _},s.unstable_getFirstCallbackNode=function(){return n(p)},s.unstable_next=function(B){switch(_){case 1:case 2:case 3:var re=3;break;default:re=_}var q=_;_=re;try{return B()}finally{_=q}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(B,re){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var q=_;_=B;try{return re()}finally{_=q}},s.unstable_scheduleCallback=function(B,re,q){var P=s.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?P+q:P):q=P,B){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=q+U,B={id:m++,callback:re,priorityLevel:B,startTime:q,expirationTime:U,sortIndex:-1},q>P?(B.sortIndex=q,r(v,B),n(p)===null&&B===n(v)&&(b?(I(we),we=-1):b=!0,Te(M,q-P))):(B.sortIndex=U,r(p,B),E||C||(E=!0,Xe(Y))),B},s.unstable_shouldYield=zt,s.unstable_wrapCallback=function(B){var re=_;return function(){var q=_;_=re;try{return B.apply(this,arguments)}finally{_=q}}}})(ul)),ul}var sh;function yv(){return sh||(sh=1,ll.exports=mv()),ll.exports}var ih;function wv(){if(ih)return st;ih=1;var s=zl(),r=yv();function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)o.add(t[e])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},w={};function _(e){return p.call(w,e)?!0:p.call(m,e)?!1:v.test(e)?w[e]=!0:(m[e]=!0,!1)}function C(e,t,i,a){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function E(e,t,i,a){if(t===null||typeof t>"u"||C(e,t,i,a))return!0;if(a)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function b(e,t,i,a,d,h,g){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=d,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=h,this.removeEmptyString=g}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){S[e]=new b(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];S[t]=new b(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){S[e]=new b(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){S[e]=new b(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){S[e]=new b(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){S[e]=new b(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){S[e]=new b(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){S[e]=new b(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){S[e]=new b(e,5,!1,e.toLowerCase(),null,!1,!1)});var I=/[\-:]([a-z])/g;function j(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(I,j);S[t]=new b(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(I,j);S[t]=new b(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(I,j);S[t]=new b(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){S[e]=new b(e,1,!1,e.toLowerCase(),null,!1,!1)}),S.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){S[e]=new b(e,1,!1,e.toLowerCase(),null,!0,!0)});function A(e,t,i,a){var d=S.hasOwnProperty(t)?S[t]:null;(d!==null?d.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(E(t,i,d,a)&&(i=null),a||d===null?_(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):d.mustUseProperty?e[d.propertyName]=i===null?d.type===3?!1:"":i:(t=d.attributeName,a=d.attributeNamespace,i===null?e.removeAttribute(t):(d=d.type,i=d===3||d===4&&i===!0?"":""+i,a?e.setAttributeNS(a,t,i):e.setAttribute(t,i))))}var M=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Y=Symbol.for("react.element"),X=Symbol.for("react.portal"),oe=Symbol.for("react.fragment"),we=Symbol.for("react.strict_mode"),Ae=Symbol.for("react.profiler"),it=Symbol.for("react.provider"),zt=Symbol.for("react.context"),Nt=Symbol.for("react.forward_ref"),ot=Symbol.for("react.suspense"),Et=Symbol.for("react.suspense_list"),Lt=Symbol.for("react.memo"),Xe=Symbol.for("react.lazy"),Te=Symbol.for("react.offscreen"),B=Symbol.iterator;function re(e){return e===null||typeof e!="object"?null:(e=B&&e[B]||e["@@iterator"],typeof e=="function"?e:null)}var q=Object.assign,P;function U(e){if(P===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);P=t&&t[1]||""}return`
`+P+e}var se=!1;function ae(e,t){if(!e||se)return"";se=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(x){var a=x}Reflect.construct(e,[],t)}else{try{t.call()}catch(x){a=x}e.call(t.prototype)}else{try{throw Error()}catch(x){a=x}e()}}catch(x){if(x&&a&&typeof x.stack=="string"){for(var d=x.stack.split(`
`),h=a.stack.split(`
`),g=d.length-1,y=h.length-1;1<=g&&0<=y&&d[g]!==h[y];)y--;for(;1<=g&&0<=y;g--,y--)if(d[g]!==h[y]){if(g!==1||y!==1)do if(g--,y--,0>y||d[g]!==h[y]){var k=`
`+d[g].replace(" at new "," at ");return e.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",e.displayName)),k}while(1<=g&&0<=y);break}}}finally{se=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?U(e):""}function ue(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=ae(e.type,!1),e;case 11:return e=ae(e.type.render,!1),e;case 1:return e=ae(e.type,!0),e;default:return""}}function ce(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case oe:return"Fragment";case X:return"Portal";case Ae:return"Profiler";case we:return"StrictMode";case ot:return"Suspense";case Et:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case zt:return(e.displayName||"Context")+".Consumer";case it:return(e._context.displayName||"Context")+".Provider";case Nt:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Lt:return t=e.displayName||null,t!==null?t:ce(e.type)||"Memo";case Xe:t=e._payload,e=e._init;try{return ce(e(t))}catch{}}return null}function ge(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(t);case 8:return t===we?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function he(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ee(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function at(e){var t=Ee(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var d=i.get,h=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return d.call(this)},set:function(g){a=""+g,h.call(this,g)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Rs(e){e._valueTracker||(e._valueTracker=at(e))}function iu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),a="";return e&&(a=Ee(e)?e.checked?"true":"false":e.value),e=a,e!==i?(t.setValue(e),!0):!1}function xs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ho(e,t){var i=t.checked;return q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function ou(e,t){var i=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;i=he(t.value!=null?t.value:i),e._wrapperState={initialChecked:a,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function au(e,t){t=t.checked,t!=null&&A(e,"checked",t,!1)}function fo(e,t){au(e,t);var i=he(t.value),a=t.type;if(i!=null)a==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?po(e,t.type,i):t.hasOwnProperty("defaultValue")&&po(e,t.type,he(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function lu(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function po(e,t,i){(t!=="number"||xs(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var An=Array.isArray;function Hr(e,t,i,a){if(e=e.options,t){t={};for(var d=0;d<i.length;d++)t["$"+i[d]]=!0;for(i=0;i<e.length;i++)d=t.hasOwnProperty("$"+e[i].value),e[i].selected!==d&&(e[i].selected=d),d&&a&&(e[i].defaultSelected=!0)}else{for(i=""+he(i),t=null,d=0;d<e.length;d++){if(e[d].value===i){e[d].selected=!0,a&&(e[d].defaultSelected=!0);return}t!==null||e[d].disabled||(t=e[d])}t!==null&&(t.selected=!0)}}function go(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(n(91));return q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function uu(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(n(92));if(An(i)){if(1<i.length)throw Error(n(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:he(i)}}function cu(e,t){var i=he(t.value),a=he(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),a!=null&&(e.defaultValue=""+a)}function du(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function hu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?hu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var js,fu=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,a,d){MSApp.execUnsafeLocalFunction(function(){return e(t,i,a,d)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(js=js||document.createElement("div"),js.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=js.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function In(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Nn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mp=["Webkit","ms","Moz","O"];Object.keys(Nn).forEach(function(e){mp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Nn[t]=Nn[e]})});function pu(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||Nn.hasOwnProperty(e)&&Nn[e]?(""+t).trim():t+"px"}function gu(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var a=i.indexOf("--")===0,d=pu(i,t[i],a);i==="float"&&(i="cssFloat"),a?e.setProperty(i,d):e[i]=d}}var yp=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mo(e,t){if(t){if(yp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(n(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(n(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(n(61))}if(t.style!=null&&typeof t.style!="object")throw Error(n(62))}}function yo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wo=null;function _o(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var So=null,Kr=null,Qr=null;function vu(e){if(e=rs(e)){if(typeof So!="function")throw Error(n(280));var t=e.stateNode;t&&(t=ei(t),So(e.stateNode,e.type,t))}}function mu(e){Kr?Qr?Qr.push(e):Qr=[e]:Kr=e}function yu(){if(Kr){var e=Kr,t=Qr;if(Qr=Kr=null,vu(e),t)for(e=0;e<t.length;e++)vu(t[e])}}function wu(e,t){return e(t)}function _u(){}var Eo=!1;function Su(e,t,i){if(Eo)return e(t,i);Eo=!0;try{return wu(e,t,i)}finally{Eo=!1,(Kr!==null||Qr!==null)&&(_u(),yu())}}function Ln(e,t){var i=e.stateNode;if(i===null)return null;var a=ei(i);if(a===null)return null;i=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(n(231,t,typeof i));return i}var ko=!1;if(f)try{var Un={};Object.defineProperty(Un,"passive",{get:function(){ko=!0}}),window.addEventListener("test",Un,Un),window.removeEventListener("test",Un,Un)}catch{ko=!1}function wp(e,t,i,a,d,h,g,y,k){var x=Array.prototype.slice.call(arguments,3);try{t.apply(i,x)}catch($){this.onError($)}}var $n=!1,As=null,Is=!1,bo=null,_p={onError:function(e){$n=!0,As=e}};function Sp(e,t,i,a,d,h,g,y,k){$n=!1,As=null,wp.apply(_p,arguments)}function Ep(e,t,i,a,d,h,g,y,k){if(Sp.apply(this,arguments),$n){if($n){var x=As;$n=!1,As=null}else throw Error(n(198));Is||(Is=!0,bo=x)}}function Cr(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function Eu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ku(e){if(Cr(e)!==e)throw Error(n(188))}function kp(e){var t=e.alternate;if(!t){if(t=Cr(e),t===null)throw Error(n(188));return t!==e?null:e}for(var i=e,a=t;;){var d=i.return;if(d===null)break;var h=d.alternate;if(h===null){if(a=d.return,a!==null){i=a;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===i)return ku(d),e;if(h===a)return ku(d),t;h=h.sibling}throw Error(n(188))}if(i.return!==a.return)i=d,a=h;else{for(var g=!1,y=d.child;y;){if(y===i){g=!0,i=d,a=h;break}if(y===a){g=!0,a=d,i=h;break}y=y.sibling}if(!g){for(y=h.child;y;){if(y===i){g=!0,i=h,a=d;break}if(y===a){g=!0,a=h,i=d;break}y=y.sibling}if(!g)throw Error(n(189))}}if(i.alternate!==a)throw Error(n(190))}if(i.tag!==3)throw Error(n(188));return i.stateNode.current===i?e:t}function bu(e){return e=kp(e),e!==null?Cu(e):null}function Cu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Cu(e);if(t!==null)return t;e=e.sibling}return null}var Ou=r.unstable_scheduleCallback,Pu=r.unstable_cancelCallback,bp=r.unstable_shouldYield,Cp=r.unstable_requestPaint,xe=r.unstable_now,Op=r.unstable_getCurrentPriorityLevel,Co=r.unstable_ImmediatePriority,Tu=r.unstable_UserBlockingPriority,Ns=r.unstable_NormalPriority,Pp=r.unstable_LowPriority,Ru=r.unstable_IdlePriority,Ls=null,Ut=null;function Tp(e){if(Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(Ls,e,void 0,(e.current.flags&128)===128)}catch{}}var kt=Math.clz32?Math.clz32:jp,Rp=Math.log,xp=Math.LN2;function jp(e){return e>>>=0,e===0?32:31-(Rp(e)/xp|0)|0}var Us=64,$s=4194304;function Dn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ds(e,t){var i=e.pendingLanes;if(i===0)return 0;var a=0,d=e.suspendedLanes,h=e.pingedLanes,g=i&268435455;if(g!==0){var y=g&~d;y!==0?a=Dn(y):(h&=g,h!==0&&(a=Dn(h)))}else g=i&~d,g!==0?a=Dn(g):h!==0&&(a=Dn(h));if(a===0)return 0;if(t!==0&&t!==a&&(t&d)===0&&(d=a&-a,h=t&-t,d>=h||d===16&&(h&4194240)!==0))return t;if((a&4)!==0&&(a|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)i=31-kt(t),d=1<<i,a|=e[i],t&=~d;return a}function Ap(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ip(e,t){for(var i=e.suspendedLanes,a=e.pingedLanes,d=e.expirationTimes,h=e.pendingLanes;0<h;){var g=31-kt(h),y=1<<g,k=d[g];k===-1?((y&i)===0||(y&a)!==0)&&(d[g]=Ap(y,t)):k<=t&&(e.expiredLanes|=y),h&=~y}}function Oo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xu(){var e=Us;return Us<<=1,(Us&4194240)===0&&(Us=64),e}function Po(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Mn(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-kt(t),e[t]=i}function Np(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<i;){var d=31-kt(i),h=1<<d;t[d]=0,a[d]=-1,e[d]=-1,i&=~h}}function To(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var a=31-kt(i),d=1<<a;d&t|e[a]&t&&(e[a]|=t),i&=~d}}var fe=0;function ju(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Au,Ro,Iu,Nu,Lu,xo=!1,Ms=[],tr=null,rr=null,nr=null,Fn=new Map,Bn=new Map,sr=[],Lp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uu(e,t){switch(e){case"focusin":case"focusout":tr=null;break;case"dragenter":case"dragleave":rr=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":Fn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bn.delete(t.pointerId)}}function zn(e,t,i,a,d,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:i,eventSystemFlags:a,nativeEvent:h,targetContainers:[d]},t!==null&&(t=rs(t),t!==null&&Ro(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,d!==null&&t.indexOf(d)===-1&&t.push(d),e)}function Up(e,t,i,a,d){switch(t){case"focusin":return tr=zn(tr,e,t,i,a,d),!0;case"dragenter":return rr=zn(rr,e,t,i,a,d),!0;case"mouseover":return nr=zn(nr,e,t,i,a,d),!0;case"pointerover":var h=d.pointerId;return Fn.set(h,zn(Fn.get(h)||null,e,t,i,a,d)),!0;case"gotpointercapture":return h=d.pointerId,Bn.set(h,zn(Bn.get(h)||null,e,t,i,a,d)),!0}return!1}function $u(e){var t=Or(e.target);if(t!==null){var i=Cr(t);if(i!==null){if(t=i.tag,t===13){if(t=Eu(i),t!==null){e.blockedOn=t,Lu(e.priority,function(){Iu(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Ao(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);wo=a,i.target.dispatchEvent(a),wo=null}else return t=rs(i),t!==null&&Ro(t),e.blockedOn=i,!1;t.shift()}return!0}function Du(e,t,i){Fs(e)&&i.delete(t)}function $p(){xo=!1,tr!==null&&Fs(tr)&&(tr=null),rr!==null&&Fs(rr)&&(rr=null),nr!==null&&Fs(nr)&&(nr=null),Fn.forEach(Du),Bn.forEach(Du)}function Vn(e,t){e.blockedOn===t&&(e.blockedOn=null,xo||(xo=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,$p)))}function qn(e){function t(d){return Vn(d,e)}if(0<Ms.length){Vn(Ms[0],e);for(var i=1;i<Ms.length;i++){var a=Ms[i];a.blockedOn===e&&(a.blockedOn=null)}}for(tr!==null&&Vn(tr,e),rr!==null&&Vn(rr,e),nr!==null&&Vn(nr,e),Fn.forEach(t),Bn.forEach(t),i=0;i<sr.length;i++)a=sr[i],a.blockedOn===e&&(a.blockedOn=null);for(;0<sr.length&&(i=sr[0],i.blockedOn===null);)$u(i),i.blockedOn===null&&sr.shift()}var Gr=M.ReactCurrentBatchConfig,Bs=!0;function Dp(e,t,i,a){var d=fe,h=Gr.transition;Gr.transition=null;try{fe=1,jo(e,t,i,a)}finally{fe=d,Gr.transition=h}}function Mp(e,t,i,a){var d=fe,h=Gr.transition;Gr.transition=null;try{fe=4,jo(e,t,i,a)}finally{fe=d,Gr.transition=h}}function jo(e,t,i,a){if(Bs){var d=Ao(e,t,i,a);if(d===null)Go(e,t,a,zs,i),Uu(e,a);else if(Up(d,e,t,i,a))a.stopPropagation();else if(Uu(e,a),t&4&&-1<Lp.indexOf(e)){for(;d!==null;){var h=rs(d);if(h!==null&&Au(h),h=Ao(e,t,i,a),h===null&&Go(e,t,a,zs,i),h===d)break;d=h}d!==null&&a.stopPropagation()}else Go(e,t,a,null,i)}}var zs=null;function Ao(e,t,i,a){if(zs=null,e=_o(a),e=Or(e),e!==null)if(t=Cr(e),t===null)e=null;else if(i=t.tag,i===13){if(e=Eu(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zs=e,null}function Mu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Op()){case Co:return 1;case Tu:return 4;case Ns:case Pp:return 16;case Ru:return 536870912;default:return 16}default:return 16}}var ir=null,Io=null,Vs=null;function Fu(){if(Vs)return Vs;var e,t=Io,i=t.length,a,d="value"in ir?ir.value:ir.textContent,h=d.length;for(e=0;e<i&&t[e]===d[e];e++);var g=i-e;for(a=1;a<=g&&t[i-a]===d[h-a];a++);return Vs=d.slice(e,1<a?1-a:void 0)}function qs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ws(){return!0}function Bu(){return!1}function lt(e){function t(i,a,d,h,g){this._reactName=i,this._targetInst=d,this.type=a,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(i=e[y],this[y]=i?i(h):h[y]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Ws:Bu,this.isPropagationStopped=Bu,this}return q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Ws)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Ws)},persist:function(){},isPersistent:Ws}),t}var Jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},No=lt(Jr),Wn=q({},Jr,{view:0,detail:0}),Fp=lt(Wn),Lo,Uo,Hn,Hs=q({},Wn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Do,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hn&&(Hn&&e.type==="mousemove"?(Lo=e.screenX-Hn.screenX,Uo=e.screenY-Hn.screenY):Uo=Lo=0,Hn=e),Lo)},movementY:function(e){return"movementY"in e?e.movementY:Uo}}),zu=lt(Hs),Bp=q({},Hs,{dataTransfer:0}),zp=lt(Bp),Vp=q({},Wn,{relatedTarget:0}),$o=lt(Vp),qp=q({},Jr,{animationName:0,elapsedTime:0,pseudoElement:0}),Wp=lt(qp),Hp=q({},Jr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Kp=lt(Hp),Qp=q({},Jr,{data:0}),Vu=lt(Qp),Gp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Yp[e])?!!t[e]:!1}function Do(){return Xp}var Zp=q({},Wn,{key:function(e){if(e.key){var t=Gp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Jp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Do,charCode:function(e){return e.type==="keypress"?qs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),eg=lt(Zp),tg=q({},Hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qu=lt(tg),rg=q({},Wn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Do}),ng=lt(rg),sg=q({},Jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ig=lt(sg),og=q({},Hs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ag=lt(og),lg=[9,13,27,32],Mo=f&&"CompositionEvent"in window,Kn=null;f&&"documentMode"in document&&(Kn=document.documentMode);var ug=f&&"TextEvent"in window&&!Kn,Wu=f&&(!Mo||Kn&&8<Kn&&11>=Kn),Hu=" ",Ku=!1;function Qu(e,t){switch(e){case"keyup":return lg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yr=!1;function cg(e,t){switch(e){case"compositionend":return Gu(t);case"keypress":return t.which!==32?null:(Ku=!0,Hu);case"textInput":return e=t.data,e===Hu&&Ku?null:e;default:return null}}function dg(e,t){if(Yr)return e==="compositionend"||!Mo&&Qu(e,t)?(e=Fu(),Vs=Io=ir=null,Yr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wu&&t.locale!=="ko"?null:t.data;default:return null}}var hg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ju(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hg[e.type]:t==="textarea"}function Yu(e,t,i,a){mu(a),t=Ys(t,"onChange"),0<t.length&&(i=new No("onChange","change",null,i,a),e.push({event:i,listeners:t}))}var Qn=null,Gn=null;function fg(e){gc(e,0)}function Ks(e){var t=rn(e);if(iu(t))return e}function pg(e,t){if(e==="change")return t}var Xu=!1;if(f){var Fo;if(f){var Bo="oninput"in document;if(!Bo){var Zu=document.createElement("div");Zu.setAttribute("oninput","return;"),Bo=typeof Zu.oninput=="function"}Fo=Bo}else Fo=!1;Xu=Fo&&(!document.documentMode||9<document.documentMode)}function ec(){Qn&&(Qn.detachEvent("onpropertychange",tc),Gn=Qn=null)}function tc(e){if(e.propertyName==="value"&&Ks(Gn)){var t=[];Yu(t,Gn,e,_o(e)),Su(fg,t)}}function gg(e,t,i){e==="focusin"?(ec(),Qn=t,Gn=i,Qn.attachEvent("onpropertychange",tc)):e==="focusout"&&ec()}function vg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ks(Gn)}function mg(e,t){if(e==="click")return Ks(t)}function yg(e,t){if(e==="input"||e==="change")return Ks(t)}function wg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bt=typeof Object.is=="function"?Object.is:wg;function Jn(e,t){if(bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var d=i[a];if(!p.call(t,d)||!bt(e[d],t[d]))return!1}return!0}function rc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nc(e,t){var i=rc(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=t&&a>=t)return{node:i,offset:t-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=rc(i)}}function sc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?sc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ic(){for(var e=window,t=xs();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=xs(e.document)}return t}function zo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function _g(e){var t=ic(),i=e.focusedElem,a=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&sc(i.ownerDocument.documentElement,i)){if(a!==null&&zo(i)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var d=i.textContent.length,h=Math.min(a.start,d);a=a.end===void 0?h:Math.min(a.end,d),!e.extend&&h>a&&(d=a,a=h,h=d),d=nc(i,h);var g=nc(i,a);d&&g&&(e.rangeCount!==1||e.anchorNode!==d.node||e.anchorOffset!==d.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(d.node,d.offset),e.removeAllRanges(),h>a?(e.addRange(t),e.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Sg=f&&"documentMode"in document&&11>=document.documentMode,Xr=null,Vo=null,Yn=null,qo=!1;function oc(e,t,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;qo||Xr==null||Xr!==xs(a)||(a=Xr,"selectionStart"in a&&zo(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Yn&&Jn(Yn,a)||(Yn=a,a=Ys(Vo,"onSelect"),0<a.length&&(t=new No("onSelect","select",null,t,i),e.push({event:t,listeners:a}),t.target=Xr)))}function Qs(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Zr={animationend:Qs("Animation","AnimationEnd"),animationiteration:Qs("Animation","AnimationIteration"),animationstart:Qs("Animation","AnimationStart"),transitionend:Qs("Transition","TransitionEnd")},Wo={},ac={};f&&(ac=document.createElement("div").style,"AnimationEvent"in window||(delete Zr.animationend.animation,delete Zr.animationiteration.animation,delete Zr.animationstart.animation),"TransitionEvent"in window||delete Zr.transitionend.transition);function Gs(e){if(Wo[e])return Wo[e];if(!Zr[e])return e;var t=Zr[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in ac)return Wo[e]=t[i];return e}var lc=Gs("animationend"),uc=Gs("animationiteration"),cc=Gs("animationstart"),dc=Gs("transitionend"),hc=new Map,fc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function or(e,t){hc.set(e,t),u(t,[e])}for(var Ho=0;Ho<fc.length;Ho++){var Ko=fc[Ho],Eg=Ko.toLowerCase(),kg=Ko[0].toUpperCase()+Ko.slice(1);or(Eg,"on"+kg)}or(lc,"onAnimationEnd"),or(uc,"onAnimationIteration"),or(cc,"onAnimationStart"),or("dblclick","onDoubleClick"),or("focusin","onFocus"),or("focusout","onBlur"),or(dc,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xn));function pc(e,t,i){var a=e.type||"unknown-event";e.currentTarget=i,Ep(a,t,void 0,e),e.currentTarget=null}function gc(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],d=a.event;a=a.listeners;e:{var h=void 0;if(t)for(var g=a.length-1;0<=g;g--){var y=a[g],k=y.instance,x=y.currentTarget;if(y=y.listener,k!==h&&d.isPropagationStopped())break e;pc(d,y,x),h=k}else for(g=0;g<a.length;g++){if(y=a[g],k=y.instance,x=y.currentTarget,y=y.listener,k!==h&&d.isPropagationStopped())break e;pc(d,y,x),h=k}}}if(Is)throw e=bo,Is=!1,bo=null,e}function _e(e,t){var i=t[ta];i===void 0&&(i=t[ta]=new Set);var a=e+"__bubble";i.has(a)||(vc(t,e,2,!1),i.add(a))}function Qo(e,t,i){var a=0;t&&(a|=4),vc(i,e,a,t)}var Js="_reactListening"+Math.random().toString(36).slice(2);function Zn(e){if(!e[Js]){e[Js]=!0,o.forEach(function(i){i!=="selectionchange"&&(bg.has(i)||Qo(i,!1,e),Qo(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Js]||(t[Js]=!0,Qo("selectionchange",!1,t))}}function vc(e,t,i,a){switch(Mu(t)){case 1:var d=Dp;break;case 4:d=Mp;break;default:d=jo}i=d.bind(null,t,i,e),d=void 0,!ko||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(d=!0),a?d!==void 0?e.addEventListener(t,i,{capture:!0,passive:d}):e.addEventListener(t,i,!0):d!==void 0?e.addEventListener(t,i,{passive:d}):e.addEventListener(t,i,!1)}function Go(e,t,i,a,d){var h=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var g=a.tag;if(g===3||g===4){var y=a.stateNode.containerInfo;if(y===d||y.nodeType===8&&y.parentNode===d)break;if(g===4)for(g=a.return;g!==null;){var k=g.tag;if((k===3||k===4)&&(k=g.stateNode.containerInfo,k===d||k.nodeType===8&&k.parentNode===d))return;g=g.return}for(;y!==null;){if(g=Or(y),g===null)return;if(k=g.tag,k===5||k===6){a=h=g;continue e}y=y.parentNode}}a=a.return}Su(function(){var x=h,$=_o(i),D=[];e:{var L=hc.get(e);if(L!==void 0){var z=No,W=e;switch(e){case"keypress":if(qs(i)===0)break e;case"keydown":case"keyup":z=eg;break;case"focusin":W="focus",z=$o;break;case"focusout":W="blur",z=$o;break;case"beforeblur":case"afterblur":z=$o;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=zu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=zp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=ng;break;case lc:case uc:case cc:z=Wp;break;case dc:z=ig;break;case"scroll":z=Fp;break;case"wheel":z=ag;break;case"copy":case"cut":case"paste":z=Kp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=qu}var H=(t&4)!==0,je=!H&&e==="scroll",T=H?L!==null?L+"Capture":null:L;H=[];for(var O=x,R;O!==null;){R=O;var F=R.stateNode;if(R.tag===5&&F!==null&&(R=F,T!==null&&(F=Ln(O,T),F!=null&&H.push(es(O,F,R)))),je)break;O=O.return}0<H.length&&(L=new z(L,W,null,i,$),D.push({event:L,listeners:H}))}}if((t&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",L&&i!==wo&&(W=i.relatedTarget||i.fromElement)&&(Or(W)||W[Vt]))break e;if((z||L)&&(L=$.window===$?$:(L=$.ownerDocument)?L.defaultView||L.parentWindow:window,z?(W=i.relatedTarget||i.toElement,z=x,W=W?Or(W):null,W!==null&&(je=Cr(W),W!==je||W.tag!==5&&W.tag!==6)&&(W=null)):(z=null,W=x),z!==W)){if(H=zu,F="onMouseLeave",T="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(H=qu,F="onPointerLeave",T="onPointerEnter",O="pointer"),je=z==null?L:rn(z),R=W==null?L:rn(W),L=new H(F,O+"leave",z,i,$),L.target=je,L.relatedTarget=R,F=null,Or($)===x&&(H=new H(T,O+"enter",W,i,$),H.target=R,H.relatedTarget=je,F=H),je=F,z&&W)t:{for(H=z,T=W,O=0,R=H;R;R=en(R))O++;for(R=0,F=T;F;F=en(F))R++;for(;0<O-R;)H=en(H),O--;for(;0<R-O;)T=en(T),R--;for(;O--;){if(H===T||T!==null&&H===T.alternate)break t;H=en(H),T=en(T)}H=null}else H=null;z!==null&&mc(D,L,z,H,!1),W!==null&&je!==null&&mc(D,je,W,H,!0)}}e:{if(L=x?rn(x):window,z=L.nodeName&&L.nodeName.toLowerCase(),z==="select"||z==="input"&&L.type==="file")var K=pg;else if(Ju(L))if(Xu)K=yg;else{K=vg;var Z=gg}else(z=L.nodeName)&&z.toLowerCase()==="input"&&(L.type==="checkbox"||L.type==="radio")&&(K=mg);if(K&&(K=K(e,x))){Yu(D,K,i,$);break e}Z&&Z(e,L,x),e==="focusout"&&(Z=L._wrapperState)&&Z.controlled&&L.type==="number"&&po(L,"number",L.value)}switch(Z=x?rn(x):window,e){case"focusin":(Ju(Z)||Z.contentEditable==="true")&&(Xr=Z,Vo=x,Yn=null);break;case"focusout":Yn=Vo=Xr=null;break;case"mousedown":qo=!0;break;case"contextmenu":case"mouseup":case"dragend":qo=!1,oc(D,i,$);break;case"selectionchange":if(Sg)break;case"keydown":case"keyup":oc(D,i,$)}var ee;if(Mo)e:{switch(e){case"compositionstart":var ne="onCompositionStart";break e;case"compositionend":ne="onCompositionEnd";break e;case"compositionupdate":ne="onCompositionUpdate";break e}ne=void 0}else Yr?Qu(e,i)&&(ne="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ne="onCompositionStart");ne&&(Wu&&i.locale!=="ko"&&(Yr||ne!=="onCompositionStart"?ne==="onCompositionEnd"&&Yr&&(ee=Fu()):(ir=$,Io="value"in ir?ir.value:ir.textContent,Yr=!0)),Z=Ys(x,ne),0<Z.length&&(ne=new Vu(ne,e,null,i,$),D.push({event:ne,listeners:Z}),ee?ne.data=ee:(ee=Gu(i),ee!==null&&(ne.data=ee)))),(ee=ug?cg(e,i):dg(e,i))&&(x=Ys(x,"onBeforeInput"),0<x.length&&($=new Vu("onBeforeInput","beforeinput",null,i,$),D.push({event:$,listeners:x}),$.data=ee))}gc(D,t)})}function es(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Ys(e,t){for(var i=t+"Capture",a=[];e!==null;){var d=e,h=d.stateNode;d.tag===5&&h!==null&&(d=h,h=Ln(e,i),h!=null&&a.unshift(es(e,h,d)),h=Ln(e,t),h!=null&&a.push(es(e,h,d))),e=e.return}return a}function en(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function mc(e,t,i,a,d){for(var h=t._reactName,g=[];i!==null&&i!==a;){var y=i,k=y.alternate,x=y.stateNode;if(k!==null&&k===a)break;y.tag===5&&x!==null&&(y=x,d?(k=Ln(i,h),k!=null&&g.unshift(es(i,k,y))):d||(k=Ln(i,h),k!=null&&g.push(es(i,k,y)))),i=i.return}g.length!==0&&e.push({event:t,listeners:g})}var Cg=/\r\n?/g,Og=/\u0000|\uFFFD/g;function yc(e){return(typeof e=="string"?e:""+e).replace(Cg,`
`).replace(Og,"")}function Xs(e,t,i){if(t=yc(t),yc(e)!==t&&i)throw Error(n(425))}function Zs(){}var Jo=null,Yo=null;function Xo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zo=typeof setTimeout=="function"?setTimeout:void 0,Pg=typeof clearTimeout=="function"?clearTimeout:void 0,wc=typeof Promise=="function"?Promise:void 0,Tg=typeof queueMicrotask=="function"?queueMicrotask:typeof wc<"u"?function(e){return wc.resolve(null).then(e).catch(Rg)}:Zo;function Rg(e){setTimeout(function(){throw e})}function ea(e,t){var i=t,a=0;do{var d=i.nextSibling;if(e.removeChild(i),d&&d.nodeType===8)if(i=d.data,i==="/$"){if(a===0){e.removeChild(d),qn(t);return}a--}else i!=="$"&&i!=="$?"&&i!=="$!"||a++;i=d}while(i);qn(t)}function ar(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _c(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var tn=Math.random().toString(36).slice(2),$t="__reactFiber$"+tn,ts="__reactProps$"+tn,Vt="__reactContainer$"+tn,ta="__reactEvents$"+tn,xg="__reactListeners$"+tn,jg="__reactHandles$"+tn;function Or(e){var t=e[$t];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Vt]||i[$t]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=_c(e);e!==null;){if(i=e[$t])return i;e=_c(e)}return t}e=i,i=e.parentNode}return null}function rs(e){return e=e[$t]||e[Vt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function rn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(n(33))}function ei(e){return e[ts]||null}var ra=[],nn=-1;function lr(e){return{current:e}}function Se(e){0>nn||(e.current=ra[nn],ra[nn]=null,nn--)}function ve(e,t){nn++,ra[nn]=e.current,e.current=t}var ur={},qe=lr(ur),Ze=lr(!1),Pr=ur;function sn(e,t){var i=e.type.contextTypes;if(!i)return ur;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var d={},h;for(h in i)d[h]=t[h];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=d),d}function et(e){return e=e.childContextTypes,e!=null}function ti(){Se(Ze),Se(qe)}function Sc(e,t,i){if(qe.current!==ur)throw Error(n(168));ve(qe,t),ve(Ze,i)}function Ec(e,t,i){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return i;a=a.getChildContext();for(var d in a)if(!(d in t))throw Error(n(108,ge(e)||"Unknown",d));return q({},i,a)}function ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ur,Pr=qe.current,ve(qe,e),ve(Ze,Ze.current),!0}function kc(e,t,i){var a=e.stateNode;if(!a)throw Error(n(169));i?(e=Ec(e,t,Pr),a.__reactInternalMemoizedMergedChildContext=e,Se(Ze),Se(qe),ve(qe,e)):Se(Ze),ve(Ze,i)}var qt=null,ni=!1,na=!1;function bc(e){qt===null?qt=[e]:qt.push(e)}function Ag(e){ni=!0,bc(e)}function cr(){if(!na&&qt!==null){na=!0;var e=0,t=fe;try{var i=qt;for(fe=1;e<i.length;e++){var a=i[e];do a=a(!0);while(a!==null)}qt=null,ni=!1}catch(d){throw qt!==null&&(qt=qt.slice(e+1)),Ou(Co,cr),d}finally{fe=t,na=!1}}return null}var on=[],an=0,si=null,ii=0,gt=[],vt=0,Tr=null,Wt=1,Ht="";function Rr(e,t){on[an++]=ii,on[an++]=si,si=e,ii=t}function Cc(e,t,i){gt[vt++]=Wt,gt[vt++]=Ht,gt[vt++]=Tr,Tr=e;var a=Wt;e=Ht;var d=32-kt(a)-1;a&=~(1<<d),i+=1;var h=32-kt(t)+d;if(30<h){var g=d-d%5;h=(a&(1<<g)-1).toString(32),a>>=g,d-=g,Wt=1<<32-kt(t)+d|i<<d|a,Ht=h+e}else Wt=1<<h|i<<d|a,Ht=e}function sa(e){e.return!==null&&(Rr(e,1),Cc(e,1,0))}function ia(e){for(;e===si;)si=on[--an],on[an]=null,ii=on[--an],on[an]=null;for(;e===Tr;)Tr=gt[--vt],gt[vt]=null,Ht=gt[--vt],gt[vt]=null,Wt=gt[--vt],gt[vt]=null}var ut=null,ct=null,ke=!1,Ct=null;function Oc(e,t){var i=_t(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function Pc(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ut=e,ct=ar(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ut=e,ct=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=Tr!==null?{id:Wt,overflow:Ht}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=_t(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,ut=e,ct=null,!0):!1;default:return!1}}function oa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function aa(e){if(ke){var t=ct;if(t){var i=t;if(!Pc(e,t)){if(oa(e))throw Error(n(418));t=ar(i.nextSibling);var a=ut;t&&Pc(e,t)?Oc(a,i):(e.flags=e.flags&-4097|2,ke=!1,ut=e)}}else{if(oa(e))throw Error(n(418));e.flags=e.flags&-4097|2,ke=!1,ut=e}}}function Tc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ut=e}function oi(e){if(e!==ut)return!1;if(!ke)return Tc(e),ke=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Xo(e.type,e.memoizedProps)),t&&(t=ct)){if(oa(e))throw Rc(),Error(n(418));for(;t;)Oc(e,t),t=ar(t.nextSibling)}if(Tc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){ct=ar(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}ct=null}}else ct=ut?ar(e.stateNode.nextSibling):null;return!0}function Rc(){for(var e=ct;e;)e=ar(e.nextSibling)}function ln(){ct=ut=null,ke=!1}function la(e){Ct===null?Ct=[e]:Ct.push(e)}var Ig=M.ReactCurrentBatchConfig;function ns(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(n(309));var a=i.stateNode}if(!a)throw Error(n(147,e));var d=a,h=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===h?t.ref:(t=function(g){var y=d.refs;g===null?delete y[h]:y[h]=g},t._stringRef=h,t)}if(typeof e!="string")throw Error(n(284));if(!i._owner)throw Error(n(290,e))}return e}function ai(e,t){throw e=Object.prototype.toString.call(t),Error(n(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xc(e){var t=e._init;return t(e._payload)}function jc(e){function t(T,O){if(e){var R=T.deletions;R===null?(T.deletions=[O],T.flags|=16):R.push(O)}}function i(T,O){if(!e)return null;for(;O!==null;)t(T,O),O=O.sibling;return null}function a(T,O){for(T=new Map;O!==null;)O.key!==null?T.set(O.key,O):T.set(O.index,O),O=O.sibling;return T}function d(T,O){return T=yr(T,O),T.index=0,T.sibling=null,T}function h(T,O,R){return T.index=R,e?(R=T.alternate,R!==null?(R=R.index,R<O?(T.flags|=2,O):R):(T.flags|=2,O)):(T.flags|=1048576,O)}function g(T){return e&&T.alternate===null&&(T.flags|=2),T}function y(T,O,R,F){return O===null||O.tag!==6?(O=Za(R,T.mode,F),O.return=T,O):(O=d(O,R),O.return=T,O)}function k(T,O,R,F){var K=R.type;return K===oe?$(T,O,R.props.children,F,R.key):O!==null&&(O.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===Xe&&xc(K)===O.type)?(F=d(O,R.props),F.ref=ns(T,O,R),F.return=T,F):(F=ji(R.type,R.key,R.props,null,T.mode,F),F.ref=ns(T,O,R),F.return=T,F)}function x(T,O,R,F){return O===null||O.tag!==4||O.stateNode.containerInfo!==R.containerInfo||O.stateNode.implementation!==R.implementation?(O=el(R,T.mode,F),O.return=T,O):(O=d(O,R.children||[]),O.return=T,O)}function $(T,O,R,F,K){return O===null||O.tag!==7?(O=$r(R,T.mode,F,K),O.return=T,O):(O=d(O,R),O.return=T,O)}function D(T,O,R){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Za(""+O,T.mode,R),O.return=T,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Y:return R=ji(O.type,O.key,O.props,null,T.mode,R),R.ref=ns(T,null,O),R.return=T,R;case X:return O=el(O,T.mode,R),O.return=T,O;case Xe:var F=O._init;return D(T,F(O._payload),R)}if(An(O)||re(O))return O=$r(O,T.mode,R,null),O.return=T,O;ai(T,O)}return null}function L(T,O,R,F){var K=O!==null?O.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return K!==null?null:y(T,O,""+R,F);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Y:return R.key===K?k(T,O,R,F):null;case X:return R.key===K?x(T,O,R,F):null;case Xe:return K=R._init,L(T,O,K(R._payload),F)}if(An(R)||re(R))return K!==null?null:$(T,O,R,F,null);ai(T,R)}return null}function z(T,O,R,F,K){if(typeof F=="string"&&F!==""||typeof F=="number")return T=T.get(R)||null,y(O,T,""+F,K);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Y:return T=T.get(F.key===null?R:F.key)||null,k(O,T,F,K);case X:return T=T.get(F.key===null?R:F.key)||null,x(O,T,F,K);case Xe:var Z=F._init;return z(T,O,R,Z(F._payload),K)}if(An(F)||re(F))return T=T.get(R)||null,$(O,T,F,K,null);ai(O,F)}return null}function W(T,O,R,F){for(var K=null,Z=null,ee=O,ne=O=0,Fe=null;ee!==null&&ne<R.length;ne++){ee.index>ne?(Fe=ee,ee=null):Fe=ee.sibling;var de=L(T,ee,R[ne],F);if(de===null){ee===null&&(ee=Fe);break}e&&ee&&de.alternate===null&&t(T,ee),O=h(de,O,ne),Z===null?K=de:Z.sibling=de,Z=de,ee=Fe}if(ne===R.length)return i(T,ee),ke&&Rr(T,ne),K;if(ee===null){for(;ne<R.length;ne++)ee=D(T,R[ne],F),ee!==null&&(O=h(ee,O,ne),Z===null?K=ee:Z.sibling=ee,Z=ee);return ke&&Rr(T,ne),K}for(ee=a(T,ee);ne<R.length;ne++)Fe=z(ee,T,ne,R[ne],F),Fe!==null&&(e&&Fe.alternate!==null&&ee.delete(Fe.key===null?ne:Fe.key),O=h(Fe,O,ne),Z===null?K=Fe:Z.sibling=Fe,Z=Fe);return e&&ee.forEach(function(wr){return t(T,wr)}),ke&&Rr(T,ne),K}function H(T,O,R,F){var K=re(R);if(typeof K!="function")throw Error(n(150));if(R=K.call(R),R==null)throw Error(n(151));for(var Z=K=null,ee=O,ne=O=0,Fe=null,de=R.next();ee!==null&&!de.done;ne++,de=R.next()){ee.index>ne?(Fe=ee,ee=null):Fe=ee.sibling;var wr=L(T,ee,de.value,F);if(wr===null){ee===null&&(ee=Fe);break}e&&ee&&wr.alternate===null&&t(T,ee),O=h(wr,O,ne),Z===null?K=wr:Z.sibling=wr,Z=wr,ee=Fe}if(de.done)return i(T,ee),ke&&Rr(T,ne),K;if(ee===null){for(;!de.done;ne++,de=R.next())de=D(T,de.value,F),de!==null&&(O=h(de,O,ne),Z===null?K=de:Z.sibling=de,Z=de);return ke&&Rr(T,ne),K}for(ee=a(T,ee);!de.done;ne++,de=R.next())de=z(ee,T,ne,de.value,F),de!==null&&(e&&de.alternate!==null&&ee.delete(de.key===null?ne:de.key),O=h(de,O,ne),Z===null?K=de:Z.sibling=de,Z=de);return e&&ee.forEach(function(hv){return t(T,hv)}),ke&&Rr(T,ne),K}function je(T,O,R,F){if(typeof R=="object"&&R!==null&&R.type===oe&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case Y:e:{for(var K=R.key,Z=O;Z!==null;){if(Z.key===K){if(K=R.type,K===oe){if(Z.tag===7){i(T,Z.sibling),O=d(Z,R.props.children),O.return=T,T=O;break e}}else if(Z.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===Xe&&xc(K)===Z.type){i(T,Z.sibling),O=d(Z,R.props),O.ref=ns(T,Z,R),O.return=T,T=O;break e}i(T,Z);break}else t(T,Z);Z=Z.sibling}R.type===oe?(O=$r(R.props.children,T.mode,F,R.key),O.return=T,T=O):(F=ji(R.type,R.key,R.props,null,T.mode,F),F.ref=ns(T,O,R),F.return=T,T=F)}return g(T);case X:e:{for(Z=R.key;O!==null;){if(O.key===Z)if(O.tag===4&&O.stateNode.containerInfo===R.containerInfo&&O.stateNode.implementation===R.implementation){i(T,O.sibling),O=d(O,R.children||[]),O.return=T,T=O;break e}else{i(T,O);break}else t(T,O);O=O.sibling}O=el(R,T.mode,F),O.return=T,T=O}return g(T);case Xe:return Z=R._init,je(T,O,Z(R._payload),F)}if(An(R))return W(T,O,R,F);if(re(R))return H(T,O,R,F);ai(T,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,O!==null&&O.tag===6?(i(T,O.sibling),O=d(O,R),O.return=T,T=O):(i(T,O),O=Za(R,T.mode,F),O.return=T,T=O),g(T)):i(T,O)}return je}var un=jc(!0),Ac=jc(!1),li=lr(null),ui=null,cn=null,ua=null;function ca(){ua=cn=ui=null}function da(e){var t=li.current;Se(li),e._currentValue=t}function ha(e,t,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===i)break;e=e.return}}function dn(e,t){ui=e,ua=cn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(tt=!0),e.firstContext=null)}function mt(e){var t=e._currentValue;if(ua!==e)if(e={context:e,memoizedValue:t,next:null},cn===null){if(ui===null)throw Error(n(308));cn=e,ui.dependencies={lanes:0,firstContext:e}}else cn=cn.next=e;return t}var xr=null;function fa(e){xr===null?xr=[e]:xr.push(e)}function Ic(e,t,i,a){var d=t.interleaved;return d===null?(i.next=i,fa(t)):(i.next=d.next,d.next=i),t.interleaved=i,Kt(e,a)}function Kt(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var dr=!1;function pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function hr(e,t,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(le&2)!==0){var d=a.pending;return d===null?t.next=t:(t.next=d.next,d.next=t),a.pending=t,Kt(e,i)}return d=a.interleaved,d===null?(t.next=t,fa(a)):(t.next=d.next,d.next=t),a.interleaved=t,Kt(e,i)}function ci(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,To(e,i)}}function Lc(e,t){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var d=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var g={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};h===null?d=h=g:h=h.next=g,i=i.next}while(i!==null);h===null?d=h=t:h=h.next=t}else d=h=t;i={baseState:a.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:a.shared,effects:a.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function di(e,t,i,a){var d=e.updateQueue;dr=!1;var h=d.firstBaseUpdate,g=d.lastBaseUpdate,y=d.shared.pending;if(y!==null){d.shared.pending=null;var k=y,x=k.next;k.next=null,g===null?h=x:g.next=x,g=k;var $=e.alternate;$!==null&&($=$.updateQueue,y=$.lastBaseUpdate,y!==g&&(y===null?$.firstBaseUpdate=x:y.next=x,$.lastBaseUpdate=k))}if(h!==null){var D=d.baseState;g=0,$=x=k=null,y=h;do{var L=y.lane,z=y.eventTime;if((a&L)===L){$!==null&&($=$.next={eventTime:z,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});e:{var W=e,H=y;switch(L=t,z=i,H.tag){case 1:if(W=H.payload,typeof W=="function"){D=W.call(z,D,L);break e}D=W;break e;case 3:W.flags=W.flags&-65537|128;case 0:if(W=H.payload,L=typeof W=="function"?W.call(z,D,L):W,L==null)break e;D=q({},D,L);break e;case 2:dr=!0}}y.callback!==null&&y.lane!==0&&(e.flags|=64,L=d.effects,L===null?d.effects=[y]:L.push(y))}else z={eventTime:z,lane:L,tag:y.tag,payload:y.payload,callback:y.callback,next:null},$===null?(x=$=z,k=D):$=$.next=z,g|=L;if(y=y.next,y===null){if(y=d.shared.pending,y===null)break;L=y,y=L.next,L.next=null,d.lastBaseUpdate=L,d.shared.pending=null}}while(!0);if($===null&&(k=D),d.baseState=k,d.firstBaseUpdate=x,d.lastBaseUpdate=$,t=d.shared.interleaved,t!==null){d=t;do g|=d.lane,d=d.next;while(d!==t)}else h===null&&(d.shared.lanes=0);Ir|=g,e.lanes=g,e.memoizedState=D}}function Uc(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],d=a.callback;if(d!==null){if(a.callback=null,a=i,typeof d!="function")throw Error(n(191,d));d.call(a)}}}var ss={},Dt=lr(ss),is=lr(ss),os=lr(ss);function jr(e){if(e===ss)throw Error(n(174));return e}function ga(e,t){switch(ve(os,t),ve(is,e),ve(Dt,ss),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:vo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=vo(t,e)}Se(Dt),ve(Dt,t)}function hn(){Se(Dt),Se(is),Se(os)}function $c(e){jr(os.current);var t=jr(Dt.current),i=vo(t,e.type);t!==i&&(ve(is,e),ve(Dt,i))}function va(e){is.current===e&&(Se(Dt),Se(is))}var be=lr(0);function hi(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ma=[];function ya(){for(var e=0;e<ma.length;e++)ma[e]._workInProgressVersionPrimary=null;ma.length=0}var fi=M.ReactCurrentDispatcher,wa=M.ReactCurrentBatchConfig,Ar=0,Ce=null,Le=null,De=null,pi=!1,as=!1,ls=0,Ng=0;function We(){throw Error(n(321))}function _a(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!bt(e[i],t[i]))return!1;return!0}function Sa(e,t,i,a,d,h){if(Ar=h,Ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fi.current=e===null||e.memoizedState===null?Dg:Mg,e=i(a,d),as){h=0;do{if(as=!1,ls=0,25<=h)throw Error(n(301));h+=1,De=Le=null,t.updateQueue=null,fi.current=Fg,e=i(a,d)}while(as)}if(fi.current=mi,t=Le!==null&&Le.next!==null,Ar=0,De=Le=Ce=null,pi=!1,t)throw Error(n(300));return e}function Ea(){var e=ls!==0;return ls=0,e}function Mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?Ce.memoizedState=De=e:De=De.next=e,De}function yt(){if(Le===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var t=De===null?Ce.memoizedState:De.next;if(t!==null)De=t,Le=e;else{if(e===null)throw Error(n(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},De===null?Ce.memoizedState=De=e:De=De.next=e}return De}function us(e,t){return typeof t=="function"?t(e):t}function ka(e){var t=yt(),i=t.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=e;var a=Le,d=a.baseQueue,h=i.pending;if(h!==null){if(d!==null){var g=d.next;d.next=h.next,h.next=g}a.baseQueue=d=h,i.pending=null}if(d!==null){h=d.next,a=a.baseState;var y=g=null,k=null,x=h;do{var $=x.lane;if((Ar&$)===$)k!==null&&(k=k.next={lane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),a=x.hasEagerState?x.eagerState:e(a,x.action);else{var D={lane:$,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null};k===null?(y=k=D,g=a):k=k.next=D,Ce.lanes|=$,Ir|=$}x=x.next}while(x!==null&&x!==h);k===null?g=a:k.next=y,bt(a,t.memoizedState)||(tt=!0),t.memoizedState=a,t.baseState=g,t.baseQueue=k,i.lastRenderedState=a}if(e=i.interleaved,e!==null){d=e;do h=d.lane,Ce.lanes|=h,Ir|=h,d=d.next;while(d!==e)}else d===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function ba(e){var t=yt(),i=t.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=e;var a=i.dispatch,d=i.pending,h=t.memoizedState;if(d!==null){i.pending=null;var g=d=d.next;do h=e(h,g.action),g=g.next;while(g!==d);bt(h,t.memoizedState)||(tt=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),i.lastRenderedState=h}return[h,a]}function Dc(){}function Mc(e,t){var i=Ce,a=yt(),d=t(),h=!bt(a.memoizedState,d);if(h&&(a.memoizedState=d,tt=!0),a=a.queue,Ca(zc.bind(null,i,a,e),[e]),a.getSnapshot!==t||h||De!==null&&De.memoizedState.tag&1){if(i.flags|=2048,cs(9,Bc.bind(null,i,a,d,t),void 0,null),Me===null)throw Error(n(349));(Ar&30)!==0||Fc(i,t,d)}return d}function Fc(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Bc(e,t,i,a){t.value=i,t.getSnapshot=a,Vc(t)&&qc(e)}function zc(e,t,i){return i(function(){Vc(t)&&qc(e)})}function Vc(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!bt(e,i)}catch{return!0}}function qc(e){var t=Kt(e,1);t!==null&&Rt(t,e,1,-1)}function Wc(e){var t=Mt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:e},t.queue=e,e=e.dispatch=$g.bind(null,Ce,e),[t.memoizedState,e]}function cs(e,t,i,a){return e={tag:e,create:t,destroy:i,deps:a,next:null},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,t.lastEffect=e)),e}function Hc(){return yt().memoizedState}function gi(e,t,i,a){var d=Mt();Ce.flags|=e,d.memoizedState=cs(1|t,i,void 0,a===void 0?null:a)}function vi(e,t,i,a){var d=yt();a=a===void 0?null:a;var h=void 0;if(Le!==null){var g=Le.memoizedState;if(h=g.destroy,a!==null&&_a(a,g.deps)){d.memoizedState=cs(t,i,h,a);return}}Ce.flags|=e,d.memoizedState=cs(1|t,i,h,a)}function Kc(e,t){return gi(8390656,8,e,t)}function Ca(e,t){return vi(2048,8,e,t)}function Qc(e,t){return vi(4,2,e,t)}function Gc(e,t){return vi(4,4,e,t)}function Jc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Yc(e,t,i){return i=i!=null?i.concat([e]):null,vi(4,4,Jc.bind(null,t,e),i)}function Oa(){}function Xc(e,t){var i=yt();t=t===void 0?null:t;var a=i.memoizedState;return a!==null&&t!==null&&_a(t,a[1])?a[0]:(i.memoizedState=[e,t],e)}function Zc(e,t){var i=yt();t=t===void 0?null:t;var a=i.memoizedState;return a!==null&&t!==null&&_a(t,a[1])?a[0]:(e=e(),i.memoizedState=[e,t],e)}function ed(e,t,i){return(Ar&21)===0?(e.baseState&&(e.baseState=!1,tt=!0),e.memoizedState=i):(bt(i,t)||(i=xu(),Ce.lanes|=i,Ir|=i,e.baseState=!0),t)}function Lg(e,t){var i=fe;fe=i!==0&&4>i?i:4,e(!0);var a=wa.transition;wa.transition={};try{e(!1),t()}finally{fe=i,wa.transition=a}}function td(){return yt().memoizedState}function Ug(e,t,i){var a=vr(e);if(i={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null},rd(e))nd(t,i);else if(i=Ic(e,t,i,a),i!==null){var d=Je();Rt(i,e,a,d),sd(i,t,a)}}function $g(e,t,i){var a=vr(e),d={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null};if(rd(e))nd(t,d);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var g=t.lastRenderedState,y=h(g,i);if(d.hasEagerState=!0,d.eagerState=y,bt(y,g)){var k=t.interleaved;k===null?(d.next=d,fa(t)):(d.next=k.next,k.next=d),t.interleaved=d;return}}catch{}finally{}i=Ic(e,t,d,a),i!==null&&(d=Je(),Rt(i,e,a,d),sd(i,t,a))}}function rd(e){var t=e.alternate;return e===Ce||t!==null&&t===Ce}function nd(e,t){as=pi=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function sd(e,t,i){if((i&4194240)!==0){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,To(e,i)}}var mi={readContext:mt,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useInsertionEffect:We,useLayoutEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useMutableSource:We,useSyncExternalStore:We,useId:We,unstable_isNewReconciler:!1},Dg={readContext:mt,useCallback:function(e,t){return Mt().memoizedState=[e,t===void 0?null:t],e},useContext:mt,useEffect:Kc,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,gi(4194308,4,Jc.bind(null,t,e),i)},useLayoutEffect:function(e,t){return gi(4194308,4,e,t)},useInsertionEffect:function(e,t){return gi(4,2,e,t)},useMemo:function(e,t){var i=Mt();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var a=Mt();return t=i!==void 0?i(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=Ug.bind(null,Ce,e),[a.memoizedState,e]},useRef:function(e){var t=Mt();return e={current:e},t.memoizedState=e},useState:Wc,useDebugValue:Oa,useDeferredValue:function(e){return Mt().memoizedState=e},useTransition:function(){var e=Wc(!1),t=e[0];return e=Lg.bind(null,e[1]),Mt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var a=Ce,d=Mt();if(ke){if(i===void 0)throw Error(n(407));i=i()}else{if(i=t(),Me===null)throw Error(n(349));(Ar&30)!==0||Fc(a,t,i)}d.memoizedState=i;var h={value:i,getSnapshot:t};return d.queue=h,Kc(zc.bind(null,a,h,e),[e]),a.flags|=2048,cs(9,Bc.bind(null,a,h,i,t),void 0,null),i},useId:function(){var e=Mt(),t=Me.identifierPrefix;if(ke){var i=Ht,a=Wt;i=(a&~(1<<32-kt(a)-1)).toString(32)+i,t=":"+t+"R"+i,i=ls++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=Ng++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Mg={readContext:mt,useCallback:Xc,useContext:mt,useEffect:Ca,useImperativeHandle:Yc,useInsertionEffect:Qc,useLayoutEffect:Gc,useMemo:Zc,useReducer:ka,useRef:Hc,useState:function(){return ka(us)},useDebugValue:Oa,useDeferredValue:function(e){var t=yt();return ed(t,Le.memoizedState,e)},useTransition:function(){var e=ka(us)[0],t=yt().memoizedState;return[e,t]},useMutableSource:Dc,useSyncExternalStore:Mc,useId:td,unstable_isNewReconciler:!1},Fg={readContext:mt,useCallback:Xc,useContext:mt,useEffect:Ca,useImperativeHandle:Yc,useInsertionEffect:Qc,useLayoutEffect:Gc,useMemo:Zc,useReducer:ba,useRef:Hc,useState:function(){return ba(us)},useDebugValue:Oa,useDeferredValue:function(e){var t=yt();return Le===null?t.memoizedState=e:ed(t,Le.memoizedState,e)},useTransition:function(){var e=ba(us)[0],t=yt().memoizedState;return[e,t]},useMutableSource:Dc,useSyncExternalStore:Mc,useId:td,unstable_isNewReconciler:!1};function Ot(e,t){if(e&&e.defaultProps){t=q({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function Pa(e,t,i,a){t=e.memoizedState,i=i(a,t),i=i==null?t:q({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var yi={isMounted:function(e){return(e=e._reactInternals)?Cr(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var a=Je(),d=vr(e),h=Qt(a,d);h.payload=t,i!=null&&(h.callback=i),t=hr(e,h,d),t!==null&&(Rt(t,e,d,a),ci(t,e,d))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var a=Je(),d=vr(e),h=Qt(a,d);h.tag=1,h.payload=t,i!=null&&(h.callback=i),t=hr(e,h,d),t!==null&&(Rt(t,e,d,a),ci(t,e,d))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Je(),a=vr(e),d=Qt(i,a);d.tag=2,t!=null&&(d.callback=t),t=hr(e,d,a),t!==null&&(Rt(t,e,a,i),ci(t,e,a))}};function id(e,t,i,a,d,h,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,h,g):t.prototype&&t.prototype.isPureReactComponent?!Jn(i,a)||!Jn(d,h):!0}function od(e,t,i){var a=!1,d=ur,h=t.contextType;return typeof h=="object"&&h!==null?h=mt(h):(d=et(t)?Pr:qe.current,a=t.contextTypes,h=(a=a!=null)?sn(e,d):ur),t=new t(i,h),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=yi,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=d,e.__reactInternalMemoizedMaskedChildContext=h),t}function ad(e,t,i,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,a),t.state!==e&&yi.enqueueReplaceState(t,t.state,null)}function Ta(e,t,i,a){var d=e.stateNode;d.props=i,d.state=e.memoizedState,d.refs={},pa(e);var h=t.contextType;typeof h=="object"&&h!==null?d.context=mt(h):(h=et(t)?Pr:qe.current,d.context=sn(e,h)),d.state=e.memoizedState,h=t.getDerivedStateFromProps,typeof h=="function"&&(Pa(e,t,h,i),d.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(t=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),t!==d.state&&yi.enqueueReplaceState(d,d.state,null),di(e,i,d,a),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308)}function fn(e,t){try{var i="",a=t;do i+=ue(a),a=a.return;while(a);var d=i}catch(h){d=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:t,stack:d,digest:null}}function Ra(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function xa(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var Bg=typeof WeakMap=="function"?WeakMap:Map;function ld(e,t,i){i=Qt(-1,i),i.tag=3,i.payload={element:null};var a=t.value;return i.callback=function(){Ci||(Ci=!0,Wa=a),xa(e,t)},i}function ud(e,t,i){i=Qt(-1,i),i.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var d=t.value;i.payload=function(){return a(d)},i.callback=function(){xa(e,t)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(i.callback=function(){xa(e,t),typeof a!="function"&&(pr===null?pr=new Set([this]):pr.add(this));var g=t.stack;this.componentDidCatch(t.value,{componentStack:g!==null?g:""})}),i}function cd(e,t,i){var a=e.pingCache;if(a===null){a=e.pingCache=new Bg;var d=new Set;a.set(t,d)}else d=a.get(t),d===void 0&&(d=new Set,a.set(t,d));d.has(i)||(d.add(i),e=tv.bind(null,e,t,i),t.then(e,e))}function dd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function hd(e,t,i,a,d){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=Qt(-1,1),t.tag=2,hr(i,t,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=d,e)}var zg=M.ReactCurrentOwner,tt=!1;function Ge(e,t,i,a){t.child=e===null?Ac(t,null,i,a):un(t,e.child,i,a)}function fd(e,t,i,a,d){i=i.render;var h=t.ref;return dn(t,d),a=Sa(e,t,i,a,h,d),i=Ea(),e!==null&&!tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,Gt(e,t,d)):(ke&&i&&sa(t),t.flags|=1,Ge(e,t,a,d),t.child)}function pd(e,t,i,a,d){if(e===null){var h=i.type;return typeof h=="function"&&!Xa(h)&&h.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=h,gd(e,t,h,a,d)):(e=ji(i.type,null,a,t,t.mode,d),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,(e.lanes&d)===0){var g=h.memoizedProps;if(i=i.compare,i=i!==null?i:Jn,i(g,a)&&e.ref===t.ref)return Gt(e,t,d)}return t.flags|=1,e=yr(h,a),e.ref=t.ref,e.return=t,t.child=e}function gd(e,t,i,a,d){if(e!==null){var h=e.memoizedProps;if(Jn(h,a)&&e.ref===t.ref)if(tt=!1,t.pendingProps=a=h,(e.lanes&d)!==0)(e.flags&131072)!==0&&(tt=!0);else return t.lanes=e.lanes,Gt(e,t,d)}return ja(e,t,i,a,d)}function vd(e,t,i){var a=t.pendingProps,d=a.children,h=e!==null?e.memoizedState:null;if(a.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ve(gn,dt),dt|=i;else{if((i&1073741824)===0)return e=h!==null?h.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ve(gn,dt),dt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=h!==null?h.baseLanes:i,ve(gn,dt),dt|=a}else h!==null?(a=h.baseLanes|i,t.memoizedState=null):a=i,ve(gn,dt),dt|=a;return Ge(e,t,d,i),t.child}function md(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function ja(e,t,i,a,d){var h=et(i)?Pr:qe.current;return h=sn(t,h),dn(t,d),i=Sa(e,t,i,a,h,d),a=Ea(),e!==null&&!tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,Gt(e,t,d)):(ke&&a&&sa(t),t.flags|=1,Ge(e,t,i,d),t.child)}function yd(e,t,i,a,d){if(et(i)){var h=!0;ri(t)}else h=!1;if(dn(t,d),t.stateNode===null)_i(e,t),od(t,i,a),Ta(t,i,a,d),a=!0;else if(e===null){var g=t.stateNode,y=t.memoizedProps;g.props=y;var k=g.context,x=i.contextType;typeof x=="object"&&x!==null?x=mt(x):(x=et(i)?Pr:qe.current,x=sn(t,x));var $=i.getDerivedStateFromProps,D=typeof $=="function"||typeof g.getSnapshotBeforeUpdate=="function";D||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(y!==a||k!==x)&&ad(t,g,a,x),dr=!1;var L=t.memoizedState;g.state=L,di(t,a,g,d),k=t.memoizedState,y!==a||L!==k||Ze.current||dr?(typeof $=="function"&&(Pa(t,i,$,a),k=t.memoizedState),(y=dr||id(t,i,y,a,L,k,x))?(D||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=k),g.props=a,g.state=k,g.context=x,a=y):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{g=t.stateNode,Nc(e,t),y=t.memoizedProps,x=t.type===t.elementType?y:Ot(t.type,y),g.props=x,D=t.pendingProps,L=g.context,k=i.contextType,typeof k=="object"&&k!==null?k=mt(k):(k=et(i)?Pr:qe.current,k=sn(t,k));var z=i.getDerivedStateFromProps;($=typeof z=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(y!==D||L!==k)&&ad(t,g,a,k),dr=!1,L=t.memoizedState,g.state=L,di(t,a,g,d);var W=t.memoizedState;y!==D||L!==W||Ze.current||dr?(typeof z=="function"&&(Pa(t,i,z,a),W=t.memoizedState),(x=dr||id(t,i,x,a,L,W,k)||!1)?($||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(a,W,k),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(a,W,k)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||y===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=W),g.props=a,g.state=W,g.context=k,a=x):(typeof g.componentDidUpdate!="function"||y===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),a=!1)}return Aa(e,t,i,a,h,d)}function Aa(e,t,i,a,d,h){md(e,t);var g=(t.flags&128)!==0;if(!a&&!g)return d&&kc(t,i,!1),Gt(e,t,h);a=t.stateNode,zg.current=t;var y=g&&typeof i.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&g?(t.child=un(t,e.child,null,h),t.child=un(t,null,y,h)):Ge(e,t,y,h),t.memoizedState=a.state,d&&kc(t,i,!0),t.child}function wd(e){var t=e.stateNode;t.pendingContext?Sc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Sc(e,t.context,!1),ga(e,t.containerInfo)}function _d(e,t,i,a,d){return ln(),la(d),t.flags|=256,Ge(e,t,i,a),t.child}var Ia={dehydrated:null,treeContext:null,retryLane:0};function Na(e){return{baseLanes:e,cachePool:null,transitions:null}}function Sd(e,t,i){var a=t.pendingProps,d=be.current,h=!1,g=(t.flags&128)!==0,y;if((y=g)||(y=e!==null&&e.memoizedState===null?!1:(d&2)!==0),y?(h=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(d|=1),ve(be,d&1),e===null)return aa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(g=a.children,e=a.fallback,h?(a=t.mode,h=t.child,g={mode:"hidden",children:g},(a&1)===0&&h!==null?(h.childLanes=0,h.pendingProps=g):h=Ai(g,a,0,null),e=$r(e,a,i,null),h.return=t,e.return=t,h.sibling=e,t.child=h,t.child.memoizedState=Na(i),t.memoizedState=Ia,e):La(t,g));if(d=e.memoizedState,d!==null&&(y=d.dehydrated,y!==null))return Vg(e,t,g,a,y,d,i);if(h){h=a.fallback,g=t.mode,d=e.child,y=d.sibling;var k={mode:"hidden",children:a.children};return(g&1)===0&&t.child!==d?(a=t.child,a.childLanes=0,a.pendingProps=k,t.deletions=null):(a=yr(d,k),a.subtreeFlags=d.subtreeFlags&14680064),y!==null?h=yr(y,h):(h=$r(h,g,i,null),h.flags|=2),h.return=t,a.return=t,a.sibling=h,t.child=a,a=h,h=t.child,g=e.child.memoizedState,g=g===null?Na(i):{baseLanes:g.baseLanes|i,cachePool:null,transitions:g.transitions},h.memoizedState=g,h.childLanes=e.childLanes&~i,t.memoizedState=Ia,a}return h=e.child,e=h.sibling,a=yr(h,{mode:"visible",children:a.children}),(t.mode&1)===0&&(a.lanes=i),a.return=t,a.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=a,t.memoizedState=null,a}function La(e,t){return t=Ai({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function wi(e,t,i,a){return a!==null&&la(a),un(t,e.child,null,i),e=La(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Vg(e,t,i,a,d,h,g){if(i)return t.flags&256?(t.flags&=-257,a=Ra(Error(n(422))),wi(e,t,g,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(h=a.fallback,d=t.mode,a=Ai({mode:"visible",children:a.children},d,0,null),h=$r(h,d,g,null),h.flags|=2,a.return=t,h.return=t,a.sibling=h,t.child=a,(t.mode&1)!==0&&un(t,e.child,null,g),t.child.memoizedState=Na(g),t.memoizedState=Ia,h);if((t.mode&1)===0)return wi(e,t,g,null);if(d.data==="$!"){if(a=d.nextSibling&&d.nextSibling.dataset,a)var y=a.dgst;return a=y,h=Error(n(419)),a=Ra(h,a,void 0),wi(e,t,g,a)}if(y=(g&e.childLanes)!==0,tt||y){if(a=Me,a!==null){switch(g&-g){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(a.suspendedLanes|g))!==0?0:d,d!==0&&d!==h.retryLane&&(h.retryLane=d,Kt(e,d),Rt(a,e,d,-1))}return Ya(),a=Ra(Error(n(421))),wi(e,t,g,a)}return d.data==="$?"?(t.flags|=128,t.child=e.child,t=rv.bind(null,e),d._reactRetry=t,null):(e=h.treeContext,ct=ar(d.nextSibling),ut=t,ke=!0,Ct=null,e!==null&&(gt[vt++]=Wt,gt[vt++]=Ht,gt[vt++]=Tr,Wt=e.id,Ht=e.overflow,Tr=t),t=La(t,a.children),t.flags|=4096,t)}function Ed(e,t,i){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),ha(e.return,t,i)}function Ua(e,t,i,a,d){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:d}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=a,h.tail=i,h.tailMode=d)}function kd(e,t,i){var a=t.pendingProps,d=a.revealOrder,h=a.tail;if(Ge(e,t,a.children,i),a=be.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ed(e,i,t);else if(e.tag===19)Ed(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(ve(be,a),(t.mode&1)===0)t.memoizedState=null;else switch(d){case"forwards":for(i=t.child,d=null;i!==null;)e=i.alternate,e!==null&&hi(e)===null&&(d=i),i=i.sibling;i=d,i===null?(d=t.child,t.child=null):(d=i.sibling,i.sibling=null),Ua(t,!1,d,i,h);break;case"backwards":for(i=null,d=t.child,t.child=null;d!==null;){if(e=d.alternate,e!==null&&hi(e)===null){t.child=d;break}e=d.sibling,d.sibling=i,i=d,d=e}Ua(t,!0,i,null,h);break;case"together":Ua(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _i(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gt(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Ir|=t.lanes,(i&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(n(153));if(t.child!==null){for(e=t.child,i=yr(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=yr(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function qg(e,t,i){switch(t.tag){case 3:wd(t),ln();break;case 5:$c(t);break;case 1:et(t.type)&&ri(t);break;case 4:ga(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,d=t.memoizedProps.value;ve(li,a._currentValue),a._currentValue=d;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(ve(be,be.current&1),t.flags|=128,null):(i&t.child.childLanes)!==0?Sd(e,t,i):(ve(be,be.current&1),e=Gt(e,t,i),e!==null?e.sibling:null);ve(be,be.current&1);break;case 19:if(a=(i&t.childLanes)!==0,(e.flags&128)!==0){if(a)return kd(e,t,i);t.flags|=128}if(d=t.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ve(be,be.current),a)break;return null;case 22:case 23:return t.lanes=0,vd(e,t,i)}return Gt(e,t,i)}var bd,$a,Cd,Od;bd=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},$a=function(){},Cd=function(e,t,i,a){var d=e.memoizedProps;if(d!==a){e=t.stateNode,jr(Dt.current);var h=null;switch(i){case"input":d=ho(e,d),a=ho(e,a),h=[];break;case"select":d=q({},d,{value:void 0}),a=q({},a,{value:void 0}),h=[];break;case"textarea":d=go(e,d),a=go(e,a),h=[];break;default:typeof d.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Zs)}mo(i,a);var g;i=null;for(x in d)if(!a.hasOwnProperty(x)&&d.hasOwnProperty(x)&&d[x]!=null)if(x==="style"){var y=d[x];for(g in y)y.hasOwnProperty(g)&&(i||(i={}),i[g]="")}else x!=="dangerouslySetInnerHTML"&&x!=="children"&&x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(l.hasOwnProperty(x)?h||(h=[]):(h=h||[]).push(x,null));for(x in a){var k=a[x];if(y=d?.[x],a.hasOwnProperty(x)&&k!==y&&(k!=null||y!=null))if(x==="style")if(y){for(g in y)!y.hasOwnProperty(g)||k&&k.hasOwnProperty(g)||(i||(i={}),i[g]="");for(g in k)k.hasOwnProperty(g)&&y[g]!==k[g]&&(i||(i={}),i[g]=k[g])}else i||(h||(h=[]),h.push(x,i)),i=k;else x==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,y=y?y.__html:void 0,k!=null&&y!==k&&(h=h||[]).push(x,k)):x==="children"?typeof k!="string"&&typeof k!="number"||(h=h||[]).push(x,""+k):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&(l.hasOwnProperty(x)?(k!=null&&x==="onScroll"&&_e("scroll",e),h||y===k||(h=[])):(h=h||[]).push(x,k))}i&&(h=h||[]).push("style",i);var x=h;(t.updateQueue=x)&&(t.flags|=4)}},Od=function(e,t,i,a){i!==a&&(t.flags|=4)};function ds(e,t){if(!ke)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function He(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(t)for(var d=e.child;d!==null;)i|=d.lanes|d.childLanes,a|=d.subtreeFlags&14680064,a|=d.flags&14680064,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)i|=d.lanes|d.childLanes,a|=d.subtreeFlags,a|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=a,e.childLanes=i,t}function Wg(e,t,i){var a=t.pendingProps;switch(ia(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(t),null;case 1:return et(t.type)&&ti(),He(t),null;case 3:return a=t.stateNode,hn(),Se(Ze),Se(qe),ya(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(oi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ct!==null&&(Qa(Ct),Ct=null))),$a(e,t),He(t),null;case 5:va(t);var d=jr(os.current);if(i=t.type,e!==null&&t.stateNode!=null)Cd(e,t,i,a,d),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(n(166));return He(t),null}if(e=jr(Dt.current),oi(t)){a=t.stateNode,i=t.type;var h=t.memoizedProps;switch(a[$t]=t,a[ts]=h,e=(t.mode&1)!==0,i){case"dialog":_e("cancel",a),_e("close",a);break;case"iframe":case"object":case"embed":_e("load",a);break;case"video":case"audio":for(d=0;d<Xn.length;d++)_e(Xn[d],a);break;case"source":_e("error",a);break;case"img":case"image":case"link":_e("error",a),_e("load",a);break;case"details":_e("toggle",a);break;case"input":ou(a,h),_e("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!h.multiple},_e("invalid",a);break;case"textarea":uu(a,h),_e("invalid",a)}mo(i,h),d=null;for(var g in h)if(h.hasOwnProperty(g)){var y=h[g];g==="children"?typeof y=="string"?a.textContent!==y&&(h.suppressHydrationWarning!==!0&&Xs(a.textContent,y,e),d=["children",y]):typeof y=="number"&&a.textContent!==""+y&&(h.suppressHydrationWarning!==!0&&Xs(a.textContent,y,e),d=["children",""+y]):l.hasOwnProperty(g)&&y!=null&&g==="onScroll"&&_e("scroll",a)}switch(i){case"input":Rs(a),lu(a,h,!0);break;case"textarea":Rs(a),du(a);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(a.onclick=Zs)}a=d,t.updateQueue=a,a!==null&&(t.flags|=4)}else{g=d.nodeType===9?d:d.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=hu(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=g.createElement(i,{is:a.is}):(e=g.createElement(i),i==="select"&&(g=e,a.multiple?g.multiple=!0:a.size&&(g.size=a.size))):e=g.createElementNS(e,i),e[$t]=t,e[ts]=a,bd(e,t,!1,!1),t.stateNode=e;e:{switch(g=yo(i,a),i){case"dialog":_e("cancel",e),_e("close",e),d=a;break;case"iframe":case"object":case"embed":_e("load",e),d=a;break;case"video":case"audio":for(d=0;d<Xn.length;d++)_e(Xn[d],e);d=a;break;case"source":_e("error",e),d=a;break;case"img":case"image":case"link":_e("error",e),_e("load",e),d=a;break;case"details":_e("toggle",e),d=a;break;case"input":ou(e,a),d=ho(e,a),_e("invalid",e);break;case"option":d=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},d=q({},a,{value:void 0}),_e("invalid",e);break;case"textarea":uu(e,a),d=go(e,a),_e("invalid",e);break;default:d=a}mo(i,d),y=d;for(h in y)if(y.hasOwnProperty(h)){var k=y[h];h==="style"?gu(e,k):h==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&fu(e,k)):h==="children"?typeof k=="string"?(i!=="textarea"||k!=="")&&In(e,k):typeof k=="number"&&In(e,""+k):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(l.hasOwnProperty(h)?k!=null&&h==="onScroll"&&_e("scroll",e):k!=null&&A(e,h,k,g))}switch(i){case"input":Rs(e),lu(e,a,!1);break;case"textarea":Rs(e),du(e);break;case"option":a.value!=null&&e.setAttribute("value",""+he(a.value));break;case"select":e.multiple=!!a.multiple,h=a.value,h!=null?Hr(e,!!a.multiple,h,!1):a.defaultValue!=null&&Hr(e,!!a.multiple,a.defaultValue,!0);break;default:typeof d.onClick=="function"&&(e.onclick=Zs)}switch(i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return He(t),null;case 6:if(e&&t.stateNode!=null)Od(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(n(166));if(i=jr(os.current),jr(Dt.current),oi(t)){if(a=t.stateNode,i=t.memoizedProps,a[$t]=t,(h=a.nodeValue!==i)&&(e=ut,e!==null))switch(e.tag){case 3:Xs(a.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Xs(a.nodeValue,i,(e.mode&1)!==0)}h&&(t.flags|=4)}else a=(i.nodeType===9?i:i.ownerDocument).createTextNode(a),a[$t]=t,t.stateNode=a}return He(t),null;case 13:if(Se(be),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ke&&ct!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Rc(),ln(),t.flags|=98560,h=!1;else if(h=oi(t),a!==null&&a.dehydrated!==null){if(e===null){if(!h)throw Error(n(318));if(h=t.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(317));h[$t]=t}else ln(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;He(t),h=!1}else Ct!==null&&(Qa(Ct),Ct=null),h=!0;if(!h)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=i,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(be.current&1)!==0?Ue===0&&(Ue=3):Ya())),t.updateQueue!==null&&(t.flags|=4),He(t),null);case 4:return hn(),$a(e,t),e===null&&Zn(t.stateNode.containerInfo),He(t),null;case 10:return da(t.type._context),He(t),null;case 17:return et(t.type)&&ti(),He(t),null;case 19:if(Se(be),h=t.memoizedState,h===null)return He(t),null;if(a=(t.flags&128)!==0,g=h.rendering,g===null)if(a)ds(h,!1);else{if(Ue!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(g=hi(e),g!==null){for(t.flags|=128,ds(h,!1),a=g.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=i,i=t.child;i!==null;)h=i,e=a,h.flags&=14680066,g=h.alternate,g===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=g.childLanes,h.lanes=g.lanes,h.child=g.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=g.memoizedProps,h.memoizedState=g.memoizedState,h.updateQueue=g.updateQueue,h.type=g.type,e=g.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return ve(be,be.current&1|2),t.child}e=e.sibling}h.tail!==null&&xe()>vn&&(t.flags|=128,a=!0,ds(h,!1),t.lanes=4194304)}else{if(!a)if(e=hi(g),e!==null){if(t.flags|=128,a=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),ds(h,!0),h.tail===null&&h.tailMode==="hidden"&&!g.alternate&&!ke)return He(t),null}else 2*xe()-h.renderingStartTime>vn&&i!==1073741824&&(t.flags|=128,a=!0,ds(h,!1),t.lanes=4194304);h.isBackwards?(g.sibling=t.child,t.child=g):(i=h.last,i!==null?i.sibling=g:t.child=g,h.last=g)}return h.tail!==null?(t=h.tail,h.rendering=t,h.tail=t.sibling,h.renderingStartTime=xe(),t.sibling=null,i=be.current,ve(be,a?i&1|2:i&1),t):(He(t),null);case 22:case 23:return Ja(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&(t.mode&1)!==0?(dt&1073741824)!==0&&(He(t),t.subtreeFlags&6&&(t.flags|=8192)):He(t),null;case 24:return null;case 25:return null}throw Error(n(156,t.tag))}function Hg(e,t){switch(ia(t),t.tag){case 1:return et(t.type)&&ti(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hn(),Se(Ze),Se(qe),ya(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return va(t),null;case 13:if(Se(be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(n(340));ln()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Se(be),null;case 4:return hn(),null;case 10:return da(t.type._context),null;case 22:case 23:return Ja(),null;case 24:return null;default:return null}}var Si=!1,Ke=!1,Kg=typeof WeakSet=="function"?WeakSet:Set,V=null;function pn(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(a){Re(e,t,a)}else i.current=null}function Da(e,t,i){try{i()}catch(a){Re(e,t,a)}}var Pd=!1;function Qg(e,t){if(Jo=Bs,e=ic(),zo(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var d=a.anchorOffset,h=a.focusNode;a=a.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break e}var g=0,y=-1,k=-1,x=0,$=0,D=e,L=null;t:for(;;){for(var z;D!==i||d!==0&&D.nodeType!==3||(y=g+d),D!==h||a!==0&&D.nodeType!==3||(k=g+a),D.nodeType===3&&(g+=D.nodeValue.length),(z=D.firstChild)!==null;)L=D,D=z;for(;;){if(D===e)break t;if(L===i&&++x===d&&(y=g),L===h&&++$===a&&(k=g),(z=D.nextSibling)!==null)break;D=L,L=D.parentNode}D=z}i=y===-1||k===-1?null:{start:y,end:k}}else i=null}i=i||{start:0,end:0}}else i=null;for(Yo={focusedElem:e,selectionRange:i},Bs=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var W=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(W!==null){var H=W.memoizedProps,je=W.memoizedState,T=t.stateNode,O=T.getSnapshotBeforeUpdate(t.elementType===t.type?H:Ot(t.type,H),je);T.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var R=t.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(F){Re(t,t.return,F)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return W=Pd,Pd=!1,W}function hs(e,t,i){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var d=a=a.next;do{if((d.tag&e)===e){var h=d.destroy;d.destroy=void 0,h!==void 0&&Da(t,i,h)}d=d.next}while(d!==a)}}function Ei(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var a=i.create;i.destroy=a()}i=i.next}while(i!==t)}}function Ma(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function Td(e){var t=e.alternate;t!==null&&(e.alternate=null,Td(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[$t],delete t[ts],delete t[ta],delete t[xg],delete t[jg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Rd(e){return e.tag===5||e.tag===3||e.tag===4}function xd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Rd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fa(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Zs));else if(a!==4&&(e=e.child,e!==null))for(Fa(e,t,i),e=e.sibling;e!==null;)Fa(e,t,i),e=e.sibling}function Ba(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Ba(e,t,i),e=e.sibling;e!==null;)Ba(e,t,i),e=e.sibling}var Be=null,Pt=!1;function fr(e,t,i){for(i=i.child;i!==null;)jd(e,t,i),i=i.sibling}function jd(e,t,i){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(Ls,i)}catch{}switch(i.tag){case 5:Ke||pn(i,t);case 6:var a=Be,d=Pt;Be=null,fr(e,t,i),Be=a,Pt=d,Be!==null&&(Pt?(e=Be,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):Be.removeChild(i.stateNode));break;case 18:Be!==null&&(Pt?(e=Be,i=i.stateNode,e.nodeType===8?ea(e.parentNode,i):e.nodeType===1&&ea(e,i),qn(e)):ea(Be,i.stateNode));break;case 4:a=Be,d=Pt,Be=i.stateNode.containerInfo,Pt=!0,fr(e,t,i),Be=a,Pt=d;break;case 0:case 11:case 14:case 15:if(!Ke&&(a=i.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){d=a=a.next;do{var h=d,g=h.destroy;h=h.tag,g!==void 0&&((h&2)!==0||(h&4)!==0)&&Da(i,t,g),d=d.next}while(d!==a)}fr(e,t,i);break;case 1:if(!Ke&&(pn(i,t),a=i.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(y){Re(i,t,y)}fr(e,t,i);break;case 21:fr(e,t,i);break;case 22:i.mode&1?(Ke=(a=Ke)||i.memoizedState!==null,fr(e,t,i),Ke=a):fr(e,t,i);break;default:fr(e,t,i)}}function Ad(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Kg),t.forEach(function(a){var d=nv.bind(null,e,a);i.has(a)||(i.add(a),a.then(d,d))})}}function Tt(e,t){var i=t.deletions;if(i!==null)for(var a=0;a<i.length;a++){var d=i[a];try{var h=e,g=t,y=g;e:for(;y!==null;){switch(y.tag){case 5:Be=y.stateNode,Pt=!1;break e;case 3:Be=y.stateNode.containerInfo,Pt=!0;break e;case 4:Be=y.stateNode.containerInfo,Pt=!0;break e}y=y.return}if(Be===null)throw Error(n(160));jd(h,g,d),Be=null,Pt=!1;var k=d.alternate;k!==null&&(k.return=null),d.return=null}catch(x){Re(d,t,x)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Id(t,e),t=t.sibling}function Id(e,t){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Tt(t,e),Ft(e),a&4){try{hs(3,e,e.return),Ei(3,e)}catch(H){Re(e,e.return,H)}try{hs(5,e,e.return)}catch(H){Re(e,e.return,H)}}break;case 1:Tt(t,e),Ft(e),a&512&&i!==null&&pn(i,i.return);break;case 5:if(Tt(t,e),Ft(e),a&512&&i!==null&&pn(i,i.return),e.flags&32){var d=e.stateNode;try{In(d,"")}catch(H){Re(e,e.return,H)}}if(a&4&&(d=e.stateNode,d!=null)){var h=e.memoizedProps,g=i!==null?i.memoizedProps:h,y=e.type,k=e.updateQueue;if(e.updateQueue=null,k!==null)try{y==="input"&&h.type==="radio"&&h.name!=null&&au(d,h),yo(y,g);var x=yo(y,h);for(g=0;g<k.length;g+=2){var $=k[g],D=k[g+1];$==="style"?gu(d,D):$==="dangerouslySetInnerHTML"?fu(d,D):$==="children"?In(d,D):A(d,$,D,x)}switch(y){case"input":fo(d,h);break;case"textarea":cu(d,h);break;case"select":var L=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!h.multiple;var z=h.value;z!=null?Hr(d,!!h.multiple,z,!1):L!==!!h.multiple&&(h.defaultValue!=null?Hr(d,!!h.multiple,h.defaultValue,!0):Hr(d,!!h.multiple,h.multiple?[]:"",!1))}d[ts]=h}catch(H){Re(e,e.return,H)}}break;case 6:if(Tt(t,e),Ft(e),a&4){if(e.stateNode===null)throw Error(n(162));d=e.stateNode,h=e.memoizedProps;try{d.nodeValue=h}catch(H){Re(e,e.return,H)}}break;case 3:if(Tt(t,e),Ft(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{qn(t.containerInfo)}catch(H){Re(e,e.return,H)}break;case 4:Tt(t,e),Ft(e);break;case 13:Tt(t,e),Ft(e),d=e.child,d.flags&8192&&(h=d.memoizedState!==null,d.stateNode.isHidden=h,!h||d.alternate!==null&&d.alternate.memoizedState!==null||(qa=xe())),a&4&&Ad(e);break;case 22:if($=i!==null&&i.memoizedState!==null,e.mode&1?(Ke=(x=Ke)||$,Tt(t,e),Ke=x):Tt(t,e),Ft(e),a&8192){if(x=e.memoizedState!==null,(e.stateNode.isHidden=x)&&!$&&(e.mode&1)!==0)for(V=e,$=e.child;$!==null;){for(D=V=$;V!==null;){switch(L=V,z=L.child,L.tag){case 0:case 11:case 14:case 15:hs(4,L,L.return);break;case 1:pn(L,L.return);var W=L.stateNode;if(typeof W.componentWillUnmount=="function"){a=L,i=L.return;try{t=a,W.props=t.memoizedProps,W.state=t.memoizedState,W.componentWillUnmount()}catch(H){Re(a,i,H)}}break;case 5:pn(L,L.return);break;case 22:if(L.memoizedState!==null){Ud(D);continue}}z!==null?(z.return=L,V=z):Ud(D)}$=$.sibling}e:for($=null,D=e;;){if(D.tag===5){if($===null){$=D;try{d=D.stateNode,x?(h=d.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(y=D.stateNode,k=D.memoizedProps.style,g=k!=null&&k.hasOwnProperty("display")?k.display:null,y.style.display=pu("display",g))}catch(H){Re(e,e.return,H)}}}else if(D.tag===6){if($===null)try{D.stateNode.nodeValue=x?"":D.memoizedProps}catch(H){Re(e,e.return,H)}}else if((D.tag!==22&&D.tag!==23||D.memoizedState===null||D===e)&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===e)break e;for(;D.sibling===null;){if(D.return===null||D.return===e)break e;$===D&&($=null),D=D.return}$===D&&($=null),D.sibling.return=D.return,D=D.sibling}}break;case 19:Tt(t,e),Ft(e),a&4&&Ad(e);break;case 21:break;default:Tt(t,e),Ft(e)}}function Ft(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(Rd(i)){var a=i;break e}i=i.return}throw Error(n(160))}switch(a.tag){case 5:var d=a.stateNode;a.flags&32&&(In(d,""),a.flags&=-33);var h=xd(e);Ba(e,h,d);break;case 3:case 4:var g=a.stateNode.containerInfo,y=xd(e);Fa(e,y,g);break;default:throw Error(n(161))}}catch(k){Re(e,e.return,k)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Gg(e,t,i){V=e,Nd(e)}function Nd(e,t,i){for(var a=(e.mode&1)!==0;V!==null;){var d=V,h=d.child;if(d.tag===22&&a){var g=d.memoizedState!==null||Si;if(!g){var y=d.alternate,k=y!==null&&y.memoizedState!==null||Ke;y=Si;var x=Ke;if(Si=g,(Ke=k)&&!x)for(V=d;V!==null;)g=V,k=g.child,g.tag===22&&g.memoizedState!==null?$d(d):k!==null?(k.return=g,V=k):$d(d);for(;h!==null;)V=h,Nd(h),h=h.sibling;V=d,Si=y,Ke=x}Ld(e)}else(d.subtreeFlags&8772)!==0&&h!==null?(h.return=d,V=h):Ld(e)}}function Ld(e){for(;V!==null;){var t=V;if((t.flags&8772)!==0){var i=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Ke||Ei(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!Ke)if(i===null)a.componentDidMount();else{var d=t.elementType===t.type?i.memoizedProps:Ot(t.type,i.memoizedProps);a.componentDidUpdate(d,i.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var h=t.updateQueue;h!==null&&Uc(t,h,a);break;case 3:var g=t.updateQueue;if(g!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}Uc(t,g,i)}break;case 5:var y=t.stateNode;if(i===null&&t.flags&4){i=y;var k=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&i.focus();break;case"img":k.src&&(i.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var x=t.alternate;if(x!==null){var $=x.memoizedState;if($!==null){var D=$.dehydrated;D!==null&&qn(D)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ke||t.flags&512&&Ma(t)}catch(L){Re(t,t.return,L)}}if(t===e){V=null;break}if(i=t.sibling,i!==null){i.return=t.return,V=i;break}V=t.return}}function Ud(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var i=t.sibling;if(i!==null){i.return=t.return,V=i;break}V=t.return}}function $d(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{Ei(4,t)}catch(k){Re(t,i,k)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var d=t.return;try{a.componentDidMount()}catch(k){Re(t,d,k)}}var h=t.return;try{Ma(t)}catch(k){Re(t,h,k)}break;case 5:var g=t.return;try{Ma(t)}catch(k){Re(t,g,k)}}}catch(k){Re(t,t.return,k)}if(t===e){V=null;break}var y=t.sibling;if(y!==null){y.return=t.return,V=y;break}V=t.return}}var Jg=Math.ceil,ki=M.ReactCurrentDispatcher,za=M.ReactCurrentOwner,wt=M.ReactCurrentBatchConfig,le=0,Me=null,Ie=null,ze=0,dt=0,gn=lr(0),Ue=0,fs=null,Ir=0,bi=0,Va=0,ps=null,rt=null,qa=0,vn=1/0,Jt=null,Ci=!1,Wa=null,pr=null,Oi=!1,gr=null,Pi=0,gs=0,Ha=null,Ti=-1,Ri=0;function Je(){return(le&6)!==0?xe():Ti!==-1?Ti:Ti=xe()}function vr(e){return(e.mode&1)===0?1:(le&2)!==0&&ze!==0?ze&-ze:Ig.transition!==null?(Ri===0&&(Ri=xu()),Ri):(e=fe,e!==0||(e=window.event,e=e===void 0?16:Mu(e.type)),e)}function Rt(e,t,i,a){if(50<gs)throw gs=0,Ha=null,Error(n(185));Mn(e,i,a),((le&2)===0||e!==Me)&&(e===Me&&((le&2)===0&&(bi|=i),Ue===4&&mr(e,ze)),nt(e,a),i===1&&le===0&&(t.mode&1)===0&&(vn=xe()+500,ni&&cr()))}function nt(e,t){var i=e.callbackNode;Ip(e,t);var a=Ds(e,e===Me?ze:0);if(a===0)i!==null&&Pu(i),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(i!=null&&Pu(i),t===1)e.tag===0?Ag(Md.bind(null,e)):bc(Md.bind(null,e)),Tg(function(){(le&6)===0&&cr()}),i=null;else{switch(ju(a)){case 1:i=Co;break;case 4:i=Tu;break;case 16:i=Ns;break;case 536870912:i=Ru;break;default:i=Ns}i=Kd(i,Dd.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function Dd(e,t){if(Ti=-1,Ri=0,(le&6)!==0)throw Error(n(327));var i=e.callbackNode;if(mn()&&e.callbackNode!==i)return null;var a=Ds(e,e===Me?ze:0);if(a===0)return null;if((a&30)!==0||(a&e.expiredLanes)!==0||t)t=xi(e,a);else{t=a;var d=le;le|=2;var h=Bd();(Me!==e||ze!==t)&&(Jt=null,vn=xe()+500,Lr(e,t));do try{Zg();break}catch(y){Fd(e,y)}while(!0);ca(),ki.current=h,le=d,Ie!==null?t=0:(Me=null,ze=0,t=Ue)}if(t!==0){if(t===2&&(d=Oo(e),d!==0&&(a=d,t=Ka(e,d))),t===1)throw i=fs,Lr(e,0),mr(e,a),nt(e,xe()),i;if(t===6)mr(e,a);else{if(d=e.current.alternate,(a&30)===0&&!Yg(d)&&(t=xi(e,a),t===2&&(h=Oo(e),h!==0&&(a=h,t=Ka(e,h))),t===1))throw i=fs,Lr(e,0),mr(e,a),nt(e,xe()),i;switch(e.finishedWork=d,e.finishedLanes=a,t){case 0:case 1:throw Error(n(345));case 2:Ur(e,rt,Jt);break;case 3:if(mr(e,a),(a&130023424)===a&&(t=qa+500-xe(),10<t)){if(Ds(e,0)!==0)break;if(d=e.suspendedLanes,(d&a)!==a){Je(),e.pingedLanes|=e.suspendedLanes&d;break}e.timeoutHandle=Zo(Ur.bind(null,e,rt,Jt),t);break}Ur(e,rt,Jt);break;case 4:if(mr(e,a),(a&4194240)===a)break;for(t=e.eventTimes,d=-1;0<a;){var g=31-kt(a);h=1<<g,g=t[g],g>d&&(d=g),a&=~h}if(a=d,a=xe()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Jg(a/1960))-a,10<a){e.timeoutHandle=Zo(Ur.bind(null,e,rt,Jt),a);break}Ur(e,rt,Jt);break;case 5:Ur(e,rt,Jt);break;default:throw Error(n(329))}}}return nt(e,xe()),e.callbackNode===i?Dd.bind(null,e):null}function Ka(e,t){var i=ps;return e.current.memoizedState.isDehydrated&&(Lr(e,t).flags|=256),e=xi(e,t),e!==2&&(t=rt,rt=i,t!==null&&Qa(t)),e}function Qa(e){rt===null?rt=e:rt.push.apply(rt,e)}function Yg(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var a=0;a<i.length;a++){var d=i[a],h=d.getSnapshot;d=d.value;try{if(!bt(h(),d))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function mr(e,t){for(t&=~Va,t&=~bi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-kt(t),a=1<<i;e[i]=-1,t&=~a}}function Md(e){if((le&6)!==0)throw Error(n(327));mn();var t=Ds(e,0);if((t&1)===0)return nt(e,xe()),null;var i=xi(e,t);if(e.tag!==0&&i===2){var a=Oo(e);a!==0&&(t=a,i=Ka(e,a))}if(i===1)throw i=fs,Lr(e,0),mr(e,t),nt(e,xe()),i;if(i===6)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ur(e,rt,Jt),nt(e,xe()),null}function Ga(e,t){var i=le;le|=1;try{return e(t)}finally{le=i,le===0&&(vn=xe()+500,ni&&cr())}}function Nr(e){gr!==null&&gr.tag===0&&(le&6)===0&&mn();var t=le;le|=1;var i=wt.transition,a=fe;try{if(wt.transition=null,fe=1,e)return e()}finally{fe=a,wt.transition=i,le=t,(le&6)===0&&cr()}}function Ja(){dt=gn.current,Se(gn)}function Lr(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,Pg(i)),Ie!==null)for(i=Ie.return;i!==null;){var a=i;switch(ia(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&ti();break;case 3:hn(),Se(Ze),Se(qe),ya();break;case 5:va(a);break;case 4:hn();break;case 13:Se(be);break;case 19:Se(be);break;case 10:da(a.type._context);break;case 22:case 23:Ja()}i=i.return}if(Me=e,Ie=e=yr(e.current,null),ze=dt=t,Ue=0,fs=null,Va=bi=Ir=0,rt=ps=null,xr!==null){for(t=0;t<xr.length;t++)if(i=xr[t],a=i.interleaved,a!==null){i.interleaved=null;var d=a.next,h=i.pending;if(h!==null){var g=h.next;h.next=d,a.next=g}i.pending=a}xr=null}return e}function Fd(e,t){do{var i=Ie;try{if(ca(),fi.current=mi,pi){for(var a=Ce.memoizedState;a!==null;){var d=a.queue;d!==null&&(d.pending=null),a=a.next}pi=!1}if(Ar=0,De=Le=Ce=null,as=!1,ls=0,za.current=null,i===null||i.return===null){Ue=1,fs=t,Ie=null;break}e:{var h=e,g=i.return,y=i,k=t;if(t=ze,y.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var x=k,$=y,D=$.tag;if(($.mode&1)===0&&(D===0||D===11||D===15)){var L=$.alternate;L?($.updateQueue=L.updateQueue,$.memoizedState=L.memoizedState,$.lanes=L.lanes):($.updateQueue=null,$.memoizedState=null)}var z=dd(g);if(z!==null){z.flags&=-257,hd(z,g,y,h,t),z.mode&1&&cd(h,x,t),t=z,k=x;var W=t.updateQueue;if(W===null){var H=new Set;H.add(k),t.updateQueue=H}else W.add(k);break e}else{if((t&1)===0){cd(h,x,t),Ya();break e}k=Error(n(426))}}else if(ke&&y.mode&1){var je=dd(g);if(je!==null){(je.flags&65536)===0&&(je.flags|=256),hd(je,g,y,h,t),la(fn(k,y));break e}}h=k=fn(k,y),Ue!==4&&(Ue=2),ps===null?ps=[h]:ps.push(h),h=g;do{switch(h.tag){case 3:h.flags|=65536,t&=-t,h.lanes|=t;var T=ld(h,k,t);Lc(h,T);break e;case 1:y=k;var O=h.type,R=h.stateNode;if((h.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(pr===null||!pr.has(R)))){h.flags|=65536,t&=-t,h.lanes|=t;var F=ud(h,y,t);Lc(h,F);break e}}h=h.return}while(h!==null)}Vd(i)}catch(K){t=K,Ie===i&&i!==null&&(Ie=i=i.return);continue}break}while(!0)}function Bd(){var e=ki.current;return ki.current=mi,e===null?mi:e}function Ya(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),Me===null||(Ir&268435455)===0&&(bi&268435455)===0||mr(Me,ze)}function xi(e,t){var i=le;le|=2;var a=Bd();(Me!==e||ze!==t)&&(Jt=null,Lr(e,t));do try{Xg();break}catch(d){Fd(e,d)}while(!0);if(ca(),le=i,ki.current=a,Ie!==null)throw Error(n(261));return Me=null,ze=0,Ue}function Xg(){for(;Ie!==null;)zd(Ie)}function Zg(){for(;Ie!==null&&!bp();)zd(Ie)}function zd(e){var t=Hd(e.alternate,e,dt);e.memoizedProps=e.pendingProps,t===null?Vd(e):Ie=t,za.current=null}function Vd(e){var t=e;do{var i=t.alternate;if(e=t.return,(t.flags&32768)===0){if(i=Wg(i,t,dt),i!==null){Ie=i;return}}else{if(i=Hg(i,t),i!==null){i.flags&=32767,Ie=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ue=6,Ie=null;return}}if(t=t.sibling,t!==null){Ie=t;return}Ie=t=e}while(t!==null);Ue===0&&(Ue=5)}function Ur(e,t,i){var a=fe,d=wt.transition;try{wt.transition=null,fe=1,ev(e,t,i,a)}finally{wt.transition=d,fe=a}return null}function ev(e,t,i,a){do mn();while(gr!==null);if((le&6)!==0)throw Error(n(327));i=e.finishedWork;var d=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var h=i.lanes|i.childLanes;if(Np(e,h),e===Me&&(Ie=Me=null,ze=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||Oi||(Oi=!0,Kd(Ns,function(){return mn(),null})),h=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||h){h=wt.transition,wt.transition=null;var g=fe;fe=1;var y=le;le|=4,za.current=null,Qg(e,i),Id(i,e),_g(Yo),Bs=!!Jo,Yo=Jo=null,e.current=i,Gg(i),Cp(),le=y,fe=g,wt.transition=h}else e.current=i;if(Oi&&(Oi=!1,gr=e,Pi=d),h=e.pendingLanes,h===0&&(pr=null),Tp(i.stateNode),nt(e,xe()),t!==null)for(a=e.onRecoverableError,i=0;i<t.length;i++)d=t[i],a(d.value,{componentStack:d.stack,digest:d.digest});if(Ci)throw Ci=!1,e=Wa,Wa=null,e;return(Pi&1)!==0&&e.tag!==0&&mn(),h=e.pendingLanes,(h&1)!==0?e===Ha?gs++:(gs=0,Ha=e):gs=0,cr(),null}function mn(){if(gr!==null){var e=ju(Pi),t=wt.transition,i=fe;try{if(wt.transition=null,fe=16>e?16:e,gr===null)var a=!1;else{if(e=gr,gr=null,Pi=0,(le&6)!==0)throw Error(n(331));var d=le;for(le|=4,V=e.current;V!==null;){var h=V,g=h.child;if((V.flags&16)!==0){var y=h.deletions;if(y!==null){for(var k=0;k<y.length;k++){var x=y[k];for(V=x;V!==null;){var $=V;switch($.tag){case 0:case 11:case 15:hs(8,$,h)}var D=$.child;if(D!==null)D.return=$,V=D;else for(;V!==null;){$=V;var L=$.sibling,z=$.return;if(Td($),$===x){V=null;break}if(L!==null){L.return=z,V=L;break}V=z}}}var W=h.alternate;if(W!==null){var H=W.child;if(H!==null){W.child=null;do{var je=H.sibling;H.sibling=null,H=je}while(H!==null)}}V=h}}if((h.subtreeFlags&2064)!==0&&g!==null)g.return=h,V=g;else e:for(;V!==null;){if(h=V,(h.flags&2048)!==0)switch(h.tag){case 0:case 11:case 15:hs(9,h,h.return)}var T=h.sibling;if(T!==null){T.return=h.return,V=T;break e}V=h.return}}var O=e.current;for(V=O;V!==null;){g=V;var R=g.child;if((g.subtreeFlags&2064)!==0&&R!==null)R.return=g,V=R;else e:for(g=O;V!==null;){if(y=V,(y.flags&2048)!==0)try{switch(y.tag){case 0:case 11:case 15:Ei(9,y)}}catch(K){Re(y,y.return,K)}if(y===g){V=null;break e}var F=y.sibling;if(F!==null){F.return=y.return,V=F;break e}V=y.return}}if(le=d,cr(),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(Ls,e)}catch{}a=!0}return a}finally{fe=i,wt.transition=t}}return!1}function qd(e,t,i){t=fn(i,t),t=ld(e,t,1),e=hr(e,t,1),t=Je(),e!==null&&(Mn(e,1,t),nt(e,t))}function Re(e,t,i){if(e.tag===3)qd(e,e,i);else for(;t!==null;){if(t.tag===3){qd(t,e,i);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(pr===null||!pr.has(a))){e=fn(i,e),e=ud(t,e,1),t=hr(t,e,1),e=Je(),t!==null&&(Mn(t,1,e),nt(t,e));break}}t=t.return}}function tv(e,t,i){var a=e.pingCache;a!==null&&a.delete(t),t=Je(),e.pingedLanes|=e.suspendedLanes&i,Me===e&&(ze&i)===i&&(Ue===4||Ue===3&&(ze&130023424)===ze&&500>xe()-qa?Lr(e,0):Va|=i),nt(e,t)}function Wd(e,t){t===0&&((e.mode&1)===0?t=1:(t=$s,$s<<=1,($s&130023424)===0&&($s=4194304)));var i=Je();e=Kt(e,t),e!==null&&(Mn(e,t,i),nt(e,i))}function rv(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Wd(e,i)}function nv(e,t){var i=0;switch(e.tag){case 13:var a=e.stateNode,d=e.memoizedState;d!==null&&(i=d.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(n(314))}a!==null&&a.delete(t),Wd(e,i)}var Hd;Hd=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ze.current)tt=!0;else{if((e.lanes&i)===0&&(t.flags&128)===0)return tt=!1,qg(e,t,i);tt=(e.flags&131072)!==0}else tt=!1,ke&&(t.flags&1048576)!==0&&Cc(t,ii,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;_i(e,t),e=t.pendingProps;var d=sn(t,qe.current);dn(t,i),d=Sa(null,t,a,e,d,i);var h=Ea();return t.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,et(a)?(h=!0,ri(t)):h=!1,t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,pa(t),d.updater=yi,t.stateNode=d,d._reactInternals=t,Ta(t,a,e,i),t=Aa(null,t,a,!0,h,i)):(t.tag=0,ke&&h&&sa(t),Ge(null,t,d,i),t=t.child),t;case 16:a=t.elementType;e:{switch(_i(e,t),e=t.pendingProps,d=a._init,a=d(a._payload),t.type=a,d=t.tag=iv(a),e=Ot(a,e),d){case 0:t=ja(null,t,a,e,i);break e;case 1:t=yd(null,t,a,e,i);break e;case 11:t=fd(null,t,a,e,i);break e;case 14:t=pd(null,t,a,Ot(a.type,e),i);break e}throw Error(n(306,a,""))}return t;case 0:return a=t.type,d=t.pendingProps,d=t.elementType===a?d:Ot(a,d),ja(e,t,a,d,i);case 1:return a=t.type,d=t.pendingProps,d=t.elementType===a?d:Ot(a,d),yd(e,t,a,d,i);case 3:e:{if(wd(t),e===null)throw Error(n(387));a=t.pendingProps,h=t.memoizedState,d=h.element,Nc(e,t),di(t,a,null,i);var g=t.memoizedState;if(a=g.element,h.isDehydrated)if(h={element:a,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){d=fn(Error(n(423)),t),t=_d(e,t,a,i,d);break e}else if(a!==d){d=fn(Error(n(424)),t),t=_d(e,t,a,i,d);break e}else for(ct=ar(t.stateNode.containerInfo.firstChild),ut=t,ke=!0,Ct=null,i=Ac(t,null,a,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(ln(),a===d){t=Gt(e,t,i);break e}Ge(e,t,a,i)}t=t.child}return t;case 5:return $c(t),e===null&&aa(t),a=t.type,d=t.pendingProps,h=e!==null?e.memoizedProps:null,g=d.children,Xo(a,d)?g=null:h!==null&&Xo(a,h)&&(t.flags|=32),md(e,t),Ge(e,t,g,i),t.child;case 6:return e===null&&aa(t),null;case 13:return Sd(e,t,i);case 4:return ga(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=un(t,null,a,i):Ge(e,t,a,i),t.child;case 11:return a=t.type,d=t.pendingProps,d=t.elementType===a?d:Ot(a,d),fd(e,t,a,d,i);case 7:return Ge(e,t,t.pendingProps,i),t.child;case 8:return Ge(e,t,t.pendingProps.children,i),t.child;case 12:return Ge(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(a=t.type._context,d=t.pendingProps,h=t.memoizedProps,g=d.value,ve(li,a._currentValue),a._currentValue=g,h!==null)if(bt(h.value,g)){if(h.children===d.children&&!Ze.current){t=Gt(e,t,i);break e}}else for(h=t.child,h!==null&&(h.return=t);h!==null;){var y=h.dependencies;if(y!==null){g=h.child;for(var k=y.firstContext;k!==null;){if(k.context===a){if(h.tag===1){k=Qt(-1,i&-i),k.tag=2;var x=h.updateQueue;if(x!==null){x=x.shared;var $=x.pending;$===null?k.next=k:(k.next=$.next,$.next=k),x.pending=k}}h.lanes|=i,k=h.alternate,k!==null&&(k.lanes|=i),ha(h.return,i,t),y.lanes|=i;break}k=k.next}}else if(h.tag===10)g=h.type===t.type?null:h.child;else if(h.tag===18){if(g=h.return,g===null)throw Error(n(341));g.lanes|=i,y=g.alternate,y!==null&&(y.lanes|=i),ha(g,i,t),g=h.sibling}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}Ge(e,t,d.children,i),t=t.child}return t;case 9:return d=t.type,a=t.pendingProps.children,dn(t,i),d=mt(d),a=a(d),t.flags|=1,Ge(e,t,a,i),t.child;case 14:return a=t.type,d=Ot(a,t.pendingProps),d=Ot(a.type,d),pd(e,t,a,d,i);case 15:return gd(e,t,t.type,t.pendingProps,i);case 17:return a=t.type,d=t.pendingProps,d=t.elementType===a?d:Ot(a,d),_i(e,t),t.tag=1,et(a)?(e=!0,ri(t)):e=!1,dn(t,i),od(t,a,d),Ta(t,a,d,i),Aa(null,t,a,!0,e,i);case 19:return kd(e,t,i);case 22:return vd(e,t,i)}throw Error(n(156,t.tag))};function Kd(e,t){return Ou(e,t)}function sv(e,t,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(e,t,i,a){return new sv(e,t,i,a)}function Xa(e){return e=e.prototype,!(!e||!e.isReactComponent)}function iv(e){if(typeof e=="function")return Xa(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Nt)return 11;if(e===Lt)return 14}return 2}function yr(e,t){var i=e.alternate;return i===null?(i=_t(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function ji(e,t,i,a,d,h){var g=2;if(a=e,typeof e=="function")Xa(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case oe:return $r(i.children,d,h,t);case we:g=8,d|=8;break;case Ae:return e=_t(12,i,t,d|2),e.elementType=Ae,e.lanes=h,e;case ot:return e=_t(13,i,t,d),e.elementType=ot,e.lanes=h,e;case Et:return e=_t(19,i,t,d),e.elementType=Et,e.lanes=h,e;case Te:return Ai(i,d,h,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case it:g=10;break e;case zt:g=9;break e;case Nt:g=11;break e;case Lt:g=14;break e;case Xe:g=16,a=null;break e}throw Error(n(130,e==null?e:typeof e,""))}return t=_t(g,i,t,d),t.elementType=e,t.type=a,t.lanes=h,t}function $r(e,t,i,a){return e=_t(7,e,a,t),e.lanes=i,e}function Ai(e,t,i,a){return e=_t(22,e,a,t),e.elementType=Te,e.lanes=i,e.stateNode={isHidden:!1},e}function Za(e,t,i){return e=_t(6,e,null,t),e.lanes=i,e}function el(e,t,i){return t=_t(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ov(e,t,i,a,d){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Po(0),this.expirationTimes=Po(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Po(0),this.identifierPrefix=a,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function tl(e,t,i,a,d,h,g,y,k){return e=new ov(e,t,i,y,k),t===1?(t=1,h===!0&&(t|=8)):t=0,h=_t(3,null,null,t),e.current=h,h.stateNode=e,h.memoizedState={element:a,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},pa(h),e}function av(e,t,i){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:X,key:a==null?null:""+a,children:e,containerInfo:t,implementation:i}}function Qd(e){if(!e)return ur;e=e._reactInternals;e:{if(Cr(e)!==e||e.tag!==1)throw Error(n(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(et(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(n(171))}if(e.tag===1){var i=e.type;if(et(i))return Ec(e,i,t)}return t}function Gd(e,t,i,a,d,h,g,y,k){return e=tl(i,a,!0,e,d,h,g,y,k),e.context=Qd(null),i=e.current,a=Je(),d=vr(i),h=Qt(a,d),h.callback=t??null,hr(i,h,d),e.current.lanes=d,Mn(e,d,a),nt(e,a),e}function Ii(e,t,i,a){var d=t.current,h=Je(),g=vr(d);return i=Qd(i),t.context===null?t.context=i:t.pendingContext=i,t=Qt(h,g),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=hr(d,t,g),e!==null&&(Rt(e,d,g,h),ci(e,d,g)),g}function Ni(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Jd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function rl(e,t){Jd(e,t),(e=e.alternate)&&Jd(e,t)}function lv(){return null}var Yd=typeof reportError=="function"?reportError:function(e){console.error(e)};function nl(e){this._internalRoot=e}Li.prototype.render=nl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(n(409));Ii(e,t,null,null)},Li.prototype.unmount=nl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Nr(function(){Ii(null,e,null,null)}),t[Vt]=null}};function Li(e){this._internalRoot=e}Li.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nu();e={blockedOn:null,target:e,priority:t};for(var i=0;i<sr.length&&t!==0&&t<sr[i].priority;i++);sr.splice(i,0,e),i===0&&$u(e)}};function sl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ui(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Xd(){}function uv(e,t,i,a,d){if(d){if(typeof a=="function"){var h=a;a=function(){var x=Ni(g);h.call(x)}}var g=Gd(t,a,e,0,null,!1,!1,"",Xd);return e._reactRootContainer=g,e[Vt]=g.current,Zn(e.nodeType===8?e.parentNode:e),Nr(),g}for(;d=e.lastChild;)e.removeChild(d);if(typeof a=="function"){var y=a;a=function(){var x=Ni(k);y.call(x)}}var k=tl(e,0,!1,null,null,!1,!1,"",Xd);return e._reactRootContainer=k,e[Vt]=k.current,Zn(e.nodeType===8?e.parentNode:e),Nr(function(){Ii(t,k,i,a)}),k}function $i(e,t,i,a,d){var h=i._reactRootContainer;if(h){var g=h;if(typeof d=="function"){var y=d;d=function(){var k=Ni(g);y.call(k)}}Ii(t,g,e,d)}else g=uv(i,t,e,d,a);return Ni(g)}Au=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=Dn(t.pendingLanes);i!==0&&(To(t,i|1),nt(t,xe()),(le&6)===0&&(vn=xe()+500,cr()))}break;case 13:Nr(function(){var a=Kt(e,1);if(a!==null){var d=Je();Rt(a,e,1,d)}}),rl(e,1)}},Ro=function(e){if(e.tag===13){var t=Kt(e,134217728);if(t!==null){var i=Je();Rt(t,e,134217728,i)}rl(e,134217728)}},Iu=function(e){if(e.tag===13){var t=vr(e),i=Kt(e,t);if(i!==null){var a=Je();Rt(i,e,t,a)}rl(e,t)}},Nu=function(){return fe},Lu=function(e,t){var i=fe;try{return fe=e,t()}finally{fe=i}},So=function(e,t,i){switch(t){case"input":if(fo(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var a=i[t];if(a!==e&&a.form===e.form){var d=ei(a);if(!d)throw Error(n(90));iu(a),fo(a,d)}}}break;case"textarea":cu(e,i);break;case"select":t=i.value,t!=null&&Hr(e,!!i.multiple,t,!1)}},wu=Ga,_u=Nr;var cv={usingClientEntryPoint:!1,Events:[rs,rn,ei,mu,yu,Ga]},vs={findFiberByHostInstance:Or,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dv={bundleType:vs.bundleType,version:vs.version,rendererPackageName:vs.rendererPackageName,rendererConfig:vs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bu(e),e===null?null:e.stateNode},findFiberByHostInstance:vs.findFiberByHostInstance||lv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Di=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Di.isDisabled&&Di.supportsFiber)try{Ls=Di.inject(dv),Ut=Di}catch{}}return st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cv,st.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sl(t))throw Error(n(200));return av(e,t,null,i)},st.createRoot=function(e,t){if(!sl(e))throw Error(n(299));var i=!1,a="",d=Yd;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=tl(e,1,!1,null,null,i,!1,a,d),e[Vt]=t.current,Zn(e.nodeType===8?e.parentNode:e),new nl(t)},st.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(n(188)):(e=Object.keys(e).join(","),Error(n(268,e)));return e=bu(t),e=e===null?null:e.stateNode,e},st.flushSync=function(e){return Nr(e)},st.hydrate=function(e,t,i){if(!Ui(t))throw Error(n(200));return $i(null,e,t,!0,i)},st.hydrateRoot=function(e,t,i){if(!sl(e))throw Error(n(405));var a=i!=null&&i.hydratedSources||null,d=!1,h="",g=Yd;if(i!=null&&(i.unstable_strictMode===!0&&(d=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),t=Gd(t,null,e,1,i??null,d,!1,h,g),e[Vt]=t.current,Zn(e),a)for(e=0;e<a.length;e++)i=a[e],d=i._getVersion,d=d(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,d]:t.mutableSourceEagerHydrationData.push(i,d);return new Li(t)},st.render=function(e,t,i){if(!Ui(t))throw Error(n(200));return $i(null,e,t,!1,i)},st.unmountComponentAtNode=function(e){if(!Ui(e))throw Error(n(40));return e._reactRootContainer?(Nr(function(){$i(null,null,e,!1,function(){e._reactRootContainer=null,e[Vt]=null})}),!0):!1},st.unstable_batchedUpdates=Ga,st.unstable_renderSubtreeIntoContainer=function(e,t,i,a){if(!Ui(i))throw Error(n(200));if(e==null||e._reactInternals===void 0)throw Error(n(38));return $i(e,t,i,!1,a)},st.version="18.3.1-next-f1338f8080-20240426",st}var oh;function rf(){if(oh)return al.exports;oh=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),al.exports=wv(),al.exports}var ah;function _v(){if(ah)return Mi;ah=1;var s=rf();return Mi.createRoot=s.createRoot,Mi.hydrateRoot=s.hydrateRoot,Mi}var Sv=_v();const Ev="modulepreload",kv=function(s){return"/"+s},lh={},Bt=function(r,n,o){let l=Promise.resolve();if(n&&n.length>0){let p=function(v){return Promise.all(v.map(m=>Promise.resolve(m).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=c?.nonce||c?.getAttribute("nonce");l=p(n.map(v=>{if(v=kv(v),v in lh)return;lh[v]=!0;const m=v.endsWith(".css"),w=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${w}`))return;const _=document.createElement("link");if(_.rel=m?"stylesheet":Ev,m||(_.as="script"),_.crossOrigin="",_.href=v,f&&_.setAttribute("nonce",f),document.head.appendChild(_),m)return new Promise((C,E)=>{_.addEventListener("load",C),_.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${v}`)))})}))}function u(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return l.then(c=>{for(const f of c||[])f.status==="rejected"&&u(f.reason);return r().catch(u)})};var so=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(s){return this.listeners.add(s),this.onSubscribe(),()=>{this.listeners.delete(s),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},bv={setTimeout:(s,r)=>setTimeout(s,r),clearTimeout:s=>clearTimeout(s),setInterval:(s,r)=>setInterval(s,r),clearInterval:s=>clearInterval(s)},Cv=class{#e=bv;#t=!1;setTimeoutProvider(s){this.#e=s}setTimeout(s,r){return this.#e.setTimeout(s,r)}clearTimeout(s){this.#e.clearTimeout(s)}setInterval(s,r){return this.#e.setInterval(s,r)}clearInterval(s){this.#e.clearInterval(s)}},_l=new Cv;function Ov(s){setTimeout(s,0)}var io=typeof window>"u"||"Deno"in globalThis;function jt(){}function Pv(s,r){return typeof s=="function"?s(r):s}function Tv(s){return typeof s=="number"&&s>=0&&s!==1/0}function Rv(s,r){return Math.max(s+(r||0)-Date.now(),0)}function Sl(s,r){return typeof s=="function"?s(r):s}function xv(s,r){return typeof s=="function"?s(r):s}function uh(s,r){const{type:n="all",exact:o,fetchStatus:l,predicate:u,queryKey:c,stale:f}=s;if(c){if(o){if(r.queryHash!==Vl(c,r.options))return!1}else if(!Es(r.queryKey,c))return!1}if(n!=="all"){const p=r.isActive();if(n==="active"&&!p||n==="inactive"&&p)return!1}return!(typeof f=="boolean"&&r.isStale()!==f||l&&l!==r.state.fetchStatus||u&&!u(r))}function ch(s,r){const{exact:n,status:o,predicate:l,mutationKey:u}=s;if(u){if(!r.options.mutationKey)return!1;if(n){if(Ss(r.options.mutationKey)!==Ss(u))return!1}else if(!Es(r.options.mutationKey,u))return!1}return!(o&&r.state.status!==o||l&&!l(r))}function Vl(s,r){return(r?.queryKeyHashFn||Ss)(s)}function Ss(s){return JSON.stringify(s,(r,n)=>El(n)?Object.keys(n).sort().reduce((o,l)=>(o[l]=n[l],o),{}):n)}function Es(s,r){return s===r?!0:typeof s!=typeof r?!1:s&&r&&typeof s=="object"&&typeof r=="object"?Object.keys(r).every(n=>Es(s[n],r[n])):!1}var jv=Object.prototype.hasOwnProperty;function nf(s,r){if(s===r)return s;const n=dh(s)&&dh(r);if(!n&&!(El(s)&&El(r)))return r;const l=(n?s:Object.keys(s)).length,u=n?r:Object.keys(r),c=u.length,f=n?new Array(c):{};let p=0;for(let v=0;v<c;v++){const m=n?v:u[v],w=s[m],_=r[m];if(w===_){f[m]=w,(n?v<l:jv.call(s,m))&&p++;continue}if(w===null||_===null||typeof w!="object"||typeof _!="object"){f[m]=_;continue}const C=nf(w,_);f[m]=C,C===w&&p++}return l===c&&p===l?s:f}function dh(s){return Array.isArray(s)&&s.length===Object.keys(s).length}function El(s){if(!hh(s))return!1;const r=s.constructor;if(r===void 0)return!0;const n=r.prototype;return!(!hh(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(s)!==Object.prototype)}function hh(s){return Object.prototype.toString.call(s)==="[object Object]"}function Av(s){return new Promise(r=>{_l.setTimeout(r,s)})}function Iv(s,r,n){return typeof n.structuralSharing=="function"?n.structuralSharing(s,r):n.structuralSharing!==!1?nf(s,r):r}function Nv(s,r,n=0){const o=[...s,r];return n&&o.length>n?o.slice(1):o}function Lv(s,r,n=0){const o=[r,...s];return n&&o.length>n?o.slice(0,-1):o}var ql=Symbol();function sf(s,r){return!s.queryFn&&r?.initialPromise?()=>r.initialPromise:!s.queryFn||s.queryFn===ql?()=>Promise.reject(new Error(`Missing queryFn: '${s.queryHash}'`)):s.queryFn}var Uv=class extends so{#e;#t;#r;constructor(){super(),this.#r=s=>{if(!io&&window.addEventListener){const r=()=>s();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(s){this.#r=s,this.#t?.(),this.#t=s(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(s){this.#e!==s&&(this.#e=s,this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(r=>{r(s)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},of=new Uv;function $v(){let s,r;const n=new Promise((l,u)=>{s=l,r=u});n.status="pending",n.catch(()=>{});function o(l){Object.assign(n,l),delete n.resolve,delete n.reject}return n.resolve=l=>{o({status:"fulfilled",value:l}),s(l)},n.reject=l=>{o({status:"rejected",reason:l}),r(l)},n}var Dv=Ov;function Mv(){let s=[],r=0,n=f=>{f()},o=f=>{f()},l=Dv;const u=f=>{r?s.push(f):l(()=>{n(f)})},c=()=>{const f=s;s=[],f.length&&l(()=>{o(()=>{f.forEach(p=>{n(p)})})})};return{batch:f=>{let p;r++;try{p=f()}finally{r--,r||c()}return p},batchCalls:f=>(...p)=>{u(()=>{f(...p)})},schedule:u,setNotifyFunction:f=>{n=f},setBatchNotifyFunction:f=>{o=f},setScheduler:f=>{l=f}}}var Ye=Mv(),Fv=class extends so{#e=!0;#t;#r;constructor(){super(),this.#r=s=>{if(!io&&window.addEventListener){const r=()=>s(!0),n=()=>s(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(s){this.#r=s,this.#t?.(),this.#t=s(this.setOnline.bind(this))}setOnline(s){this.#e!==s&&(this.#e=s,this.listeners.forEach(n=>{n(s)}))}isOnline(){return this.#e}},Ji=new Fv;function Bv(s){return Math.min(1e3*2**s,3e4)}function af(s){return(s??"online")==="online"?Ji.isOnline():!0}var kl=class extends Error{constructor(s){super("CancelledError"),this.revert=s?.revert,this.silent=s?.silent}};function lf(s){let r=!1,n=0,o;const l=$v(),u=()=>l.status!=="pending",c=b=>{if(!u()){const S=new kl(b);_(S),s.onCancel?.(S)}},f=()=>{r=!0},p=()=>{r=!1},v=()=>of.isFocused()&&(s.networkMode==="always"||Ji.isOnline())&&s.canRun(),m=()=>af(s.networkMode)&&s.canRun(),w=b=>{u()||(o?.(),l.resolve(b))},_=b=>{u()||(o?.(),l.reject(b))},C=()=>new Promise(b=>{o=S=>{(u()||v())&&b(S)},s.onPause?.()}).then(()=>{o=void 0,u()||s.onContinue?.()}),E=()=>{if(u())return;let b;const S=n===0?s.initialPromise:void 0;try{b=S??s.fn()}catch(I){b=Promise.reject(I)}Promise.resolve(b).then(w).catch(I=>{if(u())return;const j=s.retry??(io?0:3),A=s.retryDelay??Bv,M=typeof A=="function"?A(n,I):A,Y=j===!0||typeof j=="number"&&n<j||typeof j=="function"&&j(n,I);if(r||!Y){_(I);return}n++,s.onFail?.(n,I),Av(M).then(()=>v()?void 0:C()).then(()=>{r?_(I):E()})})};return{promise:l,status:()=>l.status,cancel:c,continue:()=>(o?.(),l),cancelRetry:f,continueRetry:p,canStart:m,start:()=>(m()?E():C().then(E),l)}}var uf=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Tv(this.gcTime)&&(this.#e=_l.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(s){this.gcTime=Math.max(this.gcTime||0,s??(io?1/0:300*1e3))}clearGcTimeout(){this.#e&&(_l.clearTimeout(this.#e),this.#e=void 0)}},zv=class extends uf{#e;#t;#r;#s;#n;#o;#a;constructor(s){super(),this.#a=!1,this.#o=s.defaultOptions,this.setOptions(s.options),this.observers=[],this.#s=s.client,this.#r=this.#s.getQueryCache(),this.queryKey=s.queryKey,this.queryHash=s.queryHash,this.#e=ph(this.options),this.state=s.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(s){if(this.options={...this.#o,...s},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=ph(this.options);r.data!==void 0&&(this.setState(fh(r.data,r.dataUpdatedAt)),this.#e=r)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(s,r){const n=Iv(this.state.data,s,this.options);return this.#i({data:n,type:"success",dataUpdatedAt:r?.updatedAt,manual:r?.manual}),n}setState(s,r){this.#i({type:"setState",state:s,setStateOptions:r})}cancel(s){const r=this.#n?.promise;return this.#n?.cancel(s),r?r.then(jt).catch(jt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(s=>xv(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ql||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(s=>Sl(s.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(s=0){return this.state.data===void 0?!0:s==="static"?!1:this.state.isInvalidated?!0:!Rv(this.state.dataUpdatedAt,s)}onFocus(){this.observers.find(r=>r.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(r=>r.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(r=>r!==s),this.observers.length||(this.#n&&(this.#a?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(s,r){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&r?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(s&&this.setOptions(s),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,o=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(this.#a=!0,n.signal)})},l=()=>{const f=sf(this.options,r),v=(()=>{const m={client:this.#s,queryKey:this.queryKey,meta:this.meta};return o(m),m})();return this.#a=!1,this.options.persister?this.options.persister(f,v,this):f(v)},c=(()=>{const f={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:l};return o(f),f})();this.options.behavior?.onFetch(c,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==c.fetchOptions?.meta)&&this.#i({type:"fetch",meta:c.fetchOptions?.meta}),this.#n=lf({initialPromise:r?.initialPromise,fn:c.fetchFn,onCancel:f=>{f instanceof kl&&f.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(f,p)=>{this.#i({type:"failed",failureCount:f,error:p})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0});try{const f=await this.#n.start();if(f===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(f),this.#r.config.onSuccess?.(f,this),this.#r.config.onSettled?.(f,this.state.error,this),f}catch(f){if(f instanceof kl){if(f.silent)return this.#n.promise;if(f.revert){if(this.state.data===void 0)throw f;return this.state.data}}throw this.#i({type:"error",error:f}),this.#r.config.onError?.(f,this),this.#r.config.onSettled?.(this.state.data,f,this),f}finally{this.scheduleGc()}}#i(s){const r=n=>{switch(s.type){case"failed":return{...n,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Vv(n.data,this.options),fetchMeta:s.meta??null};case"success":const o={...n,...fh(s.data,s.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=s.manual?o:void 0,o;case"error":const l=s.error;return{...n,error:l,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...s.state}}};this.state=r(this.state),Ye.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:s})})}};function Vv(s,r){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:af(r.networkMode)?"fetching":"paused",...s===void 0&&{error:null,status:"pending"}}}function fh(s,r){return{data:s,dataUpdatedAt:r??Date.now(),error:null,isInvalidated:!1,status:"success"}}function ph(s){const r=typeof s.initialData=="function"?s.initialData():s.initialData,n=r!==void 0,o=n?typeof s.initialDataUpdatedAt=="function"?s.initialDataUpdatedAt():s.initialDataUpdatedAt:0;return{data:r,dataUpdateCount:0,dataUpdatedAt:n?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function gh(s){return{onFetch:(r,n)=>{const o=r.options,l=r.fetchOptions?.meta?.fetchMore?.direction,u=r.state.data?.pages||[],c=r.state.data?.pageParams||[];let f={pages:[],pageParams:[]},p=0;const v=async()=>{let m=!1;const w=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(r.signal.aborted?m=!0:r.signal.addEventListener("abort",()=>{m=!0}),r.signal)})},_=sf(r.options,r.fetchOptions),C=async(E,b,S)=>{if(m)return Promise.reject();if(b==null&&E.pages.length)return Promise.resolve(E);const j=(()=>{const X={client:r.client,queryKey:r.queryKey,pageParam:b,direction:S?"backward":"forward",meta:r.options.meta};return w(X),X})(),A=await _(j),{maxPages:M}=r.options,Y=S?Lv:Nv;return{pages:Y(E.pages,A,M),pageParams:Y(E.pageParams,b,M)}};if(l&&u.length){const E=l==="backward",b=E?qv:vh,S={pages:u,pageParams:c},I=b(o,S);f=await C(S,I,E)}else{const E=s??u.length;do{const b=p===0?c[0]??o.initialPageParam:vh(o,f);if(p>0&&b==null)break;f=await C(f,b),p++}while(p<E)}return f};r.options.persister?r.fetchFn=()=>r.options.persister?.(v,{client:r.client,queryKey:r.queryKey,meta:r.options.meta,signal:r.signal},n):r.fetchFn=v}}}function vh(s,{pages:r,pageParams:n}){const o=r.length-1;return r.length>0?s.getNextPageParam(r[o],r,n[o],n):void 0}function qv(s,{pages:r,pageParams:n}){return r.length>0?s.getPreviousPageParam?.(r[0],r,n[0],n):void 0}var Wv=class extends uf{#e;#t;#r;#s;constructor(s){super(),this.#e=s.client,this.mutationId=s.mutationId,this.#r=s.mutationCache,this.#t=[],this.state=s.state||Hv(),this.setOptions(s.options),this.scheduleGc()}setOptions(s){this.options=s,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(s){this.#t.includes(s)||(this.#t.push(s),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",mutation:this,observer:s}))}removeObserver(s){this.#t=this.#t.filter(r=>r!==s),this.scheduleGc(),this.#r.notify({type:"observerRemoved",mutation:this,observer:s})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#r.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(s){const r=()=>{this.#n({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=lf({fn:()=>this.options.mutationFn?this.options.mutationFn(s,n):Promise.reject(new Error("No mutationFn found")),onFail:(u,c)=>{this.#n({type:"failed",failureCount:u,error:c})},onPause:()=>{this.#n({type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#r.canRun(this)});const o=this.state.status==="pending",l=!this.#s.canStart();try{if(o)r();else{this.#n({type:"pending",variables:s,isPaused:l}),await this.#r.config.onMutate?.(s,this,n);const c=await this.options.onMutate?.(s,n);c!==this.state.context&&this.#n({type:"pending",context:c,variables:s,isPaused:l})}const u=await this.#s.start();return await this.#r.config.onSuccess?.(u,s,this.state.context,this,n),await this.options.onSuccess?.(u,s,this.state.context,n),await this.#r.config.onSettled?.(u,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(u,null,s,this.state.context,n),this.#n({type:"success",data:u}),u}catch(u){try{throw await this.#r.config.onError?.(u,s,this.state.context,this,n),await this.options.onError?.(u,s,this.state.context,n),await this.#r.config.onSettled?.(void 0,u,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,u,s,this.state.context,n),u}finally{this.#n({type:"error",error:u})}}finally{this.#r.runNext(this)}}#n(s){const r=n=>{switch(s.type){case"failed":return{...n,failureCount:s.failureCount,failureReason:s.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:s.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:s.isPaused,status:"pending",variables:s.variables,submittedAt:Date.now()};case"success":return{...n,data:s.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:s.error,failureCount:n.failureCount+1,failureReason:s.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ye.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(s)}),this.#r.notify({mutation:this,type:"updated",action:s})})}};function Hv(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Kv=class extends so{constructor(s={}){super(),this.config=s,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(s,r,n){const o=new Wv({client:s,mutationCache:this,mutationId:++this.#r,options:s.defaultMutationOptions(r),state:n});return this.add(o),o}add(s){this.#e.add(s);const r=Fi(s);if(typeof r=="string"){const n=this.#t.get(r);n?n.push(s):this.#t.set(r,[s])}this.notify({type:"added",mutation:s})}remove(s){if(this.#e.delete(s)){const r=Fi(s);if(typeof r=="string"){const n=this.#t.get(r);if(n)if(n.length>1){const o=n.indexOf(s);o!==-1&&n.splice(o,1)}else n[0]===s&&this.#t.delete(r)}}this.notify({type:"removed",mutation:s})}canRun(s){const r=Fi(s);if(typeof r=="string"){const o=this.#t.get(r)?.find(l=>l.state.status==="pending");return!o||o===s}else return!0}runNext(s){const r=Fi(s);return typeof r=="string"?this.#t.get(r)?.find(o=>o!==s&&o.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Ye.batch(()=>{this.#e.forEach(s=>{this.notify({type:"removed",mutation:s})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(s){const r={exact:!0,...s};return this.getAll().find(n=>ch(r,n))}findAll(s={}){return this.getAll().filter(r=>ch(s,r))}notify(s){Ye.batch(()=>{this.listeners.forEach(r=>{r(s)})})}resumePausedMutations(){const s=this.getAll().filter(r=>r.state.isPaused);return Ye.batch(()=>Promise.all(s.map(r=>r.continue().catch(jt))))}};function Fi(s){return s.options.scope?.id}var Qv=class extends so{constructor(s={}){super(),this.config=s,this.#e=new Map}#e;build(s,r,n){const o=r.queryKey,l=r.queryHash??Vl(o,r);let u=this.get(l);return u||(u=new zv({client:s,queryKey:o,queryHash:l,options:s.defaultQueryOptions(r),state:n,defaultOptions:s.getQueryDefaults(o)}),this.add(u)),u}add(s){this.#e.has(s.queryHash)||(this.#e.set(s.queryHash,s),this.notify({type:"added",query:s}))}remove(s){const r=this.#e.get(s.queryHash);r&&(s.destroy(),r===s&&this.#e.delete(s.queryHash),this.notify({type:"removed",query:s}))}clear(){Ye.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}get(s){return this.#e.get(s)}getAll(){return[...this.#e.values()]}find(s){const r={exact:!0,...s};return this.getAll().find(n=>uh(r,n))}findAll(s={}){const r=this.getAll();return Object.keys(s).length>0?r.filter(n=>uh(s,n)):r}notify(s){Ye.batch(()=>{this.listeners.forEach(r=>{r(s)})})}onFocus(){Ye.batch(()=>{this.getAll().forEach(s=>{s.onFocus()})})}onOnline(){Ye.batch(()=>{this.getAll().forEach(s=>{s.onOnline()})})}},Gv=class{#e;#t;#r;#s;#n;#o;#a;#i;constructor(s={}){this.#e=s.queryCache||new Qv,this.#t=s.mutationCache||new Kv,this.#r=s.defaultOptions||{},this.#s=new Map,this.#n=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=of.subscribe(async s=>{s&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Ji.subscribe(async s=>{s&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#i?.(),this.#i=void 0)}isFetching(s){return this.#e.findAll({...s,fetchStatus:"fetching"}).length}isMutating(s){return this.#t.findAll({...s,status:"pending"}).length}getQueryData(s){const r=this.defaultQueryOptions({queryKey:s});return this.#e.get(r.queryHash)?.state.data}ensureQueryData(s){const r=this.defaultQueryOptions(s),n=this.#e.build(this,r),o=n.state.data;return o===void 0?this.fetchQuery(s):(s.revalidateIfStale&&n.isStaleByTime(Sl(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(o))}getQueriesData(s){return this.#e.findAll(s).map(({queryKey:r,state:n})=>{const o=n.data;return[r,o]})}setQueryData(s,r,n){const o=this.defaultQueryOptions({queryKey:s}),u=this.#e.get(o.queryHash)?.state.data,c=Pv(r,u);if(c!==void 0)return this.#e.build(this,o).setData(c,{...n,manual:!0})}setQueriesData(s,r,n){return Ye.batch(()=>this.#e.findAll(s).map(({queryKey:o})=>[o,this.setQueryData(o,r,n)]))}getQueryState(s){const r=this.defaultQueryOptions({queryKey:s});return this.#e.get(r.queryHash)?.state}removeQueries(s){const r=this.#e;Ye.batch(()=>{r.findAll(s).forEach(n=>{r.remove(n)})})}resetQueries(s,r){const n=this.#e;return Ye.batch(()=>(n.findAll(s).forEach(o=>{o.reset()}),this.refetchQueries({type:"active",...s},r)))}cancelQueries(s,r={}){const n={revert:!0,...r},o=Ye.batch(()=>this.#e.findAll(s).map(l=>l.cancel(n)));return Promise.all(o).then(jt).catch(jt)}invalidateQueries(s,r={}){return Ye.batch(()=>(this.#e.findAll(s).forEach(n=>{n.invalidate()}),s?.refetchType==="none"?Promise.resolve():this.refetchQueries({...s,type:s?.refetchType??s?.type??"active"},r)))}refetchQueries(s,r={}){const n={...r,cancelRefetch:r.cancelRefetch??!0},o=Ye.batch(()=>this.#e.findAll(s).filter(l=>!l.isDisabled()&&!l.isStatic()).map(l=>{let u=l.fetch(void 0,n);return n.throwOnError||(u=u.catch(jt)),l.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(o).then(jt)}fetchQuery(s){const r=this.defaultQueryOptions(s);r.retry===void 0&&(r.retry=!1);const n=this.#e.build(this,r);return n.isStaleByTime(Sl(r.staleTime,n))?n.fetch(r):Promise.resolve(n.state.data)}prefetchQuery(s){return this.fetchQuery(s).then(jt).catch(jt)}fetchInfiniteQuery(s){return s.behavior=gh(s.pages),this.fetchQuery(s)}prefetchInfiniteQuery(s){return this.fetchInfiniteQuery(s).then(jt).catch(jt)}ensureInfiniteQueryData(s){return s.behavior=gh(s.pages),this.ensureQueryData(s)}resumePausedMutations(){return Ji.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(s){this.#r=s}setQueryDefaults(s,r){this.#s.set(Ss(s),{queryKey:s,defaultOptions:r})}getQueryDefaults(s){const r=[...this.#s.values()],n={};return r.forEach(o=>{Es(s,o.queryKey)&&Object.assign(n,o.defaultOptions)}),n}setMutationDefaults(s,r){this.#n.set(Ss(s),{mutationKey:s,defaultOptions:r})}getMutationDefaults(s){const r=[...this.#n.values()],n={};return r.forEach(o=>{Es(s,o.mutationKey)&&Object.assign(n,o.defaultOptions)}),n}defaultQueryOptions(s){if(s._defaulted)return s;const r={...this.#r.queries,...this.getQueryDefaults(s.queryKey),...s,_defaulted:!0};return r.queryHash||(r.queryHash=Vl(r.queryKey,r)),r.refetchOnReconnect===void 0&&(r.refetchOnReconnect=r.networkMode!=="always"),r.throwOnError===void 0&&(r.throwOnError=!!r.suspense),!r.networkMode&&r.persister&&(r.networkMode="offlineFirst"),r.queryFn===ql&&(r.enabled=!1),r}defaultMutationOptions(s){return s?._defaulted?s:{...this.#r.mutations,...s?.mutationKey&&this.getMutationDefaults(s.mutationKey),...s,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},N=zl();const Jv=tf(N),Yv=ef({__proto__:null,default:Jv},[N]);var Xv=N.createContext(void 0),Zv=({client:s,children:r})=>(N.useEffect(()=>(s.mount(),()=>{s.unmount()}),[s]),J.jsx(Xv.Provider,{value:s,children:r}));rf();function ks(){return ks=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(s[o]=n[o])}return s},ks.apply(this,arguments)}var Er;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(Er||(Er={}));const mh="popstate";function em(s){s===void 0&&(s={});function r(o,l){let{pathname:u,search:c,hash:f}=o.location;return bl("",{pathname:u,search:c,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(o,l){return typeof l=="string"?l:Yi(l)}return rm(r,n,null,s)}function Pe(s,r){if(s===!1||s===null||typeof s>"u")throw new Error(r)}function Wl(s,r){if(!s){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function tm(){return Math.random().toString(36).substr(2,8)}function yh(s,r){return{usr:s.state,key:s.key,idx:r}}function bl(s,r,n,o){return n===void 0&&(n=null),ks({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof r=="string"?Tn(r):r,{state:n,key:r&&r.key||o||tm()})}function Yi(s){let{pathname:r="/",search:n="",hash:o=""}=s;return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),o&&o!=="#"&&(r+=o.charAt(0)==="#"?o:"#"+o),r}function Tn(s){let r={};if(s){let n=s.indexOf("#");n>=0&&(r.hash=s.substr(n),s=s.substr(0,n));let o=s.indexOf("?");o>=0&&(r.search=s.substr(o),s=s.substr(0,o)),s&&(r.pathname=s)}return r}function rm(s,r,n,o){o===void 0&&(o={});let{window:l=document.defaultView,v5Compat:u=!1}=o,c=l.history,f=Er.Pop,p=null,v=m();v==null&&(v=0,c.replaceState(ks({},c.state,{idx:v}),""));function m(){return(c.state||{idx:null}).idx}function w(){f=Er.Pop;let S=m(),I=S==null?null:S-v;v=S,p&&p({action:f,location:b.location,delta:I})}function _(S,I){f=Er.Push;let j=bl(b.location,S,I);v=m()+1;let A=yh(j,v),M=b.createHref(j);try{c.pushState(A,"",M)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;l.location.assign(M)}u&&p&&p({action:f,location:b.location,delta:1})}function C(S,I){f=Er.Replace;let j=bl(b.location,S,I);v=m();let A=yh(j,v),M=b.createHref(j);c.replaceState(A,"",M),u&&p&&p({action:f,location:b.location,delta:0})}function E(S){let I=l.location.origin!=="null"?l.location.origin:l.location.href,j=typeof S=="string"?S:Yi(S);return j=j.replace(/ $/,"%20"),Pe(I,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,I)}let b={get action(){return f},get location(){return s(l,c)},listen(S){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(mh,w),p=S,()=>{l.removeEventListener(mh,w),p=null}},createHref(S){return r(l,S)},createURL:E,encodeLocation(S){let I=E(S);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:_,replace:C,go(S){return c.go(S)}};return b}var wh;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(wh||(wh={}));function nm(s,r,n){return n===void 0&&(n="/"),sm(s,r,n)}function sm(s,r,n,o){let l=typeof r=="string"?Tn(r):r,u=On(l.pathname||"/",n);if(u==null)return null;let c=cf(s);im(c);let f=null;for(let p=0;f==null&&p<c.length;++p){let v=vm(u);f=pm(c[p],v)}return f}function cf(s,r,n,o){r===void 0&&(r=[]),n===void 0&&(n=[]),o===void 0&&(o="");let l=(u,c,f)=>{let p={relativePath:f===void 0?u.path||"":f,caseSensitive:u.caseSensitive===!0,childrenIndex:c,route:u};p.relativePath.startsWith("/")&&(Pe(p.relativePath.startsWith(o),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(o.length));let v=kr([o,p.relativePath]),m=n.concat(p);u.children&&u.children.length>0&&(Pe(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),cf(u.children,r,m,v)),!(u.path==null&&!u.index)&&r.push({path:v,score:hm(v,u.index),routesMeta:m})};return s.forEach((u,c)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))l(u,c);else for(let p of df(u.path))l(u,c,p)}),r}function df(s){let r=s.split("/");if(r.length===0)return[];let[n,...o]=r,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(o.length===0)return l?[u,""]:[u];let c=df(o.join("/")),f=[];return f.push(...c.map(p=>p===""?u:[u,p].join("/"))),l&&f.push(...c),f.map(p=>s.startsWith("/")&&p===""?"/":p)}function im(s){s.sort((r,n)=>r.score!==n.score?n.score-r.score:fm(r.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}const om=/^:[\w-]+$/,am=3,lm=2,um=1,cm=10,dm=-2,_h=s=>s==="*";function hm(s,r){let n=s.split("/"),o=n.length;return n.some(_h)&&(o+=dm),r&&(o+=lm),n.filter(l=>!_h(l)).reduce((l,u)=>l+(om.test(u)?am:u===""?um:cm),o)}function fm(s,r){return s.length===r.length&&s.slice(0,-1).every((o,l)=>o===r[l])?s[s.length-1]-r[r.length-1]:0}function pm(s,r,n){let{routesMeta:o}=s,l={},u="/",c=[];for(let f=0;f<o.length;++f){let p=o[f],v=f===o.length-1,m=u==="/"?r:r.slice(u.length)||"/",w=Cl({path:p.relativePath,caseSensitive:p.caseSensitive,end:v},m),_=p.route;if(!w)return null;Object.assign(l,w.params),c.push({params:l,pathname:kr([u,w.pathname]),pathnameBase:Sm(kr([u,w.pathnameBase])),route:_}),w.pathnameBase!=="/"&&(u=kr([u,w.pathnameBase]))}return c}function Cl(s,r){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,o]=gm(s.path,s.caseSensitive,s.end),l=r.match(n);if(!l)return null;let u=l[0],c=u.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:o.reduce((v,m,w)=>{let{paramName:_,isOptional:C}=m;if(_==="*"){let b=f[w]||"";c=u.slice(0,u.length-b.length).replace(/(.)\/+$/,"$1")}const E=f[w];return C&&!E?v[_]=void 0:v[_]=(E||"").replace(/%2F/g,"/"),v},{}),pathname:u,pathnameBase:c,pattern:s}}function gm(s,r,n){r===void 0&&(r=!1),n===void 0&&(n=!0),Wl(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let o=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,p)=>(o.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(o.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,r?void 0:"i"),o]}function vm(s){try{return s.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Wl(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),s}}function On(s,r){if(r==="/")return s;if(!s.toLowerCase().startsWith(r.toLowerCase()))return null;let n=r.endsWith("/")?r.length-1:r.length,o=s.charAt(n);return o&&o!=="/"?null:s.slice(n)||"/"}const mm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ym=s=>mm.test(s);function wm(s,r){r===void 0&&(r="/");let{pathname:n,search:o="",hash:l=""}=typeof s=="string"?Tn(s):s,u;if(n)if(ym(n))u=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),Wl(!1,"Pathnames cannot have embedded double slashes - normalizing "+(c+" -> "+n))}n.startsWith("/")?u=Sh(n.substring(1),"/"):u=Sh(n,r)}else u=r;return{pathname:u,search:Em(o),hash:km(l)}}function Sh(s,r){let n=r.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function cl(s,r,n,o){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _m(s){return s.filter((r,n)=>n===0||r.route.path&&r.route.path.length>0)}function Hl(s,r){let n=_m(s);return r?n.map((o,l)=>l===n.length-1?o.pathname:o.pathnameBase):n.map(o=>o.pathnameBase)}function Kl(s,r,n,o){o===void 0&&(o=!1);let l;typeof s=="string"?l=Tn(s):(l=ks({},s),Pe(!l.pathname||!l.pathname.includes("?"),cl("?","pathname","search",l)),Pe(!l.pathname||!l.pathname.includes("#"),cl("#","pathname","hash",l)),Pe(!l.search||!l.search.includes("#"),cl("#","search","hash",l)));let u=s===""||l.pathname==="",c=u?"/":l.pathname,f;if(c==null)f=n;else{let w=r.length-1;if(!o&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),w-=1;l.pathname=_.join("/")}f=w>=0?r[w]:"/"}let p=wm(l,f),v=c&&c!=="/"&&c.endsWith("/"),m=(u||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(v||m)&&(p.pathname+="/"),p}const kr=s=>s.join("/").replace(/\/\/+/g,"/"),Sm=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Em=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,km=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function bm(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const hf=["post","put","patch","delete"];new Set(hf);const Cm=["get",...hf];new Set(Cm);function bs(){return bs=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(s[o]=n[o])}return s},bs.apply(this,arguments)}const oo=N.createContext(null),ff=N.createContext(null),Zt=N.createContext(null),ao=N.createContext(null),er=N.createContext({outlet:null,matches:[],isDataRoute:!1}),pf=N.createContext(null);function Om(s,r){let{relative:n}=r===void 0?{}:r;Rn()||Pe(!1);let{basename:o,navigator:l}=N.useContext(Zt),{hash:u,pathname:c,search:f}=lo(s,{relative:n}),p=c;return o!=="/"&&(p=c==="/"?o:kr([o,c])),l.createHref({pathname:p,search:f,hash:u})}function Rn(){return N.useContext(ao)!=null}function Wr(){return Rn()||Pe(!1),N.useContext(ao).location}function gf(s){N.useContext(Zt).static||N.useLayoutEffect(s)}function Ql(){let{isDataRoute:s}=N.useContext(er);return s?Mm():Pm()}function Pm(){Rn()||Pe(!1);let s=N.useContext(oo),{basename:r,future:n,navigator:o}=N.useContext(Zt),{matches:l}=N.useContext(er),{pathname:u}=Wr(),c=JSON.stringify(Hl(l,n.v7_relativeSplatPath)),f=N.useRef(!1);return gf(()=>{f.current=!0}),N.useCallback(function(v,m){if(m===void 0&&(m={}),!f.current)return;if(typeof v=="number"){o.go(v);return}let w=Kl(v,JSON.parse(c),u,m.relative==="path");s==null&&r!=="/"&&(w.pathname=w.pathname==="/"?r:kr([r,w.pathname])),(m.replace?o.replace:o.push)(w,m.state,m)},[r,o,c,u,s])}function V0(){let{matches:s}=N.useContext(er),r=s[s.length-1];return r?r.params:{}}function lo(s,r){let{relative:n}=r===void 0?{}:r,{future:o}=N.useContext(Zt),{matches:l}=N.useContext(er),{pathname:u}=Wr(),c=JSON.stringify(Hl(l,o.v7_relativeSplatPath));return N.useMemo(()=>Kl(s,JSON.parse(c),u,n==="path"),[s,c,u,n])}function Tm(s,r){return Rm(s,r)}function Rm(s,r,n,o){Rn()||Pe(!1);let{navigator:l}=N.useContext(Zt),{matches:u}=N.useContext(er),c=u[u.length-1],f=c?c.params:{};c&&c.pathname;let p=c?c.pathnameBase:"/";c&&c.route;let v=Wr(),m;if(r){var w;let S=typeof r=="string"?Tn(r):r;p==="/"||(w=S.pathname)!=null&&w.startsWith(p)||Pe(!1),m=S}else m=v;let _=m.pathname||"/",C=_;if(p!=="/"){let S=p.replace(/^\//,"").split("/");C="/"+_.replace(/^\//,"").split("/").slice(S.length).join("/")}let E=nm(s,{pathname:C}),b=Nm(E&&E.map(S=>Object.assign({},S,{params:Object.assign({},f,S.params),pathname:kr([p,l.encodeLocation?l.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?p:kr([p,l.encodeLocation?l.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),u,n,o);return r&&b?N.createElement(ao.Provider,{value:{location:bs({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Er.Pop}},b):b}function xm(){let s=Dm(),r=bm(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},r),n?N.createElement("pre",{style:l},n):null,null)}const jm=N.createElement(xm,null);class Am extends N.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,n){return n.location!==r.location||n.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:n.error,location:n.location,revalidation:r.revalidation||n.revalidation}}componentDidCatch(r,n){console.error("React Router caught the following error during render",r,n)}render(){return this.state.error!==void 0?N.createElement(er.Provider,{value:this.props.routeContext},N.createElement(pf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Im(s){let{routeContext:r,match:n,children:o}=s,l=N.useContext(oo);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(er.Provider,{value:r},o)}function Nm(s,r,n,o){var l;if(r===void 0&&(r=[]),n===void 0&&(n=null),o===void 0&&(o=null),s==null){var u;if(!n)return null;if(n.errors)s=n.matches;else if((u=o)!=null&&u.v7_partialHydration&&r.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let c=s,f=(l=n)==null?void 0:l.errors;if(f!=null){let m=c.findIndex(w=>w.route.id&&f?.[w.route.id]!==void 0);m>=0||Pe(!1),c=c.slice(0,Math.min(c.length,m+1))}let p=!1,v=-1;if(n&&o&&o.v7_partialHydration)for(let m=0;m<c.length;m++){let w=c[m];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(v=m),w.route.id){let{loaderData:_,errors:C}=n,E=w.route.loader&&_[w.route.id]===void 0&&(!C||C[w.route.id]===void 0);if(w.route.lazy||E){p=!0,v>=0?c=c.slice(0,v+1):c=[c[0]];break}}}return c.reduceRight((m,w,_)=>{let C,E=!1,b=null,S=null;n&&(C=f&&w.route.id?f[w.route.id]:void 0,b=w.route.errorElement||jm,p&&(v<0&&_===0?(Fm("route-fallback"),E=!0,S=null):v===_&&(E=!0,S=w.route.hydrateFallbackElement||null)));let I=r.concat(c.slice(0,_+1)),j=()=>{let A;return C?A=b:E?A=S:w.route.Component?A=N.createElement(w.route.Component,null):w.route.element?A=w.route.element:A=m,N.createElement(Im,{match:w,routeContext:{outlet:m,matches:I,isDataRoute:n!=null},children:A})};return n&&(w.route.ErrorBoundary||w.route.errorElement||_===0)?N.createElement(Am,{location:n.location,revalidation:n.revalidation,component:b,error:C,children:j(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):j()},null)}var vf=(function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s})(vf||{}),mf=(function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s})(mf||{});function Lm(s){let r=N.useContext(oo);return r||Pe(!1),r}function Um(s){let r=N.useContext(ff);return r||Pe(!1),r}function $m(s){let r=N.useContext(er);return r||Pe(!1),r}function yf(s){let r=$m(),n=r.matches[r.matches.length-1];return n.route.id||Pe(!1),n.route.id}function Dm(){var s;let r=N.useContext(pf),n=Um(),o=yf();return r!==void 0?r:(s=n.errors)==null?void 0:s[o]}function Mm(){let{router:s}=Lm(vf.UseNavigateStable),r=yf(mf.UseNavigateStable),n=N.useRef(!1);return gf(()=>{n.current=!0}),N.useCallback(function(l,u){u===void 0&&(u={}),n.current&&(typeof l=="number"?s.navigate(l):s.navigate(l,bs({fromRouteId:r},u)))},[s,r])}const Eh={};function Fm(s,r,n){Eh[s]||(Eh[s]=!0)}function Bm(s,r){s?.v7_startTransition,s?.v7_relativeSplatPath}function zm(s){let{to:r,replace:n,state:o,relative:l}=s;Rn()||Pe(!1);let{future:u,static:c}=N.useContext(Zt),{matches:f}=N.useContext(er),{pathname:p}=Wr(),v=Ql(),m=Kl(r,Hl(f,u.v7_relativeSplatPath),p,l==="path"),w=JSON.stringify(m);return N.useEffect(()=>v(JSON.parse(w),{replace:n,state:o,relative:l}),[v,w,l,n,o]),null}function St(s){Pe(!1)}function Vm(s){let{basename:r="/",children:n=null,location:o,navigationType:l=Er.Pop,navigator:u,static:c=!1,future:f}=s;Rn()&&Pe(!1);let p=r.replace(/^\/*/,"/"),v=N.useMemo(()=>({basename:p,navigator:u,static:c,future:bs({v7_relativeSplatPath:!1},f)}),[p,f,u,c]);typeof o=="string"&&(o=Tn(o));let{pathname:m="/",search:w="",hash:_="",state:C=null,key:E="default"}=o,b=N.useMemo(()=>{let S=On(m,p);return S==null?null:{location:{pathname:S,search:w,hash:_,state:C,key:E},navigationType:l}},[p,m,w,_,C,E,l]);return b==null?null:N.createElement(Zt.Provider,{value:v},N.createElement(ao.Provider,{children:n,value:b}))}function qm(s){let{children:r,location:n}=s;return Tm(Ol(r),n)}new Promise(()=>{});function Ol(s,r){r===void 0&&(r=[]);let n=[];return N.Children.forEach(s,(o,l)=>{if(!N.isValidElement(o))return;let u=[...r,l];if(o.type===N.Fragment){n.push.apply(n,Ol(o.props.children,u));return}o.type!==St&&Pe(!1),!o.props.index||!o.props.children||Pe(!1);let c={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(c.children=Ol(o.props.children,u)),n.push(c)}),n}function Xi(){return Xi=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(s[o]=n[o])}return s},Xi.apply(this,arguments)}function wf(s,r){if(s==null)return{};var n={},o=Object.keys(s),l,u;for(u=0;u<o.length;u++)l=o[u],!(r.indexOf(l)>=0)&&(n[l]=s[l]);return n}function Wm(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function Hm(s,r){return s.button===0&&(!r||r==="_self")&&!Wm(s)}function Pl(s){return s===void 0&&(s=""),new URLSearchParams(typeof s=="string"||Array.isArray(s)||s instanceof URLSearchParams?s:Object.keys(s).reduce((r,n)=>{let o=s[n];return r.concat(Array.isArray(o)?o.map(l=>[n,l]):[[n,o]])},[]))}function Km(s,r){let n=Pl(s);return r&&r.forEach((o,l)=>{n.has(l)||r.getAll(l).forEach(u=>{n.append(l,u)})}),n}const Qm=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Gm=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Jm="6";try{window.__reactRouterVersion=Jm}catch{}const Ym=N.createContext({isTransitioning:!1}),Xm="startTransition",kh=Yv[Xm];function Zm(s){let{basename:r,children:n,future:o,window:l}=s,u=N.useRef();u.current==null&&(u.current=em({window:l,v5Compat:!0}));let c=u.current,[f,p]=N.useState({action:c.action,location:c.location}),{v7_startTransition:v}=o||{},m=N.useCallback(w=>{v&&kh?kh(()=>p(w)):p(w)},[p,v]);return N.useLayoutEffect(()=>c.listen(m),[c,m]),N.useEffect(()=>Bm(o),[o]),N.createElement(Vm,{basename:r,children:n,location:f.location,navigationType:f.action,navigator:c,future:o})}const ey=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ty=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ry=N.forwardRef(function(r,n){let{onClick:o,relative:l,reloadDocument:u,replace:c,state:f,target:p,to:v,preventScrollReset:m,viewTransition:w}=r,_=wf(r,Qm),{basename:C}=N.useContext(Zt),E,b=!1;if(typeof v=="string"&&ty.test(v)&&(E=v,ey))try{let A=new URL(window.location.href),M=v.startsWith("//")?new URL(A.protocol+v):new URL(v),Y=On(M.pathname,C);M.origin===A.origin&&Y!=null?v=Y+M.search+M.hash:b=!0}catch{}let S=Om(v,{relative:l}),I=sy(v,{replace:c,state:f,target:p,preventScrollReset:m,relative:l,viewTransition:w});function j(A){o&&o(A),A.defaultPrevented||I(A)}return N.createElement("a",Xi({},_,{href:E||S,onClick:b||u?o:j,ref:n,target:p}))}),q0=N.forwardRef(function(r,n){let{"aria-current":o="page",caseSensitive:l=!1,className:u="",end:c=!1,style:f,to:p,viewTransition:v,children:m}=r,w=wf(r,Gm),_=lo(p,{relative:w.relative}),C=Wr(),E=N.useContext(ff),{navigator:b,basename:S}=N.useContext(Zt),I=E!=null&&iy(_)&&v===!0,j=b.encodeLocation?b.encodeLocation(_).pathname:_.pathname,A=C.pathname,M=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;l||(A=A.toLowerCase(),M=M?M.toLowerCase():null,j=j.toLowerCase()),M&&S&&(M=On(M,S)||M);const Y=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let X=A===j||!c&&A.startsWith(j)&&A.charAt(Y)==="/",oe=M!=null&&(M===j||!c&&M.startsWith(j)&&M.charAt(j.length)==="/"),we={isActive:X,isPending:oe,isTransitioning:I},Ae=X?o:void 0,it;typeof u=="function"?it=u(we):it=[u,X?"active":null,oe?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let zt=typeof f=="function"?f(we):f;return N.createElement(ry,Xi({},w,{"aria-current":Ae,className:it,ref:n,style:zt,to:p,viewTransition:v}),typeof m=="function"?m(we):m)});var Tl;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(Tl||(Tl={}));var bh;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(bh||(bh={}));function ny(s){let r=N.useContext(oo);return r||Pe(!1),r}function sy(s,r){let{target:n,replace:o,state:l,preventScrollReset:u,relative:c,viewTransition:f}=r===void 0?{}:r,p=Ql(),v=Wr(),m=lo(s,{relative:c});return N.useCallback(w=>{if(Hm(w,n)){w.preventDefault();let _=o!==void 0?o:Yi(v)===Yi(m);p(s,{replace:_,state:l,preventScrollReset:u,relative:c,viewTransition:f})}},[v,p,m,o,l,n,s,u,c,f])}function W0(s){let r=N.useRef(Pl(s)),n=N.useRef(!1),o=Wr(),l=N.useMemo(()=>Km(o.search,n.current?null:r.current),[o.search]),u=Ql(),c=N.useCallback((f,p)=>{const v=Pl(typeof f=="function"?f(l):f);n.current=!0,u("?"+v,p)},[u,l]);return[l,c]}function iy(s,r){r===void 0&&(r={});let n=N.useContext(Ym);n==null&&Pe(!1);let{basename:o}=ny(Tl.useViewTransitionState),l=lo(s,{relative:r.relative});if(!n.isTransitioning)return!1;let u=On(n.currentLocation.pathname,o)||n.currentLocation.pathname,c=On(n.nextLocation.pathname,o)||n.nextLocation.pathname;return Cl(l.pathname,c)!=null||Cl(l.pathname,u)!=null}var Rl=function(s,r){return Rl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(n[l]=o[l])},Rl(s,r)};function _f(s,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");Rl(s,r);function n(){this.constructor=s}s.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var Zi=function(){return Zi=Object.assign||function(r){for(var n,o=1,l=arguments.length;o<l;o++){n=arguments[o];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(r[u]=n[u])}return r},Zi.apply(this,arguments)};function xn(s,r){var n={};for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&r.indexOf(o)<0&&(n[o]=s[o]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(s);l<o.length;l++)r.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(s,o[l])&&(n[o[l]]=s[o[l]]);return n}function Sf(s,r,n,o){var l=arguments.length,u=l<3?r:o===null?o=Object.getOwnPropertyDescriptor(r,n):o,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(s,r,n,o);else for(var f=s.length-1;f>=0;f--)(c=s[f])&&(u=(l<3?c(u):l>3?c(r,n,u):c(r,n))||u);return l>3&&u&&Object.defineProperty(r,n,u),u}function Ef(s,r){return function(n,o){r(n,o,s)}}function kf(s,r,n,o,l,u){function c(I){if(I!==void 0&&typeof I!="function")throw new TypeError("Function expected");return I}for(var f=o.kind,p=f==="getter"?"get":f==="setter"?"set":"value",v=!r&&s?o.static?s:s.prototype:null,m=r||(v?Object.getOwnPropertyDescriptor(v,o.name):{}),w,_=!1,C=n.length-1;C>=0;C--){var E={};for(var b in o)E[b]=b==="access"?{}:o[b];for(var b in o.access)E.access[b]=o.access[b];E.addInitializer=function(I){if(_)throw new TypeError("Cannot add initializers after decoration has completed");u.push(c(I||null))};var S=(0,n[C])(f==="accessor"?{get:m.get,set:m.set}:m[p],E);if(f==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(w=c(S.get))&&(m.get=w),(w=c(S.set))&&(m.set=w),(w=c(S.init))&&l.unshift(w)}else(w=c(S))&&(f==="field"?l.unshift(w):m[p]=w)}v&&Object.defineProperty(v,o.name,m),_=!0}function bf(s,r,n){for(var o=arguments.length>2,l=0;l<r.length;l++)n=o?r[l].call(s,n):r[l].call(s);return o?n:void 0}function Cf(s){return typeof s=="symbol"?s:"".concat(s)}function Of(s,r,n){return typeof r=="symbol"&&(r=r.description?"[".concat(r.description,"]"):""),Object.defineProperty(s,"name",{configurable:!0,value:n?"".concat(n," ",r):r})}function Pf(s,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(s,r)}function Q(s,r,n,o){function l(u){return u instanceof n?u:new n(function(c){c(u)})}return new(n||(n=Promise))(function(u,c){function f(m){try{v(o.next(m))}catch(w){c(w)}}function p(m){try{v(o.throw(m))}catch(w){c(w)}}function v(m){m.done?u(m.value):l(m.value).then(f,p)}v((o=o.apply(s,r||[])).next())})}function Tf(s,r){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},o,l,u,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=f(0),c.throw=f(1),c.return=f(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(v){return function(m){return p([v,m])}}function p(v){if(o)throw new TypeError("Generator is already executing.");for(;c&&(c=0,v[0]&&(n=0)),n;)try{if(o=1,l&&(u=v[0]&2?l.return:v[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,v[1])).done)return u;switch(l=0,u&&(v=[v[0]&2,u.value]),v[0]){case 0:case 1:u=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,l=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!u||v[1]>u[0]&&v[1]<u[3])){n.label=v[1];break}if(v[0]===6&&n.label<u[1]){n.label=u[1],u=v;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(v);break}u[2]&&n.ops.pop(),n.trys.pop();continue}v=r.call(s,n)}catch(m){v=[6,m],l=0}finally{o=u=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}}var uo=Object.create?(function(s,r,n,o){o===void 0&&(o=n);var l=Object.getOwnPropertyDescriptor(r,n);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(s,o,l)}):(function(s,r,n,o){o===void 0&&(o=n),s[o]=r[n]});function Rf(s,r){for(var n in s)n!=="default"&&!Object.prototype.hasOwnProperty.call(r,n)&&uo(r,s,n)}function eo(s){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&s[r],o=0;if(n)return n.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&o>=s.length&&(s=void 0),{value:s&&s[o++],done:!s}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function Gl(s,r){var n=typeof Symbol=="function"&&s[Symbol.iterator];if(!n)return s;var o=n.call(s),l,u=[],c;try{for(;(r===void 0||r-- >0)&&!(l=o.next()).done;)u.push(l.value)}catch(f){c={error:f}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(c)throw c.error}}return u}function xf(){for(var s=[],r=0;r<arguments.length;r++)s=s.concat(Gl(arguments[r]));return s}function jf(){for(var s=0,r=0,n=arguments.length;r<n;r++)s+=arguments[r].length;for(var o=Array(s),l=0,r=0;r<n;r++)for(var u=arguments[r],c=0,f=u.length;c<f;c++,l++)o[l]=u[c];return o}function Af(s,r,n){if(n||arguments.length===2)for(var o=0,l=r.length,u;o<l;o++)(u||!(o in r))&&(u||(u=Array.prototype.slice.call(r,0,o)),u[o]=r[o]);return s.concat(u||Array.prototype.slice.call(r))}function Pn(s){return this instanceof Pn?(this.v=s,this):new Pn(s)}function If(s,r,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(s,r||[]),l,u=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",c),l[Symbol.asyncIterator]=function(){return this},l;function c(C){return function(E){return Promise.resolve(E).then(C,w)}}function f(C,E){o[C]&&(l[C]=function(b){return new Promise(function(S,I){u.push([C,b,S,I])>1||p(C,b)})},E&&(l[C]=E(l[C])))}function p(C,E){try{v(o[C](E))}catch(b){_(u[0][3],b)}}function v(C){C.value instanceof Pn?Promise.resolve(C.value.v).then(m,w):_(u[0][2],C)}function m(C){p("next",C)}function w(C){p("throw",C)}function _(C,E){C(E),u.shift(),u.length&&p(u[0][0],u[0][1])}}function Nf(s){var r,n;return r={},o("next"),o("throw",function(l){throw l}),o("return"),r[Symbol.iterator]=function(){return this},r;function o(l,u){r[l]=s[l]?function(c){return(n=!n)?{value:Pn(s[l](c)),done:!1}:u?u(c):c}:u}}function Lf(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=s[Symbol.asyncIterator],n;return r?r.call(s):(s=typeof eo=="function"?eo(s):s[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(u){n[u]=s[u]&&function(c){return new Promise(function(f,p){c=s[u](c),l(f,p,c.done,c.value)})}}function l(u,c,f,p){Promise.resolve(p).then(function(v){u({value:v,done:f})},c)}}function Uf(s,r){return Object.defineProperty?Object.defineProperty(s,"raw",{value:r}):s.raw=r,s}var oy=Object.create?(function(s,r){Object.defineProperty(s,"default",{enumerable:!0,value:r})}):function(s,r){s.default=r},xl=function(s){return xl=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n},xl(s)};function $f(s){if(s&&s.__esModule)return s;var r={};if(s!=null)for(var n=xl(s),o=0;o<n.length;o++)n[o]!=="default"&&uo(r,s,n[o]);return oy(r,s),r}function Df(s){return s&&s.__esModule?s:{default:s}}function Mf(s,r,n,o){if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?s!==r||!o:!r.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?o:n==="a"?o.call(s):o?o.value:r.get(s)}function Ff(s,r,n,o,l){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?s!==r||!l:!r.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?l.call(s,n):l?l.value=n:r.set(s,n),n}function Bf(s,r){if(r===null||typeof r!="object"&&typeof r!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof s=="function"?r===s:s.has(r)}function zf(s,r,n){if(r!=null){if(typeof r!="object"&&typeof r!="function")throw new TypeError("Object expected.");var o,l;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");o=r[Symbol.asyncDispose]}if(o===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");o=r[Symbol.dispose],n&&(l=o)}if(typeof o!="function")throw new TypeError("Object not disposable.");l&&(o=function(){try{l.call(this)}catch(u){return Promise.reject(u)}}),s.stack.push({value:r,dispose:o,async:n})}else n&&s.stack.push({async:!0});return r}var ay=typeof SuppressedError=="function"?SuppressedError:function(s,r,n){var o=new Error(n);return o.name="SuppressedError",o.error=s,o.suppressed=r,o};function Vf(s){function r(u){s.error=s.hasError?new ay(u,s.error,"An error was suppressed during disposal."):u,s.hasError=!0}var n,o=0;function l(){for(;n=s.stack.pop();)try{if(!n.async&&o===1)return o=0,s.stack.push(n),Promise.resolve().then(l);if(n.dispose){var u=n.dispose.call(n.value);if(n.async)return o|=2,Promise.resolve(u).then(l,function(c){return r(c),l()})}else o|=1}catch(c){r(c)}if(o===1)return s.hasError?Promise.reject(s.error):Promise.resolve();if(s.hasError)throw s.error}return l()}function qf(s,r){return typeof s=="string"&&/^\.\.?\//.test(s)?s.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,o,l,u,c){return o?r?".jsx":".js":l&&(!u||!c)?n:l+u+"."+c.toLowerCase()+"js"}):s}const ly={__extends:_f,__assign:Zi,__rest:xn,__decorate:Sf,__param:Ef,__esDecorate:kf,__runInitializers:bf,__propKey:Cf,__setFunctionName:Of,__metadata:Pf,__awaiter:Q,__generator:Tf,__createBinding:uo,__exportStar:Rf,__values:eo,__read:Gl,__spread:xf,__spreadArrays:jf,__spreadArray:Af,__await:Pn,__asyncGenerator:If,__asyncDelegator:Nf,__asyncValues:Lf,__makeTemplateObject:Uf,__importStar:$f,__importDefault:Df,__classPrivateFieldGet:Mf,__classPrivateFieldSet:Ff,__classPrivateFieldIn:Bf,__addDisposableResource:zf,__disposeResources:Vf,__rewriteRelativeImportExtension:qf},uy=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:zf,get __assign(){return Zi},__asyncDelegator:Nf,__asyncGenerator:If,__asyncValues:Lf,__await:Pn,__awaiter:Q,__classPrivateFieldGet:Mf,__classPrivateFieldIn:Bf,__classPrivateFieldSet:Ff,__createBinding:uo,__decorate:Sf,__disposeResources:Vf,__esDecorate:kf,__exportStar:Rf,__extends:_f,__generator:Tf,__importDefault:Df,__importStar:$f,__makeTemplateObject:Uf,__metadata:Pf,__param:Ef,__propKey:Cf,__read:Gl,__rest:xn,__rewriteRelativeImportExtension:qf,__runInitializers:bf,__setFunctionName:Of,__spread:xf,__spreadArray:Af,__spreadArrays:jf,__values:eo,default:ly},Symbol.toStringTag,{value:"Module"})),cy=s=>s?(...r)=>s(...r):(...r)=>fetch(...r);class Jl extends Error{constructor(r,n="FunctionsError",o){super(r),this.name=n,this.context=o}}class dy extends Jl{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class Ch extends Jl{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class Oh extends Jl{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var jl;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(jl||(jl={}));class hy{constructor(r,{headers:n={},customFetch:o,region:l=jl.Any}={}){this.url=r,this.headers=n,this.region=l,this.fetch=cy(o)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return Q(this,arguments,void 0,function*(n,o={}){var l;let u,c;try{const{headers:f,method:p,body:v,signal:m,timeout:w}=o;let _={},{region:C}=o;C||(C=this.region);const E=new URL(`${this.url}/${n}`);C&&C!=="any"&&(_["x-region"]=C,E.searchParams.set("forceFunctionRegion",C));let b;v&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&v instanceof Blob||v instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",b=v):typeof v=="string"?(_["Content-Type"]="text/plain",b=v):typeof FormData<"u"&&v instanceof FormData?b=v:(_["Content-Type"]="application/json",b=JSON.stringify(v)):b=v;let S=m;w&&(c=new AbortController,u=setTimeout(()=>c.abort(),w),m?(S=c.signal,m.addEventListener("abort",()=>c.abort())):S=c.signal);const I=yield this.fetch(E.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),f),body:b,signal:S}).catch(Y=>{throw new dy(Y)}),j=I.headers.get("x-relay-error");if(j&&j==="true")throw new Ch(I);if(!I.ok)throw new Oh(I);let A=((l=I.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),M;return A==="application/json"?M=yield I.json():A==="application/octet-stream"||A==="application/pdf"?M=yield I.blob():A==="text/event-stream"?M=I:A==="multipart/form-data"?M=yield I.formData():M=yield I.text(),{data:M,error:null,response:I}}catch(f){return{data:null,error:f,response:f instanceof Oh||f instanceof Ch?f.context:void 0}}finally{u&&clearTimeout(u)}})}}var Qe={};const jn=fv(uy);var Bi={},zi={},Vi={},qi={},Wi={},Hi={},Ph;function Wf(){if(Ph)return Hi;Ph=1,Object.defineProperty(Hi,"__esModule",{value:!0});class s extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Hi.default=s,Hi}var Th;function Hf(){if(Th)return Wi;Th=1,Object.defineProperty(Wi,"__esModule",{value:!0});const r=jn.__importDefault(Wf());class n{constructor(l){var u,c;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(u=l.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=l.signal,this.isMaybeSingle=(c=l.isMaybeSingle)!==null&&c!==void 0?c:!1,l.fetch?this.fetch=l.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,u){return this.headers=new Headers(this.headers),this.headers.set(l,u),this}then(l,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let f=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var v,m,w,_;let C=null,E=null,b=null,S=p.status,I=p.statusText;if(p.ok){if(this.method!=="HEAD"){const Y=await p.text();Y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((v=this.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?E=Y:E=JSON.parse(Y))}const A=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),M=(w=p.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");A&&M&&M.length>1&&(b=parseInt(M[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(C={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,b=null,S=406,I="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const A=await p.text();try{C=JSON.parse(A),Array.isArray(C)&&p.status===404&&(E=[],C=null,S=200,I="OK")}catch{p.status===404&&A===""?(S=204,I="No Content"):C={message:A}}if(C&&this.isMaybeSingle&&(!((_=C?.details)===null||_===void 0)&&_.includes("0 rows"))&&(C=null,S=200,I="OK"),C&&this.shouldThrowOnError)throw new r.default(C)}return{error:C,data:E,count:b,status:S,statusText:I}});return this.shouldThrowOnError||(f=f.catch(p=>{var v,m,w,_,C,E;let b="";const S=p?.cause;if(S){const I=(v=S?.message)!==null&&v!==void 0?v:"",j=(m=S?.code)!==null&&m!==void 0?m:"";b=`${(w=p?.name)!==null&&w!==void 0?w:"FetchError"}: ${p?.message}`,b+=`

Caused by: ${(_=S?.name)!==null&&_!==void 0?_:"Error"}: ${I}`,j&&(b+=` (${j})`),S?.stack&&(b+=`
${S.stack}`)}else b=(C=p?.stack)!==null&&C!==void 0?C:"";return{error:{message:`${(E=p?.name)!==null&&E!==void 0?E:"FetchError"}: ${p?.message}`,details:b,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),f.then(l,u)}returns(){return this}overrideTypes(){return this}}return Wi.default=n,Wi}var Rh;function Kf(){if(Rh)return qi;Rh=1,Object.defineProperty(qi,"__esModule",{value:!0});const r=jn.__importDefault(Hf());class n extends r.default{select(l){let u=!1;const c=(l??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:u=!0,nullsFirst:c,foreignTable:f,referencedTable:p=f}={}){const v=p?`${p}.order`:"order",m=this.url.searchParams.get(v);return this.url.searchParams.set(v,`${m?`${m},`:""}${l}.${u?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:u,referencedTable:c=u}={}){const f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(f,`${l}`),this}range(l,u,{foreignTable:c,referencedTable:f=c}={}){const p=typeof f>"u"?"offset":`${f}.offset`,v=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(p,`${l}`),this.url.searchParams.set(v,`${u-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:u=!1,settings:c=!1,buffers:f=!1,wal:p=!1,format:v="text"}={}){var m;const w=[l?"analyze":null,u?"verbose":null,c?"settings":null,f?"buffers":null,p?"wal":null].filter(Boolean).join("|"),_=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${v}; for="${_}"; options=${w};`),v==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}}return qi.default=n,qi}var xh;function Yl(){if(xh)return Vi;xh=1,Object.defineProperty(Vi,"__esModule",{value:!0});const r=jn.__importDefault(Kf()),n=new RegExp("[,()]");class o extends r.default{eq(u,c){return this.url.searchParams.append(u,`eq.${c}`),this}neq(u,c){return this.url.searchParams.append(u,`neq.${c}`),this}gt(u,c){return this.url.searchParams.append(u,`gt.${c}`),this}gte(u,c){return this.url.searchParams.append(u,`gte.${c}`),this}lt(u,c){return this.url.searchParams.append(u,`lt.${c}`),this}lte(u,c){return this.url.searchParams.append(u,`lte.${c}`),this}like(u,c){return this.url.searchParams.append(u,`like.${c}`),this}likeAllOf(u,c){return this.url.searchParams.append(u,`like(all).{${c.join(",")}}`),this}likeAnyOf(u,c){return this.url.searchParams.append(u,`like(any).{${c.join(",")}}`),this}ilike(u,c){return this.url.searchParams.append(u,`ilike.${c}`),this}ilikeAllOf(u,c){return this.url.searchParams.append(u,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(u,c){return this.url.searchParams.append(u,`ilike(any).{${c.join(",")}}`),this}regexMatch(u,c){return this.url.searchParams.append(u,`match.${c}`),this}regexIMatch(u,c){return this.url.searchParams.append(u,`imatch.${c}`),this}is(u,c){return this.url.searchParams.append(u,`is.${c}`),this}isDistinct(u,c){return this.url.searchParams.append(u,`isdistinct.${c}`),this}in(u,c){const f=Array.from(new Set(c)).map(p=>typeof p=="string"&&n.test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(u,`in.(${f})`),this}contains(u,c){return typeof c=="string"?this.url.searchParams.append(u,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(u,`cs.{${c.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(c)}`),this}containedBy(u,c){return typeof c=="string"?this.url.searchParams.append(u,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(u,`cd.{${c.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(c)}`),this}rangeGt(u,c){return this.url.searchParams.append(u,`sr.${c}`),this}rangeGte(u,c){return this.url.searchParams.append(u,`nxl.${c}`),this}rangeLt(u,c){return this.url.searchParams.append(u,`sl.${c}`),this}rangeLte(u,c){return this.url.searchParams.append(u,`nxr.${c}`),this}rangeAdjacent(u,c){return this.url.searchParams.append(u,`adj.${c}`),this}overlaps(u,c){return typeof c=="string"?this.url.searchParams.append(u,`ov.${c}`):this.url.searchParams.append(u,`ov.{${c.join(",")}}`),this}textSearch(u,c,{config:f,type:p}={}){let v="";p==="plain"?v="pl":p==="phrase"?v="ph":p==="websearch"&&(v="w");const m=f===void 0?"":`(${f})`;return this.url.searchParams.append(u,`${v}fts${m}.${c}`),this}match(u){return Object.entries(u).forEach(([c,f])=>{this.url.searchParams.append(c,`eq.${f}`)}),this}not(u,c,f){return this.url.searchParams.append(u,`not.${c}.${f}`),this}or(u,{foreignTable:c,referencedTable:f=c}={}){const p=f?`${f}.or`:"or";return this.url.searchParams.append(p,`(${u})`),this}filter(u,c,f){return this.url.searchParams.append(u,`${c}.${f}`),this}}return Vi.default=o,Vi}var jh;function Qf(){if(jh)return zi;jh=1,Object.defineProperty(zi,"__esModule",{value:!0});const r=jn.__importDefault(Yl());class n{constructor(l,{headers:u={},schema:c,fetch:f}){this.url=l,this.headers=new Headers(u),this.schema=c,this.fetch=f}select(l,u){const{head:c=!1,count:f}=u??{},p=c?"HEAD":"GET";let v=!1;const m=(l??"*").split("").map(w=>/\s/.test(w)&&!v?"":(w==='"'&&(v=!v),w)).join("");return this.url.searchParams.set("select",m),f&&this.headers.append("Prefer",`count=${f}`),new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(l,{count:u,defaultToNull:c=!0}={}){var f;const p="POST";if(u&&this.headers.append("Prefer",`count=${u}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const v=l.reduce((m,w)=>m.concat(Object.keys(w)),[]);if(v.length>0){const m=[...new Set(v)].map(w=>`"${w}"`);this.url.searchParams.set("columns",m.join(","))}}return new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(l,{onConflict:u,ignoreDuplicates:c=!1,count:f,defaultToNull:p=!0}={}){var v;const m="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),f&&this.headers.append("Prefer",`count=${f}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const w=l.reduce((_,C)=>_.concat(Object.keys(C)),[]);if(w.length>0){const _=[...new Set(w)].map(C=>`"${C}"`);this.url.searchParams.set("columns",_.join(","))}}return new r.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}update(l,{count:u}={}){var c;const f="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new r.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:l}={}){var u;const c="DELETE";return l&&this.headers.append("Prefer",`count=${l}`),new r.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return zi.default=n,zi}var Ah;function fy(){if(Ah)return Bi;Ah=1,Object.defineProperty(Bi,"__esModule",{value:!0});const s=jn,r=s.__importDefault(Qf()),n=s.__importDefault(Yl());class o{constructor(u,{headers:c={},schema:f,fetch:p}={}){this.url=u,this.headers=new Headers(c),this.schemaName=f,this.fetch=p}from(u){if(!u||typeof u!="string"||u.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const c=new URL(`${this.url}/${u}`);return new r.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new o(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,c={},{head:f=!1,get:p=!1,count:v}={}){var m;let w;const _=new URL(`${this.url}/rpc/${u}`);let C;f||p?(w=f?"HEAD":"GET",Object.entries(c).filter(([b,S])=>S!==void 0).map(([b,S])=>[b,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([b,S])=>{_.searchParams.append(b,S)})):(w="POST",C=c);const E=new Headers(this.headers);return v&&E.set("Prefer",`count=${v}`),new n.default({method:w,url:_,headers:E,schema:this.schemaName,body:C,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}}return Bi.default=o,Bi}var Ih;function py(){if(Ih)return Qe;Ih=1,Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.PostgrestError=Qe.PostgrestBuilder=Qe.PostgrestTransformBuilder=Qe.PostgrestFilterBuilder=Qe.PostgrestQueryBuilder=Qe.PostgrestClient=void 0;const s=jn,r=s.__importDefault(fy());Qe.PostgrestClient=r.default;const n=s.__importDefault(Qf());Qe.PostgrestQueryBuilder=n.default;const o=s.__importDefault(Yl());Qe.PostgrestFilterBuilder=o.default;const l=s.__importDefault(Kf());Qe.PostgrestTransformBuilder=l.default;const u=s.__importDefault(Hf());Qe.PostgrestBuilder=u.default;const c=s.__importDefault(Wf());return Qe.PostgrestError=c.default,Qe.default={PostgrestClient:r.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:u.default,PostgrestError:c.default},Qe}var Gf=py();const Jf=tf(Gf),gy=ef({__proto__:null,default:Jf},[Gf]),{PostgrestClient:vy,PostgrestQueryBuilder:H0,PostgrestFilterBuilder:K0,PostgrestTransformBuilder:Q0,PostgrestBuilder:G0,PostgrestError:J0}=Jf||gy;class my{constructor(){}static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const o=n.node,l=parseInt(o.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let n=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(n+=`

Suggested solution: ${r.workaround}`),new Error(n)}static createWebSocket(r,n){const o=this.getWebSocketConstructor();return new o(r,n)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const yy="2.84.0",wy=`realtime-js/${yy}`,Yf="1.0.0",_y="2.0.0",Nh=Yf,Al=1e4,Sy=1e3,Ey=100;var Br;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(Br||(Br={}));var $e;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})($e||($e={}));var It;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(It||(It={}));var Il;(function(s){s.websocket="websocket"})(Il||(Il={}));var zr;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(zr||(zr={}));class ky{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(r,n){if(r.event===this.BROADCAST_EVENT&&!(r.payload instanceof ArrayBuffer)&&typeof r.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(r));let o=[r.join_ref,r.ref,r.topic,r.event,r.payload];return n(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(r){var n;return this._isArrayBuffer((n=r.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(r):this._encodeJsonUserBroadcastPush(r)}_encodeBinaryUserBroadcastPush(r){var n,o,l,u;const c=r.topic,f=(n=r.ref)!==null&&n!==void 0?n:"",p=(o=r.join_ref)!==null&&o!==void 0?o:"",v=r.payload.event,m=(u=(l=r.payload)===null||l===void 0?void 0:l.payload)!==null&&u!==void 0?u:new ArrayBuffer(0),w=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+f.length+c.length+v.length,_=new ArrayBuffer(this.HEADER_LENGTH+w);let C=new DataView(_),E=0;C.setUint8(E++,this.KINDS.userBroadcastPush),C.setUint8(E++,p.length),C.setUint8(E++,f.length),C.setUint8(E++,c.length),C.setUint8(E++,v.length),C.setUint8(E++,this.BINARY_ENCODING),Array.from(p,S=>C.setUint8(E++,S.charCodeAt(0))),Array.from(f,S=>C.setUint8(E++,S.charCodeAt(0))),Array.from(c,S=>C.setUint8(E++,S.charCodeAt(0))),Array.from(v,S=>C.setUint8(E++,S.charCodeAt(0)));var b=new Uint8Array(_.byteLength+m.byteLength);return b.set(new Uint8Array(_),0),b.set(new Uint8Array(m),_.byteLength),b.buffer}_encodeJsonUserBroadcastPush(r){var n,o,l,u;const c=r.topic,f=(n=r.ref)!==null&&n!==void 0?n:"",p=(o=r.join_ref)!==null&&o!==void 0?o:"",v=r.payload.event,m=(u=(l=r.payload)===null||l===void 0?void 0:l.payload)!==null&&u!==void 0?u:{},_=new TextEncoder().encode(JSON.stringify(m)).buffer,C=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+f.length+c.length+v.length,E=new ArrayBuffer(this.HEADER_LENGTH+C);let b=new DataView(E),S=0;b.setUint8(S++,this.KINDS.userBroadcastPush),b.setUint8(S++,p.length),b.setUint8(S++,f.length),b.setUint8(S++,c.length),b.setUint8(S++,v.length),b.setUint8(S++,this.JSON_ENCODING),Array.from(p,j=>b.setUint8(S++,j.charCodeAt(0))),Array.from(f,j=>b.setUint8(S++,j.charCodeAt(0))),Array.from(c,j=>b.setUint8(S++,j.charCodeAt(0))),Array.from(v,j=>b.setUint8(S++,j.charCodeAt(0)));var I=new Uint8Array(E.byteLength+_.byteLength);return I.set(new Uint8Array(E),0),I.set(new Uint8Array(_),E.byteLength),I.buffer}decode(r,n){if(this._isArrayBuffer(r)){let o=this._binaryDecode(r);return n(o)}if(typeof r=="string"){const o=JSON.parse(r),[l,u,c,f,p]=o;return n({join_ref:l,ref:u,topic:c,event:f,payload:p})}return n({})}_binaryDecode(r){const n=new DataView(r),o=n.getUint8(0),l=new TextDecoder;switch(o){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(r,n,l)}}_decodeUserBroadcast(r,n,o){const l=n.getUint8(1),u=n.getUint8(2),c=n.getUint8(3),f=n.getUint8(4);let p=this.HEADER_LENGTH+4;const v=o.decode(r.slice(p,p+l));p=p+l;const m=o.decode(r.slice(p,p+u));p=p+u;const w=o.decode(r.slice(p,p+c));p=p+c;const _=r.slice(p,r.byteLength),C=f===this.JSON_ENCODING?JSON.parse(o.decode(_)):_,E={type:this.BROADCAST_EVENT,event:m,payload:C};return c>0&&(E.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:v,event:this.BROADCAST_EVENT,payload:E}}_isArrayBuffer(r){var n;return r instanceof ArrayBuffer||((n=r?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class Xf{constructor(r,n){this.callback=r,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var me;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(me||(me={}));const Lh=(s,r,n={})=>{var o;const l=(o=n.skipTypes)!==null&&o!==void 0?o:[];return r?Object.keys(r).reduce((u,c)=>(u[c]=by(c,s,r,l),u),{}):{}},by=(s,r,n,o)=>{const l=r.find(f=>f.name===s),u=l?.type,c=n[s];return u&&!o.includes(u)?Zf(u,c):Nl(c)},Zf=(s,r)=>{if(s.charAt(0)==="_"){const n=s.slice(1,s.length);return Ty(r,n)}switch(s){case me.bool:return Cy(r);case me.float4:case me.float8:case me.int2:case me.int4:case me.int8:case me.numeric:case me.oid:return Oy(r);case me.json:case me.jsonb:return Py(r);case me.timestamp:return Ry(r);case me.abstime:case me.date:case me.daterange:case me.int4range:case me.int8range:case me.money:case me.reltime:case me.text:case me.time:case me.timestamptz:case me.timetz:case me.tsrange:case me.tstzrange:return Nl(r);default:return Nl(r)}},Nl=s=>s,Cy=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},Oy=s=>{if(typeof s=="string"){const r=parseFloat(s);if(!Number.isNaN(r))return r}return s},Py=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch(r){return console.log(`JSON parse error: ${r}`),s}return s},Ty=(s,r)=>{if(typeof s!="string")return s;const n=s.length-1,o=s[n];if(s[0]==="{"&&o==="}"){let u;const c=s.slice(1,n);try{u=JSON.parse("["+c+"]")}catch{u=c?c.split(","):[]}return u.map(f=>Zf(r,f))}return s},Ry=s=>typeof s=="string"?s.replace(" ","T"):s,ep=s=>{const r=new URL(s);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class dl{constructor(r,n,o={},l=Al){this.channel=r,this.event=n,this.payload=o,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,n){var o;return this._hasReceived(r)&&n((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:r,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:n}){this.recHooks.filter(o=>o.status===r).forEach(o=>o.callback(n))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var Uh;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(Uh||(Uh={}));class ws{constructor(r,n){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},l=>{const{onJoin:u,onLeave:c,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ws.syncState(this.state,l,u,c),this.pendingDiffs.forEach(p=>{this.state=ws.syncDiff(this.state,p,u,c)}),this.pendingDiffs=[],f()}),this.channel._on(o.diff,{},l=>{const{onJoin:u,onLeave:c,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=ws.syncDiff(this.state,l,u,c),f())}),this.onJoin((l,u,c)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:u,newPresences:c})}),this.onLeave((l,u,c)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:u,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,n,o,l){const u=this.cloneDeep(r),c=this.transformState(n),f={},p={};return this.map(u,(v,m)=>{c[v]||(p[v]=m)}),this.map(c,(v,m)=>{const w=u[v];if(w){const _=m.map(S=>S.presence_ref),C=w.map(S=>S.presence_ref),E=m.filter(S=>C.indexOf(S.presence_ref)<0),b=w.filter(S=>_.indexOf(S.presence_ref)<0);E.length>0&&(f[v]=E),b.length>0&&(p[v]=b)}else f[v]=m}),this.syncDiff(u,{joins:f,leaves:p},o,l)}static syncDiff(r,n,o,l){const{joins:u,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return o||(o=()=>{}),l||(l=()=>{}),this.map(u,(f,p)=>{var v;const m=(v=r[f])!==null&&v!==void 0?v:[];if(r[f]=this.cloneDeep(p),m.length>0){const w=r[f].map(C=>C.presence_ref),_=m.filter(C=>w.indexOf(C.presence_ref)<0);r[f].unshift(..._)}o(f,m,p)}),this.map(c,(f,p)=>{let v=r[f];if(!v)return;const m=p.map(w=>w.presence_ref);v=v.filter(w=>m.indexOf(w.presence_ref)<0),r[f]=v,l(f,v,p),v.length===0&&delete r[f]}),r}static map(r,n){return Object.getOwnPropertyNames(r).map(o=>n(o,r[o]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((n,o)=>{const l=r[o];return"metas"in l?n[o]=l.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):n[o]=l,n},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var $h;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})($h||($h={}));var _s;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(_s||(_s={}));var Xt;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(Xt||(Xt={}));class Xl{constructor(r,n={config:{}},o){var l,u;if(this.topic=r,this.params=n,this.socket=o,this.bindings={},this.state=$e.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new dl(this,It.join,this.params,this.timeout),this.rejoinTimer=new Xf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=$e.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=$e.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=$e.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=$e.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=$e.errored,this.rejoinTimer.scheduleTimeout())}),this._on(It.reply,{},(c,f)=>{this._trigger(this._replyEventName(f),c)}),this.presence=new ws(this),this.broadcastEndpointURL=ep(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,n=this.timeout){var o,l,u;if(this.socket.isConnected()||this.socket.connect(),this.state==$e.closed){const{config:{broadcast:c,presence:f,private:p}}=this.params,v=(l=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(C=>C.filter))!==null&&l!==void 0?l:[],m=!!this.bindings[_s.PRESENCE]&&this.bindings[_s.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,w={},_={broadcast:c,presence:Object.assign(Object.assign({},f),{enabled:m}),postgres_changes:v,private:p};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(C=>r?.(Xt.CHANNEL_ERROR,C)),this._onClose(()=>r?.(Xt.CLOSED)),this.updateJoinPayload(Object.assign({config:_},w)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:C})=>{var E;if(this.socket.setAuth(),C===void 0){r?.(Xt.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,S=(E=b?.length)!==null&&E!==void 0?E:0,I=[];for(let j=0;j<S;j++){const A=b[j],{filter:{event:M,schema:Y,table:X,filter:oe}}=A,we=C&&C[j];if(we&&we.event===M&&we.schema===Y&&we.table===X&&we.filter===oe)I.push(Object.assign(Object.assign({},A),{id:we.id}));else{this.unsubscribe(),this.state=$e.errored,r?.(Xt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=I,r&&r(Xt.SUBSCRIBED);return}}).receive("error",C=>{this.state=$e.errored,r?.(Xt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(C).join(", ")||"error")))}).receive("timeout",()=>{r?.(Xt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,n={}){return await this.send({type:"presence",event:"track",payload:r},n.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,n,o){return this.state===$e.joined&&r===_s.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(r,n,o)}async httpSend(r,n,o={}){var l;const u=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:u,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:n,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(l=o.timeout)!==null&&l!==void 0?l:this.timeout);if(f.status===202)return{success:!0};let p=f.statusText;try{const v=await f.json();p=v.error||v.message||p}catch{}return Promise.reject(new Error(p))}async send(r,n={}){var o,l;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:c}=r,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:c,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);return await((l=v.body)===null||l===void 0?void 0:l.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var c,f,p;const v=this._push(r.type,r,n.timeout||this.timeout);r.type==="broadcast"&&!(!((p=(f=(c=this.params)===null||c===void 0?void 0:c.config)===null||f===void 0?void 0:f.broadcast)===null||p===void 0)&&p.ack)&&u("ok"),v.receive("ok",()=>u("ok")),v.receive("error",()=>u("error")),v.receive("timeout",()=>u("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=$e.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(It.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(l=>{o=new dl(this,It.leave,{},r),o.receive("ok",()=>{n(),l("ok")}).receive("timeout",()=>{n(),l("timed out")}).receive("error",()=>{l("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o?.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=$e.closed,this.bindings={}}async _fetchWithTimeout(r,n,o){const l=new AbortController,u=setTimeout(()=>l.abort(),o),c=await this.socket.fetch(r,Object.assign(Object.assign({},n),{signal:l.signal}));return clearTimeout(u),c}_push(r,n,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new dl(this,r,n,o);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>Ey){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(r,n,o){return n}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,n,o){var l,u;const c=r.toLocaleLowerCase(),{close:f,error:p,leave:v,join:m}=It;if(o&&[f,p,v,m].indexOf(c)>=0&&o!==this._joinRef())return;let _=this._onMessage(c,n,o);if(n&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(C=>{var E,b,S;return((E=C.filter)===null||E===void 0?void 0:E.event)==="*"||((S=(b=C.filter)===null||b===void 0?void 0:b.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===c}).map(C=>C.callback(_,o)):(u=this.bindings[c])===null||u===void 0||u.filter(C=>{var E,b,S,I,j,A;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in C){const M=C.id,Y=(E=C.filter)===null||E===void 0?void 0:E.event;return M&&((b=n.ids)===null||b===void 0?void 0:b.includes(M))&&(Y==="*"||Y?.toLocaleLowerCase()===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const M=(j=(I=C?.filter)===null||I===void 0?void 0:I.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return M==="*"||M===((A=n?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return C.type.toLocaleLowerCase()===c}).map(C=>{if(typeof _=="object"&&"ids"in _){const E=_.data,{schema:b,table:S,commit_timestamp:I,type:j,errors:A}=E;_=Object.assign(Object.assign({},{schema:b,table:S,commit_timestamp:I,eventType:j,new:{},old:{},errors:A}),this._getPayloadRecords(E))}C.callback(_,o)})}_isClosed(){return this.state===$e.closed}_isJoined(){return this.state===$e.joined}_isJoining(){return this.state===$e.joining}_isLeaving(){return this.state===$e.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,n,o){const l=r.toLocaleLowerCase(),u={type:l,filter:n,callback:o};return this.bindings[l]?this.bindings[l].push(u):this.bindings[l]=[u],this}_off(r,n){const o=r.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(l=>{var u;return!(((u=l.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===o&&Xl.isEqual(l.filter,n))})),this}static isEqual(r,n){if(Object.keys(r).length!==Object.keys(n).length)return!1;for(const o in r)if(r[o]!==n[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(It.close,{},r)}_onError(r){this._on(It.error,{},n=>r(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=$e.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const n={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(n.new=Lh(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(n.old=Lh(r.columns,r.old_record)),n}}const hl=()=>{},Ki={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},xy=[1e3,2e3,5e3,1e4],jy=1e4,Ay=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Iy{constructor(r,n){var o;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Al,this.transport=null,this.heartbeatIntervalMs=Ki.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=hl,this.ref=0,this.reconnectTimer=null,this.vsn=Nh,this.logger=hl,this.conn=null,this.sendBuffer=[],this.serializer=new ky,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>l?(...u)=>l(...u):(...u)=>fetch(...u),!(!((o=n?.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${r}/${Il.websocket}`,this.httpEndpoint=ep(r),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=my.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const n=r.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(r,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(r?this.conn.close(r,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const n=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const r=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,n,o){this.logger(r,n,o)}connectionState(){switch(this.conn&&this.conn.readyState){case Br.connecting:return zr.Connecting;case Br.open:return zr.Open;case Br.closing:return zr.Closing;default:return zr.Closed}}isConnected(){return this.connectionState()===zr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,n={config:{}}){const o=`realtime:${r}`,l=this.getChannels().find(u=>u.topic===o);if(l)return l;{const u=new Xl(`realtime:${r}`,n,this);return this.channels.push(u),u}}push(r){const{topic:n,event:o,payload:l,ref:u}=r,c=()=>{this.encode(r,f=>{var p;(p=this.conn)===null||p===void 0||p.send(f)})};this.log("push",`${n} ${o} (${u})`,l),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(Sy,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ki.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let n=this.channels.find(o=>o.topic===r&&(o._isJoined()||o._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${r}"`),n.unsubscribe())}_remove(r){this.channels=this.channels.filter(n=>n.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(v){this.log("error","error in heartbeat callback",v)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:l,payload:u,ref:c}=n,f=c?`(${c})`:"",p=u.status||"";this.log("receive",`${p} ${o} ${l} ${f}`.trim(),u),this.channels.filter(v=>v._isMember(o)).forEach(v=>v._trigger(l,u,c)),this._triggerStateCallbacks("message",n)})}_clearTimer(r){var n;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Br.open||this.conn.readyState===Br.connecting)try{this.conn.close()}catch(r){this.log("error","Error closing connection",r)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){var n;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(It.error))}_appendParams(r,n){if(Object.keys(n).length===0)return r;const o=r.match(/\?/)?"&":"?",l=new URLSearchParams(n);return`${r}${o}${l}`}_workerObjectUrl(r){let n;if(r)n=r;else{const o=new Blob([Ay],{type:"application/javascript"});n=URL.createObjectURL(o)}return n}_setConnectionState(r,n=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(r=null){let n;r?n=r:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{const l={access_token:n,version:wy};n&&o.updateJoinPayload(l),o.joinedOnce&&o._isJoined()&&o._push(It.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${r}`,n)})}_triggerStateCallbacks(r,n){try{this.stateChangeCallbacks[r].forEach(o=>{try{o(n)}catch(l){this.log("error",`error in ${r} callback`,l)}})}catch(o){this.log("error",`error triggering ${r} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new Xf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ki.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var n,o,l,u,c,f,p,v,m,w,_,C;switch(this.transport=(n=r?.transport)!==null&&n!==void 0?n:null,this.timeout=(o=r?.timeout)!==null&&o!==void 0?o:Al,this.heartbeatIntervalMs=(l=r?.heartbeatIntervalMs)!==null&&l!==void 0?l:Ki.HEARTBEAT_INTERVAL,this.worker=(u=r?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(c=r?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(f=r?.heartbeatCallback)!==null&&f!==void 0?f:hl,this.vsn=(p=r?.vsn)!==null&&p!==void 0?p:Nh,r?.params&&(this.params=r.params),r?.logger&&(this.logger=r.logger),(r?.logLevel||r?.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(v=r?.reconnectAfterMs)!==null&&v!==void 0?v:(E=>xy[E-1]||jy),this.vsn){case Yf:this.encode=(m=r?.encode)!==null&&m!==void 0?m:((E,b)=>b(JSON.stringify(E))),this.decode=(w=r?.decode)!==null&&w!==void 0?w:((E,b)=>b(JSON.parse(E)));break;case _y:this.encode=(_=r?.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(C=r?.decode)!==null&&C!==void 0?C:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r?.workerUrl}}}class Zl extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function Oe(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}class Ny extends Zl{constructor(r,n,o){super(r),this.name="StorageApiError",this.status=n,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ll extends Zl{constructor(r,n){super(r),this.name="StorageUnknownError",this.originalError=n}}const eu=s=>s?(...r)=>s(...r):(...r)=>fetch(...r),Ly=()=>Response,Ul=s=>{if(Array.isArray(s))return s.map(n=>Ul(n));if(typeof s=="function"||s!==Object(s))return s;const r={};return Object.entries(s).forEach(([n,o])=>{const l=n.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));r[l]=Ul(o)}),r},Uy=s=>{if(typeof s!="object"||s===null)return!1;const r=Object.getPrototypeOf(s);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},fl=s=>{var r;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(r=s.error)===null||r===void 0?void 0:r.message)||JSON.stringify(s)},$y=(s,r,n)=>Q(void 0,void 0,void 0,function*(){const o=yield Ly();s instanceof o&&!n?.noResolveJson?s.json().then(l=>{const u=s.status||500,c=l?.statusCode||u+"";r(new Ny(fl(l),u,c))}).catch(l=>{r(new Ll(fl(l),l))}):r(new Ll(fl(s),s))}),Dy=(s,r,n,o)=>{const l={method:s,headers:r?.headers||{}};return s==="GET"||!o?l:(Uy(o)?(l.headers=Object.assign({"Content-Type":"application/json"},r?.headers),l.body=JSON.stringify(o)):l.body=o,r?.duplex&&(l.duplex=r.duplex),Object.assign(Object.assign({},l),n))};function Ts(s,r,n,o,l,u){return Q(this,void 0,void 0,function*(){return new Promise((c,f)=>{s(n,Dy(r,o,l,u)).then(p=>{if(!p.ok)throw p;return o?.noResolveJson?p:p.json()}).then(p=>c(p)).catch(p=>$y(p,f,o))})})}function Cs(s,r,n,o){return Q(this,void 0,void 0,function*(){return Ts(s,"GET",r,n,o)})}function At(s,r,n,o,l){return Q(this,void 0,void 0,function*(){return Ts(s,"POST",r,o,l,n)})}function $l(s,r,n,o,l){return Q(this,void 0,void 0,function*(){return Ts(s,"PUT",r,o,l,n)})}function My(s,r,n,o){return Q(this,void 0,void 0,function*(){return Ts(s,"HEAD",r,Object.assign(Object.assign({},n),{noResolveJson:!0}),o)})}function tu(s,r,n,o,l){return Q(this,void 0,void 0,function*(){return Ts(s,"DELETE",r,o,l,n)})}class Fy{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n}then(r,n){return this.execute().then(r,n)}execute(){return Q(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}})}}var tp;class By{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n,this[tp]="BlobDownloadBuilder",this.promise=null}asStream(){return new Fy(this.downloadFn,this.shouldThrowOnError)}then(r,n){return this.getPromise().then(r,n)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Q(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}})}}tp=Symbol.toStringTag;const zy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Dh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Vy{constructor(r,n={},o,l){this.shouldThrowOnError=!1,this.url=r,this.headers=n,this.bucketId=o,this.fetch=eu(l)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(r,n,o,l){return Q(this,void 0,void 0,function*(){try{let u;const c=Object.assign(Object.assign({},Dh),l);let f=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(c.upsert)});const p=c.metadata;typeof Blob<"u"&&o instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),p&&u.append("metadata",this.encodeMetadata(p)),u.append("",o)):typeof FormData<"u"&&o instanceof FormData?(u=o,u.has("cacheControl")||u.append("cacheControl",c.cacheControl),p&&!u.has("metadata")&&u.append("metadata",this.encodeMetadata(p))):(u=o,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType,p&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(p))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!c.duplex&&(c.duplex="half")),l?.headers&&(f=Object.assign(Object.assign({},f),l.headers));const v=this._removeEmptyFolders(n),m=this._getFinalPath(v),w=yield(r=="PUT"?$l:At)(this.fetch,`${this.url}/object/${m}`,u,Object.assign({headers:f},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:v,id:w.Id,fullPath:w.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Oe(u))return{data:null,error:u};throw u}})}upload(r,n,o){return Q(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,n,o)})}uploadToSignedUrl(r,n,o,l){return Q(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(r),c=this._getFinalPath(u),f=new URL(this.url+`/object/upload/sign/${c}`);f.searchParams.set("token",n);try{let p;const v=Object.assign({upsert:Dh.upsert},l),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(v.upsert)});typeof Blob<"u"&&o instanceof Blob?(p=new FormData,p.append("cacheControl",v.cacheControl),p.append("",o)):typeof FormData<"u"&&o instanceof FormData?(p=o,p.append("cacheControl",v.cacheControl)):(p=o,m["cache-control"]=`max-age=${v.cacheControl}`,m["content-type"]=v.contentType);const w=yield $l(this.fetch,f.toString(),p,{headers:m});return{data:{path:u,fullPath:w.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(Oe(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(r,n){return Q(this,void 0,void 0,function*(){try{let o=this._getFinalPath(r);const l=Object.assign({},this.headers);n?.upsert&&(l["x-upsert"]="true");const u=yield At(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:l}),c=new URL(this.url+u.url),f=c.searchParams.get("token");if(!f)throw new Zl("No token returned by API");return{data:{signedUrl:c.toString(),path:r,token:f},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Oe(o))return{data:null,error:o};throw o}})}update(r,n,o){return Q(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,n,o)})}move(r,n,o){return Q(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:o?.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Oe(l))return{data:null,error:l};throw l}})}copy(r,n,o){return Q(this,void 0,void 0,function*(){try{return{data:{path:(yield At(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:o?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Oe(l))return{data:null,error:l};throw l}})}createSignedUrl(r,n,o){return Q(this,void 0,void 0,function*(){try{let l=this._getFinalPath(r),u=yield At(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:n},o?.transform?{transform:o.transform}:{}),{headers:this.headers});const c=o?.download?`&download=${o.download===!0?"":o.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${c}`)},{data:u,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Oe(l))return{data:null,error:l};throw l}})}createSignedUrls(r,n,o){return Q(this,void 0,void 0,function*(){try{const l=yield At(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:r},{headers:this.headers}),u=o?.download?`&download=${o.download===!0?"":o.download}`:"";return{data:l.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${u}`):null})),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Oe(l))return{data:null,error:l};throw l}})}download(r,n){const l=typeof n?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(n?.transform||{}),c=u?`?${u}`:"",f=this._getFinalPath(r),p=()=>Cs(this.fetch,`${this.url}/${l}/${f}${c}`,{headers:this.headers,noResolveJson:!0});return new By(p,this.shouldThrowOnError)}info(r){return Q(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{const o=yield Cs(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ul(o),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Oe(o))return{data:null,error:o};throw o}})}exists(r){return Q(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{return yield My(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Oe(o)&&o instanceof Ll){const l=o.originalError;if([400,404].includes(l?.status))return{data:!1,error:o}}throw o}})}getPublicUrl(r,n){const o=this._getFinalPath(r),l=[],u=n?.download?`download=${n.download===!0?"":n.download}`:"";u!==""&&l.push(u);const f=typeof n?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(n?.transform||{});p!==""&&l.push(p);let v=l.join("&");return v!==""&&(v=`?${v}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${o}${v}`)}}}remove(r){return Q(this,void 0,void 0,function*(){try{return{data:yield tu(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}})}list(r,n,o){return Q(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},zy),n),{prefix:r||""});return{data:yield At(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},o),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Oe(l))return{data:null,error:l};throw l}})}listV2(r,n){return Q(this,void 0,void 0,function*(){try{const o=Object.assign({},r);return{data:yield At(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,o,{headers:this.headers},n),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Oe(o))return{data:null,error:o};throw o}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const n=[];return r.width&&n.push(`width=${r.width}`),r.height&&n.push(`height=${r.height}`),r.resize&&n.push(`resize=${r.resize}`),r.format&&n.push(`format=${r.format}`),r.quality&&n.push(`quality=${r.quality}`),n.join("&")}}const rp="2.84.0",np={"X-Client-Info":`storage-js/${rp}`};class qy{constructor(r,n={},o,l){this.shouldThrowOnError=!1;const u=new URL(r);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},np),n),this.fetch=eu(o)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(r){return Q(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(r);return{data:yield Cs(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}})}getBucket(r){return Q(this,void 0,void 0,function*(){try{return{data:yield Cs(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}})}createBucket(r){return Q(this,arguments,void 0,function*(n,o={public:!1}){try{return{data:yield At(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:o.type,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Oe(l))return{data:null,error:l};throw l}})}updateBucket(r,n){return Q(this,void 0,void 0,function*(){try{return{data:yield $l(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Oe(o))return{data:null,error:o};throw o}})}emptyBucket(r){return Q(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}})}deleteBucket(r){return Q(this,void 0,void 0,function*(){try{return{data:yield tu(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(r){const n={};return r&&("limit"in r&&(n.limit=String(r.limit)),"offset"in r&&(n.offset=String(r.offset)),r.search&&(n.search=r.search),r.sortColumn&&(n.sortColumn=r.sortColumn),r.sortOrder&&(n.sortOrder=r.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class Wy{constructor(r,n={},o){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},np),n),this.fetch=eu(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return Q(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/bucket`,{name:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}})}listBuckets(r){return Q(this,void 0,void 0,function*(){try{const n=new URLSearchParams;r?.limit!==void 0&&n.set("limit",r.limit.toString()),r?.offset!==void 0&&n.set("offset",r.offset.toString()),r?.sortColumn&&n.set("sortColumn",r.sortColumn),r?.sortOrder&&n.set("sortOrder",r.sortOrder),r?.search&&n.set("search",r.search);const o=n.toString(),l=o?`${this.url}/bucket?${o}`:`${this.url}/bucket`;return{data:yield Cs(this.fetch,l,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}})}deleteBucket(r){return Q(this,void 0,void 0,function*(){try{return{data:yield tu(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}})}}const ru={"X-Client-Info":`storage-js/${rp}`,"Content-Type":"application/json"};class sp extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ft(s){return typeof s=="object"&&s!==null&&"__isStorageVectorsError"in s}class pl extends sp{constructor(r,n,o){super(r),this.name="StorageVectorsApiError",this.status=n,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Hy extends sp{constructor(r,n){super(r),this.name="StorageVectorsUnknownError",this.originalError=n}}var Mh;(function(s){s.InternalError="InternalError",s.S3VectorConflictException="S3VectorConflictException",s.S3VectorNotFoundException="S3VectorNotFoundException",s.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",s.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",s.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Mh||(Mh={}));const nu=s=>s?(...r)=>s(...r):(...r)=>fetch(...r),Ky=s=>{if(typeof s!="object"||s===null)return!1;const r=Object.getPrototypeOf(s);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},Fh=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Qy=(s,r,n)=>Q(void 0,void 0,void 0,function*(){if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!n?.noResolveJson){const l=s.status||500,u=s;if(typeof u.json=="function")u.json().then(c=>{const f=c?.statusCode||c?.code||l+"";r(new pl(Fh(c),l,f))}).catch(()=>{const c=l+"",f=u.statusText||`HTTP ${l} error`;r(new pl(f,l,c))});else{const c=l+"",f=u.statusText||`HTTP ${l} error`;r(new pl(f,l,c))}}else r(new Hy(Fh(s),s))}),Gy=(s,r,n,o)=>{const l={method:s,headers:r?.headers||{}};return o?(Ky(o)?(l.headers=Object.assign({"Content-Type":"application/json"},r?.headers),l.body=JSON.stringify(o)):l.body=o,Object.assign(Object.assign({},l),n)):l};function Jy(s,r,n,o,l,u){return Q(this,void 0,void 0,function*(){return new Promise((c,f)=>{s(n,Gy(r,o,l,u)).then(p=>{if(!p.ok)throw p;if(o?.noResolveJson)return p;const v=p.headers.get("content-type");return!v||!v.includes("application/json")?{}:p.json()}).then(p=>c(p)).catch(p=>Qy(p,f,o))})})}function pt(s,r,n,o,l){return Q(this,void 0,void 0,function*(){return Jy(s,"POST",r,o,l,n)})}class Yy{constructor(r,n={},o){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ru),n),this.fetch=nu(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(r){return Q(this,void 0,void 0,function*(){try{return{data:(yield pt(this.fetch,`${this.url}/CreateIndex`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}})}getIndex(r,n){return Q(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:r,indexName:n},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ft(o))return{data:null,error:o};throw o}})}listIndexes(r){return Q(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/ListIndexes`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}})}deleteIndex(r,n){return Q(this,void 0,void 0,function*(){try{return{data:(yield pt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:r,indexName:n},{headers:this.headers}))||{},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ft(o))return{data:null,error:o};throw o}})}}class Xy{constructor(r,n={},o){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ru),n),this.fetch=nu(o)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(r){return Q(this,void 0,void 0,function*(){try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield pt(this.fetch,`${this.url}/PutVectors`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}})}getVectors(r){return Q(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/GetVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}})}listVectors(r){return Q(this,void 0,void 0,function*(){try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:yield pt(this.fetch,`${this.url}/ListVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}})}queryVectors(r){return Q(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/QueryVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}})}deleteVectors(r){return Q(this,void 0,void 0,function*(){try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield pt(this.fetch,`${this.url}/DeleteVectors`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}})}}class Zy{constructor(r,n={},o){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ru),n),this.fetch=nu(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return Q(this,void 0,void 0,function*(){try{return{data:(yield pt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}})}getBucket(r){return Q(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}})}listBuckets(){return Q(this,arguments,void 0,function*(r={}){try{return{data:yield pt(this.fetch,`${this.url}/ListVectorBuckets`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}})}deleteBucket(r){return Q(this,void 0,void 0,function*(){try{return{data:(yield pt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}})}}class ew extends Zy{constructor(r,n={}){super(r,n.headers||{},n.fetch)}from(r){return new tw(this.url,this.headers,r,this.fetch)}}class tw extends Yy{constructor(r,n,o,l){super(r,n,l),this.vectorBucketName=o}createIndex(r){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Q(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const r=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Q(this,arguments,void 0,function*(n={}){return r.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(r){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Q(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,r)})}deleteIndex(r){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Q(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,r)})}index(r){return new rw(this.url,this.headers,this.vectorBucketName,r,this.fetch)}}class rw extends Xy{constructor(r,n,o,l,u){super(r,n,u),this.vectorBucketName=o,this.indexName=l}putVectors(r){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Q(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(r){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Q(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const r=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Q(this,arguments,void 0,function*(n={}){return r.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(r){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Q(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(r){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Q(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class nw extends qy{constructor(r,n={},o,l){super(r,n,o,l)}from(r){return new Vy(this.url,this.headers,r,this.fetch)}get vectors(){return new ew(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Wy(this.url+"/iceberg",this.headers,this.fetch)}}const sw="2.84.0";let ys="";typeof Deno<"u"?ys="deno":typeof document<"u"?ys="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ys="react-native":ys="node";const iw={"X-Client-Info":`supabase-js-${ys}/${sw}`},ow={headers:iw},aw={schema:"public"},lw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},uw={},cw=s=>s?(...r)=>s(...r):(...r)=>fetch(...r),dw=()=>Headers,hw=(s,r,n)=>{const o=cw(n),l=dw();return async(u,c)=>{var f;const p=(f=await r())!==null&&f!==void 0?f:s;let v=new l(c?.headers);return v.has("apikey")||v.set("apikey",s),v.has("Authorization")||v.set("Authorization",`Bearer ${p}`),o(u,Object.assign(Object.assign({},c),{headers:v}))}};function fw(s){return s.endsWith("/")?s:s+"/"}function pw(s,r){var n,o;const{db:l,auth:u,realtime:c,global:f}=s,{db:p,auth:v,realtime:m,global:w}=r,_={db:Object.assign(Object.assign({},p),l),auth:Object.assign(Object.assign({},v),u),realtime:Object.assign(Object.assign({},m),c),storage:{},global:Object.assign(Object.assign(Object.assign({},w),f),{headers:Object.assign(Object.assign({},(n=w?.headers)!==null&&n!==void 0?n:{}),(o=f?.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return s.accessToken?_.accessToken=s.accessToken:delete _.accessToken,_}function gw(s){const r=s?.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(fw(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const ip="2.84.0",kn=30*1e3,Dl=3,gl=Dl*kn,vw="http://localhost:9999",mw="supabase.auth.token",yw={"X-Client-Info":`gotrue-js/${ip}`},Ml="X-Supabase-Api-Version",op={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ww=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,_w=600*1e3;class Os extends Error{constructor(r,n,o){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=o}}function G(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class Sw extends Os{constructor(r,n,o){super(r,n,o),this.name="AuthApiError",this.status=n,this.code=o}}function Ew(s){return G(s)&&s.name==="AuthApiError"}class Vr extends Os{constructor(r,n){super(r),this.name="AuthUnknownError",this.originalError=n}}class br extends Os{constructor(r,n,o,l){super(r,o,l),this.name=n,this.status=o}}class ht extends br{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function kw(s){return G(s)&&s.name==="AuthSessionMissingError"}class yn extends br{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Qi extends br{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class Gi extends br{constructor(r,n=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function bw(s){return G(s)&&s.name==="AuthImplicitGrantRedirectError"}class Bh extends br{constructor(r,n=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Fl extends br{constructor(r,n){super(r,"AuthRetryableFetchError",n,void 0)}}function vl(s){return G(s)&&s.name==="AuthRetryableFetchError"}class zh extends br{constructor(r,n,o){super(r,"AuthWeakPasswordError",n,"weak_password"),this.reasons=o}}class Bl extends br{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const to="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Vh=` 	
\r=`.split(""),Cw=(()=>{const s=new Array(128);for(let r=0;r<s.length;r+=1)s[r]=-1;for(let r=0;r<Vh.length;r+=1)s[Vh[r].charCodeAt(0)]=-2;for(let r=0;r<to.length;r+=1)s[to[r].charCodeAt(0)]=r;return s})();function qh(s,r,n){if(s!==null)for(r.queue=r.queue<<8|s,r.queuedBits+=8;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;n(to[o]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;n(to[o]),r.queuedBits-=6}}function ap(s,r,n){const o=Cw[s];if(o>-1)for(r.queue=r.queue<<6|o,r.queuedBits+=6;r.queuedBits>=8;)n(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function Wh(s){const r=[],n=c=>{r.push(String.fromCodePoint(c))},o={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},u=c=>{Tw(c,o,n)};for(let c=0;c<s.length;c+=1)ap(s.charCodeAt(c),l,u);return r.join("")}function Ow(s,r){if(s<=127){r(s);return}else if(s<=2047){r(192|s>>6),r(128|s&63);return}else if(s<=65535){r(224|s>>12),r(128|s>>6&63),r(128|s&63);return}else if(s<=1114111){r(240|s>>18),r(128|s>>12&63),r(128|s>>6&63),r(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function Pw(s,r){for(let n=0;n<s.length;n+=1){let o=s.charCodeAt(n);if(o>55295&&o<=56319){const l=(o-55296)*1024&65535;o=(s.charCodeAt(n+1)-56320&65535|l)+65536,n+=1}Ow(o,r)}}function Tw(s,r,n){if(r.utf8seq===0){if(s<=127){n(s);return}for(let o=1;o<6;o+=1)if((s>>7-o&1)===0){r.utf8seq=o;break}if(r.utf8seq===2)r.codepoint=s&31;else if(r.utf8seq===3)r.codepoint=s&15;else if(r.utf8seq===4)r.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|s&63,r.utf8seq-=1,r.utf8seq===0&&n(r.codepoint)}}function Cn(s){const r=[],n={queue:0,queuedBits:0},o=l=>{r.push(l)};for(let l=0;l<s.length;l+=1)ap(s.charCodeAt(l),n,o);return new Uint8Array(r)}function Rw(s){const r=[];return Pw(s,n=>r.push(n)),new Uint8Array(r)}function qr(s){const r=[],n={queue:0,queuedBits:0},o=l=>{r.push(l)};return s.forEach(l=>qh(l,n,o)),qh(null,n,o),r.join("")}function xw(s){return Math.round(Date.now()/1e3)+s}function jw(){return Symbol("auth-callback")}const Ve=()=>typeof window<"u"&&typeof document<"u",Dr={tested:!1,writable:!1},lp=()=>{if(!Ve())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Dr.tested)return Dr.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),Dr.tested=!0,Dr.writable=!0}catch{Dr.tested=!0,Dr.writable=!1}return Dr.writable};function Aw(s){const r={},n=new URL(s);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((l,u)=>{r[u]=l})}catch{}return n.searchParams.forEach((o,l)=>{r[l]=o}),r}const up=s=>s?(...r)=>s(...r):(...r)=>fetch(...r),Iw=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",bn=async(s,r,n)=>{await s.setItem(r,JSON.stringify(n))},Mr=async(s,r)=>{const n=await s.getItem(r);if(!n)return null;try{return JSON.parse(n)}catch{return n}},_r=async(s,r)=>{await s.removeItem(r)};class co{constructor(){this.promise=new co.promiseConstructor((r,n)=>{this.resolve=r,this.reject=n})}}co.promiseConstructor=Promise;function ml(s){const r=s.split(".");if(r.length!==3)throw new Bl("Invalid JWT structure");for(let o=0;o<r.length;o++)if(!ww.test(r[o]))throw new Bl("JWT not in base64url format");return{header:JSON.parse(Wh(r[0])),payload:JSON.parse(Wh(r[1])),signature:Cn(r[2]),raw:{header:r[0],payload:r[1]}}}async function Nw(s){return await new Promise(r=>{setTimeout(()=>r(null),s)})}function Lw(s,r){return new Promise((o,l)=>{(async()=>{for(let u=0;u<1/0;u++)try{const c=await s(u);if(!r(u,null,c)){o(c);return}}catch(c){if(!r(u,c)){l(c);return}}})()})}function Uw(s){return("0"+s.toString(16)).substr(-2)}function $w(){const r=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=n.length;let l="";for(let u=0;u<56;u++)l+=n.charAt(Math.floor(Math.random()*o));return l}return crypto.getRandomValues(r),Array.from(r,Uw).join("")}async function Dw(s){const n=new TextEncoder().encode(s),o=await crypto.subtle.digest("SHA-256",n),l=new Uint8Array(o);return Array.from(l).map(u=>String.fromCharCode(u)).join("")}async function Mw(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const n=await Dw(s);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function wn(s,r,n=!1){const o=$w();let l=o;n&&(l+="/PASSWORD_RECOVERY"),await bn(s,`${r}-code-verifier`,l);const u=await Mw(o);return[u,o===u?"plain":"s256"]}const Fw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Bw(s){const r=s.headers.get(Ml);if(!r||!r.match(Fw))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function zw(s){if(!s)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(s<=r)throw new Error("JWT has expired")}function Vw(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const qw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function _n(s){if(!qw.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function yl(){const s={};return new Proxy(s,{get:(r,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ww(s,r){return new Proxy(s,{get:(n,o,l)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const u=o.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,o,l)}return!r.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(n,o,l)}})}function Hh(s){return JSON.parse(JSON.stringify(s))}const Fr=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Hw=[502,503,504];async function Kh(s){var r;if(!Iw(s))throw new Fl(Fr(s),0);if(Hw.includes(s.status))throw new Fl(Fr(s),s.status);let n;try{n=await s.json()}catch(u){throw new Vr(Fr(u),u)}let o;const l=Bw(s);if(l&&l.getTime()>=op["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?o=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(o=n.error_code),o){if(o==="weak_password")throw new zh(Fr(n),s.status,((r=n.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(o==="session_not_found")throw new ht}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((u,c)=>u&&typeof c=="string",!0))throw new zh(Fr(n),s.status,n.weak_password.reasons);throw new Sw(Fr(n),s.status||500,o)}const Kw=(s,r,n,o)=>{const l={method:s,headers:r?.headers||{}};return s==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r?.headers),l.body=JSON.stringify(o),Object.assign(Object.assign({},l),n))};async function te(s,r,n,o){var l;const u=Object.assign({},o?.headers);u[Ml]||(u[Ml]=op["2024-01-01"].name),o?.jwt&&(u.Authorization=`Bearer ${o.jwt}`);const c=(l=o?.query)!==null&&l!==void 0?l:{};o?.redirectTo&&(c.redirect_to=o.redirectTo);const f=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",p=await Qw(s,r,n+f,{headers:u,noResolveJson:o?.noResolveJson},{},o?.body);return o?.xform?o?.xform(p):{data:Object.assign({},p),error:null}}async function Qw(s,r,n,o,l,u){const c=Kw(r,o,l,u);let f;try{f=await s(n,Object.assign({},c))}catch(p){throw console.error(p),new Fl(Fr(p),0)}if(f.ok||await Kh(f),o?.noResolveJson)return f;try{return await f.json()}catch(p){await Kh(p)}}function xt(s){var r;let n=null;Yw(s)&&(n=Object.assign({},s),s.expires_at||(n.expires_at=xw(s.expires_in)));const o=(r=s.user)!==null&&r!==void 0?r:s;return{data:{session:n,user:o},error:null}}function Qh(s){const r=xt(s);return!r.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((n,o)=>n&&typeof o=="string",!0)&&(r.data.weak_password=s.weak_password),r}function Sr(s){var r;return{data:{user:(r=s.user)!==null&&r!==void 0?r:s},error:null}}function Gw(s){return{data:s,error:null}}function Jw(s){const{action_link:r,email_otp:n,hashed_token:o,redirect_to:l,verification_type:u}=s,c=xn(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:r,email_otp:n,hashed_token:o,redirect_to:l,verification_type:u},p=Object.assign({},c);return{data:{properties:f,user:p},error:null}}function Gh(s){return s}function Yw(s){return s.access_token&&s.refresh_token&&s.expires_in}const wl=["global","local","others"];class Xw{constructor({url:r="",headers:n={},fetch:o}){this.url=r,this.headers=n,this.fetch=up(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,n=wl[0]){if(wl.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${wl.join(", ")}`);try{return await te(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(o){if(G(o))return{data:null,error:o};throw o}}async inviteUserByEmail(r,n={}){try{return await te(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Sr})}catch(o){if(G(o))return{data:{user:null},error:o};throw o}}async generateLink(r){try{const{options:n}=r,o=xn(r,["options"]),l=Object.assign(Object.assign({},o),n);return"newEmail"in o&&(l.new_email=o?.newEmail,delete l.newEmail),await te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:Jw,redirectTo:n?.redirectTo})}catch(n){if(G(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(r){try{return await te(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:Sr})}catch(n){if(G(n))return{data:{user:null},error:n};throw n}}async listUsers(r){var n,o,l,u,c,f,p;try{const v={nextPage:null,lastPage:0,total:0},m=await te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=r?.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(u=(l=r?.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:Gh});if(m.error)throw m.error;const w=await m.json(),_=(c=m.headers.get("x-total-count"))!==null&&c!==void 0?c:0,C=(p=(f=m.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return C.length>0&&(C.forEach(E=>{const b=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(E.split(";")[1].split("=")[1]);v[`${S}Page`]=b}),v.total=parseInt(_)),{data:Object.assign(Object.assign({},w),v),error:null}}catch(v){if(G(v))return{data:{users:[]},error:v};throw v}}async getUserById(r){_n(r);try{return await te(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:Sr})}catch(n){if(G(n))return{data:{user:null},error:n};throw n}}async updateUserById(r,n){_n(r);try{return await te(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:n,headers:this.headers,xform:Sr})}catch(o){if(G(o))return{data:{user:null},error:o};throw o}}async deleteUser(r,n=!1){_n(r);try{return await te(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:n},xform:Sr})}catch(o){if(G(o))return{data:{user:null},error:o};throw o}}async _listFactors(r){_n(r.userId);try{const{data:n,error:o}=await te(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:n,error:o}}catch(n){if(G(n))return{data:null,error:n};throw n}}async _deleteFactor(r){_n(r.userId),_n(r.id);try{return{data:await te(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(n){if(G(n))return{data:null,error:n};throw n}}async _listOAuthClients(r){var n,o,l,u,c,f,p;try{const v={nextPage:null,lastPage:0,total:0},m=await te(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=r?.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(u=(l=r?.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:Gh});if(m.error)throw m.error;const w=await m.json(),_=(c=m.headers.get("x-total-count"))!==null&&c!==void 0?c:0,C=(p=(f=m.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return C.length>0&&(C.forEach(E=>{const b=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(E.split(";")[1].split("=")[1]);v[`${S}Page`]=b}),v.total=parseInt(_)),{data:Object.assign(Object.assign({},w),v),error:null}}catch(v){if(G(v))return{data:{clients:[]},error:v};throw v}}async _createOAuthClient(r){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(G(n))return{data:null,error:n};throw n}}async _getOAuthClient(r){try{return await te(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(G(n))return{data:null,error:n};throw n}}async _updateOAuthClient(r,n){try{return await te(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${r}`,{body:n,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(G(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(r){try{return await te(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(G(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(r){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(G(n))return{data:null,error:n};throw n}}}function Jh(s={}){return{getItem:r=>s[r]||null,setItem:(r,n)=>{s[r]=n},removeItem:r=>{delete s[r]}}}const Sn={debug:!!(globalThis&&lp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class cp extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class Zw extends cp{}async function e0(s,r,n){Sn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,r);const o=new globalThis.AbortController;return r>0&&setTimeout(()=>{o.abort(),Sn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async l=>{if(l){Sn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,l.name);try{return await n()}finally{Sn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,l.name)}}else{if(r===0)throw Sn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new Zw(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(Sn.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function t0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function dp(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function r0(s){return parseInt(s,16)}function n0(s){const r=new TextEncoder().encode(s);return"0x"+Array.from(r,o=>o.toString(16).padStart(2,"0")).join("")}function s0(s){var r;const{chainId:n,domain:o,expirationTime:l,issuedAt:u=new Date,nonce:c,notBefore:f,requestId:p,resources:v,scheme:m,uri:w,version:_}=s;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((r=s.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const C=dp(s.address),E=m?`${m}://${o}`:o,b=s.statement?`${s.statement}
`:"",S=`${E} wants you to sign in with your Ethereum account:
${C}

${b}`;let I=`URI: ${w}
Version: ${_}
Chain ID: ${n}${c?`
Nonce: ${c}`:""}
Issued At: ${u.toISOString()}`;if(l&&(I+=`
Expiration Time: ${l.toISOString()}`),f&&(I+=`
Not Before: ${f.toISOString()}`),p&&(I+=`
Request ID: ${p}`),v){let j=`
Resources:`;for(const A of v){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);j+=`
- ${A}`}I+=j}return`${S}
${I}`}class Ne extends Error{constructor({message:r,code:n,cause:o,name:l}){var u;super(r,{cause:o}),this.__isWebAuthnError=!0,this.name=(u=l??(o instanceof Error?o.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=n}}class ro extends Ne{constructor(r,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:r}),this.name="WebAuthnUnknownError",this.originalError=n}}function i0({error:s,options:r}){var n,o,l;const{publicKey:u}=r;if(!u)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Ne({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((n=u.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Ne({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(r.mediation==="conditional"&&((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Ne({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((l=u.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Ne({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new Ne({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new Ne({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return u.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new Ne({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new Ne({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const c=window.location.hostname;if(hp(c)){if(u.rp.id!==c)return new Ne({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Ne({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new Ne({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new Ne({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Ne({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function o0({error:s,options:r}){const{publicKey:n}=r;if(!n)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Ne({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new Ne({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const o=window.location.hostname;if(hp(o)){if(n.rpId!==o)return new Ne({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Ne({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new Ne({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Ne({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class a0{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const l0=new a0;function u0(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:r,user:n,excludeCredentials:o}=s,l=xn(s,["challenge","user","excludeCredentials"]),u=Cn(r).buffer,c=Object.assign(Object.assign({},n),{id:Cn(n.id).buffer}),f=Object.assign(Object.assign({},l),{challenge:u,user:c});if(o&&o.length>0){f.excludeCredentials=new Array(o.length);for(let p=0;p<o.length;p++){const v=o[p];f.excludeCredentials[p]=Object.assign(Object.assign({},v),{id:Cn(v.id).buffer,type:v.type||"public-key",transports:v.transports})}}return f}function c0(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:r,allowCredentials:n}=s,o=xn(s,["challenge","allowCredentials"]),l=Cn(r).buffer,u=Object.assign(Object.assign({},o),{challenge:l});if(n&&n.length>0){u.allowCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const f=n[c];u.allowCredentials[c]=Object.assign(Object.assign({},f),{id:Cn(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function d0(s){var r;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const n=s;return{id:s.id,rawId:s.id,response:{attestationObject:qr(new Uint8Array(s.response.attestationObject)),clientDataJSON:qr(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function h0(s){var r;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const n=s,o=s.getClientExtensionResults(),l=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:qr(new Uint8Array(l.authenticatorData)),clientDataJSON:qr(new Uint8Array(l.clientDataJSON)),signature:qr(new Uint8Array(l.signature)),userHandle:l.userHandle?qr(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function hp(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function Yh(){var s,r;return!!(Ve()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator?.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.get)=="function")}async function f0(s){try{const r=await navigator.credentials.create(s);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new ro("Browser returned unexpected credential type",r)}:{data:null,error:new ro("Empty credential response",r)}}catch(r){return{data:null,error:i0({error:r,options:s})}}}async function p0(s){try{const r=await navigator.credentials.get(s);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new ro("Browser returned unexpected credential type",r)}:{data:null,error:new ro("Empty credential response",r)}}catch(r){return{data:null,error:o0({error:r,options:s})}}}const g0={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},v0={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function no(...s){const r=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),n=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),o={};for(const l of s)if(l)for(const u in l){const c=l[u];if(c!==void 0)if(Array.isArray(c))o[u]=c;else if(n(c))o[u]=c;else if(r(c)){const f=o[u];r(f)?o[u]=no(f,c):o[u]=no(c)}else o[u]=c}return o}function m0(s,r){return no(g0,s,r||{})}function y0(s,r){return no(v0,s,r||{})}class w0{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:n,friendlyName:o,signal:l},u){try{const{data:c,error:f}=await this.client.mfa.challenge({factorId:r,webauthn:n});if(!c)return{data:null,error:f};const p=l??l0.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:v}=c.webauthn.credential_options.publicKey;v.name||(v.name=`${v.id}:${o}`),v.displayName||(v.displayName=v.name)}switch(c.webauthn.type){case"create":{const v=m0(c.webauthn.credential_options.publicKey,u?.create),{data:m,error:w}=await f0({publicKey:v,signal:p});return m?{data:{factorId:r,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:m}},error:null}:{data:null,error:w}}case"request":{const v=y0(c.webauthn.credential_options.publicKey,u?.request),{data:m,error:w}=await p0(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:v,signal:p}));return m?{data:{factorId:r,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:m}},error:null}:{data:null,error:w}}}}catch(c){return G(c)?{data:null,error:c}:{data:null,error:new Vr("Unexpected error in challenge",c)}}}async _verify({challengeId:r,factorId:n,webauthn:o}){return this.client.mfa.verify({factorId:n,challengeId:r,webauthn:o})}async _authenticate({factorId:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},u){if(!n)return{data:null,error:new Os("rpId is required for WebAuthn authentication")};try{if(!Yh())return{data:null,error:new Vr("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this.challenge({factorId:r,webauthn:{rpId:n,rpOrigins:o},signal:l},{request:u});if(!c)return{data:null,error:f};const{webauthn:p}=c;return this._verify({factorId:r,challengeId:c.challengeId,webauthn:{type:p.type,rpId:n,rpOrigins:o,credential_response:p.credential_response}})}catch(c){return G(c)?{data:null,error:c}:{data:null,error:new Vr("Unexpected error in authenticate",c)}}}async _register({friendlyName:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},u){if(!n)return{data:null,error:new Os("rpId is required for WebAuthn registration")};try{if(!Yh())return{data:null,error:new Vr("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this._enroll({friendlyName:r});if(!c)return await this.client.mfa.listFactors().then(m=>{var w;return(w=m.data)===null||w===void 0?void 0:w.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===r&&_.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:f};const{data:p,error:v}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:n,rpOrigins:o},signal:l},{create:u});return p?this._verify({factorId:c.id,challengeId:p.challengeId,webauthn:{rpId:n,rpOrigins:o,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:v}}catch(c){return G(c)?{data:null,error:c}:{data:null,error:new Vr("Unexpected error in register",c)}}}}t0();const _0={url:vw,storageKey:mw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:yw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Xh(s,r,n){return await n()}const En={};class Ps{get jwks(){var r,n;return(n=(r=En[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(r){En[this.storageKey]=Object.assign(Object.assign({},En[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,n;return(n=(r=En[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){En[this.storageKey]=Object.assign(Object.assign({},En[this.storageKey]),{cachedAt:r})}constructor(r){var n,o,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},_0),r);if(this.storageKey=u.storageKey,this.instanceID=(n=Ps.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Ps.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&Ve()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new Xw({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=up(u.fetch),this.lock=u.lock||Xh,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,u.lock?this.lock=u.lock:Ve()&&(!((o=globalThis?.navigator)===null||o===void 0)&&o.locks)?this.lock=e0:this.lock=Xh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new w0(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:lp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Jh(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=Jh(this.memoryStorage)),Ve()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(r){if(this.throwOnError&&r&&r.error)throw r.error;return r}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ip}) ${new Date().toISOString()}`}_debug(...r){return this.logDebugMessages&&this.logger(this._logPrefix(),...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{let n={},o="none";if(Ve()&&(n=Aw(window.location.href),this._isImplicitGrantCallback(n)?o="implicit":await this._isPKCECallback(n)&&(o="pkce")),Ve()&&this.detectSessionInUrl&&o!=="none"){const{data:l,error:u}=await this._getSessionFromURL(n,o);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),bw(u)){const p=(r=u.details)===null||r===void 0?void 0:r.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:c,redirectType:f}=l;return this._debug("#_initialize()","detected session in URL",c,"redirect type",f),await this._saveSession(c),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return G(n)?this._returnResult({error:n}):this._returnResult({error:new Vr("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var n,o,l;try{const u=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(n=r?.options)===null||n===void 0?void 0:n.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(l=r?.options)===null||l===void 0?void 0:l.captchaToken}},xform:xt}),{data:c,error:f}=u;if(f||!c)return this._returnResult({data:{user:null,session:null},error:f});const p=c.session,v=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:v,session:p},error:null})}catch(u){if(G(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(r){var n,o,l;try{let u;if("email"in r){const{email:m,password:w,options:_}=r;let C=null,E=null;this.flowType==="pkce"&&([C,E]=await wn(this.storage,this.storageKey)),u=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:m,password:w,data:(n=_?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:C,code_challenge_method:E},xform:xt})}else if("phone"in r){const{phone:m,password:w,options:_}=r;u=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:w,data:(o=_?.data)!==null&&o!==void 0?o:{},channel:(l=_?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:xt})}else throw new Qi("You must provide either an email or phone number and a password");const{data:c,error:f}=u;if(f||!c)return this._returnResult({data:{user:null,session:null},error:f});const p=c.session,v=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:v,session:p},error:null})}catch(u){if(G(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(r){try{let n;if("email"in r){const{email:u,password:c,options:f}=r;n=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Qh})}else if("phone"in r){const{phone:u,password:c,options:f}=r;n=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Qh})}else throw new Qi("You must provide either an email or phone number and a password");const{data:o,error:l}=n;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o||!o.session||!o.user){const u=new yn;return this._returnResult({data:{user:null,session:null},error:u})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:l})}catch(n){if(G(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(r){var n,o,l,u;return await this._handleProviderSignIn(r.provider,{redirectTo:(n=r.options)===null||n===void 0?void 0:n.redirectTo,scopes:(o=r.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=r.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(u=r.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:n}=r;switch(n){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(r){var n,o,l,u,c,f,p,v,m,w,_;let C,E;if("message"in r)C=r.message,E=r.signature;else{const{chain:b,wallet:S,statement:I,options:j}=r;let A;if(Ve())if(typeof S=="object")A=S;else{const Ae=window;if("ethereum"in Ae&&typeof Ae.ethereum=="object"&&"request"in Ae.ethereum&&typeof Ae.ethereum.request=="function")A=Ae.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=S}const M=new URL((n=j?.url)!==null&&n!==void 0?n:window.location.href),Y=await A.request({method:"eth_requestAccounts"}).then(Ae=>Ae).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Y||Y.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const X=dp(Y[0]);let oe=(o=j?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!oe){const Ae=await A.request({method:"eth_chainId"});oe=r0(Ae)}const we={domain:M.host,address:X,statement:I,uri:M.href,version:"1",chainId:oe,nonce:(l=j?.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(c=(u=j?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(f=j?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(p=j?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(v=j?.signInWithEthereum)===null||v===void 0?void 0:v.requestId,resources:(m=j?.signInWithEthereum)===null||m===void 0?void 0:m.resources};C=s0(we),E=await A.request({method:"personal_sign",params:[n0(C),X]})}try{const{data:b,error:S}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:C,signature:E},!((w=r.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(_=r.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:xt});if(S)throw S;if(!b||!b.session||!b.user){const I=new yn;return this._returnResult({data:{user:null,session:null},error:I})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:S})}catch(b){if(G(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async signInWithSolana(r){var n,o,l,u,c,f,p,v,m,w,_,C;let E,b;if("message"in r)E=r.message,b=r.signature;else{const{chain:S,wallet:I,statement:j,options:A}=r;let M;if(Ve())if(typeof I=="object")M=I;else{const X=window;if("solana"in X&&typeof X.solana=="object"&&("signIn"in X.solana&&typeof X.solana.signIn=="function"||"signMessage"in X.solana&&typeof X.solana.signMessage=="function"))M=X.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof I!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=I}const Y=new URL((n=A?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in M&&M.signIn){const X=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:Y.host,uri:Y.href}),j?{statement:j}:null));let oe;if(Array.isArray(X)&&X[0]&&typeof X[0]=="object")oe=X[0];else if(X&&typeof X=="object"&&"signedMessage"in X&&"signature"in X)oe=X;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in oe&&"signature"in oe&&(typeof oe.signedMessage=="string"||oe.signedMessage instanceof Uint8Array)&&oe.signature instanceof Uint8Array)E=typeof oe.signedMessage=="string"?oe.signedMessage:new TextDecoder().decode(oe.signedMessage),b=oe.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${Y.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${Y.href}`,`Issued At: ${(l=(o=A?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((u=A?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((c=A?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((f=A?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((p=A?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((v=A?.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((w=(m=A?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||w===void 0)&&w.length?["Resources",...A.signInWithSolana.resources.map(oe=>`- ${oe}`)]:[]].join(`
`);const X=await M.signMessage(new TextEncoder().encode(E),"utf8");if(!X||!(X instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=X}}try{const{data:S,error:I}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:qr(b)},!((_=r.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(C=r.options)===null||C===void 0?void 0:C.captchaToken}}:null),xform:xt});if(I)throw I;if(!S||!S.session||!S.user){const j=new yn;return this._returnResult({data:{user:null,session:null},error:j})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:I})}catch(S){if(G(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(r){const n=await Mr(this.storage,`${this.storageKey}-code-verifier`),[o,l]=(n??"").split("/");try{const{data:u,error:c}=await te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:o},xform:xt});if(await _r(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!u||!u.session||!u.user){const f=new yn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:l??null}),error:c})}catch(u){if(G(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(r){try{const{options:n,provider:o,token:l,access_token:u,nonce:c}=r,f=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:l,access_token:u,nonce:c,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:xt}),{data:p,error:v}=f;if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!p||!p.session||!p.user){const m=new yn;return this._returnResult({data:{user:null,session:null},error:m})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:v})}catch(n){if(G(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(r){var n,o,l,u,c;try{if("email"in r){const{email:f,options:p}=r;let v=null,m=null;this.flowType==="pkce"&&([v,m]=await wn(this.storage,this.storageKey));const{error:w}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(n=p?.data)!==null&&n!==void 0?n:{},create_user:(o=p?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:v,code_challenge_method:m},redirectTo:p?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in r){const{phone:f,options:p}=r,{data:v,error:m}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(l=p?.data)!==null&&l!==void 0?l:{},create_user:(u=p?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(c=p?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:v?.message_id},error:m})}throw new Qi("You must provide either an email or phone number.")}catch(f){if(G(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(r){var n,o;try{let l,u;"options"in r&&(l=(n=r.options)===null||n===void 0?void 0:n.redirectTo,u=(o=r.options)===null||o===void 0?void 0:o.captchaToken);const{data:c,error:f}=await te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:u}}),redirectTo:l,xform:xt});if(f)throw f;if(!c)throw new Error("An error occurred on token verification.");const p=c.session,v=c.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:v,session:p},error:null})}catch(l){if(G(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(r){var n,o,l,u,c;try{let f=null,p=null;this.flowType==="pkce"&&([f,p]=await wn(this.storage,this.storageKey));const v=await te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(o=(n=r.options)===null||n===void 0?void 0:n.redirectTo)!==null&&o!==void 0?o:void 0}),!((l=r?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:p}),headers:this.headers,xform:Gw});return!((u=v.data)===null||u===void 0)&&u.url&&Ve()&&!(!((c=r.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(v.data.url),this._returnResult(v)}catch(f){if(G(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:n},error:o}=r;if(o)throw o;if(!n)throw new ht;const{error:l}=await te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(r){if(G(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async resend(r){try{const n=`${this.url}/resend`;if("email"in r){const{email:o,type:l,options:u}=r,{error:c}=await te(this.fetch,"POST",n,{headers:this.headers,body:{email:o,type:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in r){const{phone:o,type:l,options:u}=r,{data:c,error:f}=await te(this.fetch,"POST",n,{headers:this.headers,body:{phone:o,type:l,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:f})}throw new Qi("You must provide either an email or phone number and a type")}catch(n){if(G(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(r,n){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await o,await n()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=n();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await r(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const n=await Mr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?r=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const o=r.expires_at?r.expires_at*1e3-Date.now()<gl:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",r.expires_at),!o){if(this.userStorage){const c=await Mr(this.userStorage,this.storageKey+"-user");c?.user?r.user=c.user:r.user=yl()}if(this.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};r.user=Ww(r.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:l,error:u}=await this._callRefreshToken(r.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:Sr}):await this._useSession(async n=>{var o,l,u;const{data:c,error:f}=n;if(f)throw f;return!(!((o=c.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ht}:await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(l=c.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0,xform:Sr})})}catch(n){if(G(n))return kw(n)&&(await this._removeSession(),await _r(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(r,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,n))}async _updateUser(r,n={}){try{return await this._useSession(async o=>{const{data:l,error:u}=o;if(u)throw u;if(!l.session)throw new ht;const c=l.session;let f=null,p=null;this.flowType==="pkce"&&r.email!=null&&([f,p]=await wn(this.storage,this.storageKey));const{data:v,error:m}=await te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:f,code_challenge_method:p}),jwt:c.access_token,xform:Sr});if(m)throw m;return c.user=v.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(o){if(G(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new ht;const n=Date.now()/1e3;let o=n,l=!0,u=null;const{payload:c}=ml(r.access_token);if(c.exp&&(o=c.exp,l=o<=n),l){const{data:f,error:p}=await this._callRefreshToken(r.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!f)return{data:{user:null,session:null},error:null};u=f}else{const{data:f,error:p}=await this._getUser(r.access_token);if(p)throw p;u={access_token:r.access_token,refresh_token:r.refresh_token,user:f.user,token_type:"bearer",expires_in:o-n,expires_at:o},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(n){if(G(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async n=>{var o;if(!r){const{data:c,error:f}=n;if(f)throw f;r=(o=c.session)!==null&&o!==void 0?o:void 0}if(!r?.refresh_token)throw new ht;const{data:l,error:u}=await this._callRefreshToken(r.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(G(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(r,n){try{if(!Ve())throw new Gi("No browser detected.");if(r.error||r.error_description||r.error_code)throw new Gi(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Bh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Gi("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new Bh("No code detected.");const{data:j,error:A}=await this._exchangeCodeForSession(r.code);if(A)throw A;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:l,access_token:u,refresh_token:c,expires_in:f,expires_at:p,token_type:v}=r;if(!u||!f||!c||!v)throw new Gi("No session defined in URL");const m=Math.round(Date.now()/1e3),w=parseInt(f);let _=m+w;p&&(_=parseInt(p));const C=_-m;C*1e3<=kn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${C}s, should have been closer to ${w}s`);const E=_-w;m-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,_,m):m-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,_,m);const{data:b,error:S}=await this._getUser(u);if(S)throw S;const I={provider_token:o,provider_refresh_token:l,access_token:u,expires_in:w,expires_at:_,refresh_token:c,token_type:v,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:I,redirectType:r.type},error:null})}catch(o){if(G(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const n=await Mr(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&n)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async n=>{var o;const{data:l,error:u}=n;if(u)return this._returnResult({error:u});const c=(o=l.session)===null||o===void 0?void 0:o.access_token;if(c){const{error:f}=await this.admin.signOut(c,r);if(f&&!(Ew(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return r!=="others"&&(await this._removeSession(),await _r(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(r){const n=jw(),o={id:n,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:o}}}async _emitInitialSession(r){return await this._useSession(async n=>{var o,l;try{const{data:{session:u},error:c}=n;if(c)throw c;await((o=this.stateChangeEmitters.get(r))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",r,"session",u)}catch(u){await((l=this.stateChangeEmitters.get(r))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",u),console.error(u)}})}async resetPasswordForEmail(r,n={}){let o=null,l=null;this.flowType==="pkce"&&([o,l]=await wn(this.storage,this.storageKey,!0));try{return await te(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:o,code_challenge_method:l,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(u){if(G(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var r;try{const{data:n,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(r=n.user.identities)!==null&&r!==void 0?r:[]},error:null})}catch(n){if(G(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var n;try{const{data:o,error:l}=await this._useSession(async u=>{var c,f,p,v,m;const{data:w,error:_}=u;if(_)throw _;const C=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(c=r.options)===null||c===void 0?void 0:c.redirectTo,scopes:(f=r.options)===null||f===void 0?void 0:f.scopes,queryParams:(p=r.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await te(this.fetch,"GET",C,{headers:this.headers,jwt:(m=(v=w.session)===null||v===void 0?void 0:v.access_token)!==null&&m!==void 0?m:void 0})});if(l)throw l;return Ve()&&!(!((n=r.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(o?.url),this._returnResult({data:{provider:r.provider,url:o?.url},error:null})}catch(o){if(G(o))return this._returnResult({data:{provider:r.provider,url:null},error:o});throw o}}async linkIdentityIdToken(r){return await this._useSession(async n=>{var o;try{const{error:l,data:{session:u}}=n;if(l)throw l;const{options:c,provider:f,token:p,access_token:v,nonce:m}=r,w=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=u?.access_token)!==null&&o!==void 0?o:void 0,body:{provider:f,id_token:p,access_token:v,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:xt}),{data:_,error:C}=w;return C?this._returnResult({data:{user:null,session:null},error:C}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new yn}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:C}))}catch(l){if(G(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(r){try{return await this._useSession(async n=>{var o,l;const{data:u,error:c}=n;if(c)throw c;return await te(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(l=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0})})}catch(n){if(G(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(r){const n=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(n,"begin");try{const o=Date.now();return await Lw(async l=>(l>0&&await Nw(200*Math.pow(2,l-1)),this._debug(n,"refreshing attempt",l),await te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:xt})),(l,u)=>{const c=200*Math.pow(2,l);return u&&vl(u)&&Date.now()+c-o<kn})}catch(o){if(this._debug(n,"error",o),G(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(n,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,n){const o=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",n,"url",o),Ve()&&!n.skipBrowserRedirect&&window.location.assign(o),{data:{provider:r,url:o},error:null}}async _recoverAndRefresh(){var r,n;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const l=await Mr(this.storage,this.storageKey);if(l&&this.userStorage){let c=await Mr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:l.user},await bn(this.userStorage,this.storageKey+"-user",c)),l.user=(r=c?.user)!==null&&r!==void 0?r:yl()}else if(l&&!l.user&&!l.user){const c=await Mr(this.storage,this.storageKey+"-user");c&&c?.user?(l.user=c.user,await _r(this.storage,this.storageKey+"-user"),await bn(this.storage,this.storageKey,l)):l.user=yl()}if(this._debug(o,"session from storage",l),!this._isValidSession(l)){this._debug(o,"session is not valid"),l!==null&&await this._removeSession();return}const u=((n=l.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<gl;if(this._debug(o,`session has${u?"":" not"} expired with margin of ${gl}s`),u){if(this.autoRefreshToken&&l.refresh_token){const{error:c}=await this._callRefreshToken(l.refresh_token);c&&(console.error(c),vl(c)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:f}=await this._getUser(l.access_token);!f&&c?.user?(l.user=c.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(o,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(o,"error",l),console.error(l);return}finally{this._debug(o,"end")}}async _callRefreshToken(r){var n,o;if(!r)throw new ht;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new co;const{data:u,error:c}=await this._refreshAccessToken(r);if(c)throw c;if(!u.session)throw new ht;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const f={data:u.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(u){if(this._debug(l,"error",u),G(u)){const c={data:null,error:u};return vl(u)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(u),u}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(r,n,o=!0){const l=`#_notifyAllSubscribers(${r})`;this._debug(l,"begin",n,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:r,session:n});const u=[],c=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(r,n)}catch(p){u.push(p)}});if(await Promise.all(c),u.length>0){for(let f=0;f<u.length;f+=1)console.error(u[f]);throw u[0]}}finally{this._debug(l,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const n=Object.assign({},r),o=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&n.user&&await bn(this.userStorage,this.storageKey+"-user",{user:n.user});const l=Object.assign({},n);delete l.user;const u=Hh(l);await bn(this.storage,this.storageKey,u)}else{const l=Hh(n);await bn(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await _r(this.storage,this.storageKey),await _r(this.storage,this.storageKey+"-code-verifier"),await _r(this.storage,this.storageKey+"-user"),this.userStorage&&await _r(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&Ve()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",r)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),kn);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async n=>{const{data:{session:o}}=n;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((o.expires_at*1e3-r)/kn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${kn}ms, refresh threshold is ${Dl} ticks`),l<=Dl&&await this._callRefreshToken(o.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof cp)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ve()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const n=`#_onVisibilityChanged(${r})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,n,o){const l=[`provider=${encodeURIComponent(n)}`];if(o?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&l.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[u,c]=await wn(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(c)}`});l.push(f.toString())}if(o?.queryParams){const u=new URLSearchParams(o.queryParams);l.push(u.toString())}return o?.skipBrowserRedirect&&l.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${r}?${l.join("&")}`}async _unenroll(r){try{return await this._useSession(async n=>{var o;const{data:l,error:u}=n;return u?this._returnResult({data:null,error:u}):await te(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(o=l?.session)===null||o===void 0?void 0:o.access_token})})}catch(n){if(G(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(r){try{return await this._useSession(async n=>{var o,l;const{data:u,error:c}=n;if(c)return this._returnResult({data:null,error:c});const f=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:p,error:v}=await te(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(o=u?.session)===null||o===void 0?void 0:o.access_token});return v?this._returnResult({data:null,error:v}):(r.factorType==="totp"&&p.type==="totp"&&(!((l=p?.totp)===null||l===void 0)&&l.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(n){if(G(n))return this._returnResult({data:null,error:n});throw n}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var o;const{data:l,error:u}=n;if(u)return this._returnResult({data:null,error:u});const c=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?d0(r.webauthn.credential_response):h0(r.webauthn.credential_response)})}:{code:r.code}),{data:f,error:p}=await te(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:c,headers:this.headers,jwt:(o=l?.session)===null||o===void 0?void 0:o.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:p}))})}catch(n){if(G(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var o;const{data:l,error:u}=n;if(u)return this._returnResult({data:null,error:u});const c=await te(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(o=l?.session)===null||o===void 0?void 0:o.access_token});if(c.error)return c;const{data:f}=c;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:u0(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:c0(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(G(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(r){const{data:n,error:o}=await this._challenge({factorId:r.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:r.factorId,challengeId:n.id,code:r.code})}async _listFactors(){var r;const{data:{user:n},error:o}=await this.getUser();if(o)return{data:null,error:o};const l={all:[],phone:[],totp:[],webauthn:[]};for(const u of(r=n?.factors)!==null&&r!==void 0?r:[])l.all.push(u),u.status==="verified"&&l[u.factor_type].push(u);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(){var r,n;const{data:{session:o},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=ml(o.access_token);let c=null;u.aal&&(c=u.aal);let f=c;((n=(r=o.user.factors)===null||r===void 0?void 0:r.filter(m=>m.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(f="aal2");const v=u.amr||[];return{data:{currentLevel:c,nextLevel:f,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(r){try{return await this._useSession(async n=>{const{data:{session:o},error:l}=n;return l?this._returnResult({data:null,error:l}):o?await te(this.fetch,"GET",`${this.url}/oauth/authorizations/${r}`,{headers:this.headers,jwt:o.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new ht})})}catch(n){if(G(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(r,n){try{return await this._useSession(async o=>{const{data:{session:l},error:u}=o;if(u)return this._returnResult({data:null,error:u});if(!l)return this._returnResult({data:null,error:new ht});const c=await te(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&Ve()&&!n?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(o){if(G(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(r,n){try{return await this._useSession(async o=>{const{data:{session:l},error:u}=o;if(u)return this._returnResult({data:null,error:u});if(!l)return this._returnResult({data:null,error:new ht});const c=await te(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&Ve()&&!n?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(o){if(G(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async r=>{const{data:{session:n},error:o}=r;return o?this._returnResult({data:null,error:o}):n?await te(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new ht})})}catch(r){if(G(r))return this._returnResult({data:null,error:r});throw r}}async _revokeOAuthGrant(r){try{return await this._useSession(async n=>{const{data:{session:o},error:l}=n;return l?this._returnResult({data:null,error:l}):o?await te(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:r.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new ht})})}catch(n){if(G(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(r,n={keys:[]}){let o=n.keys.find(f=>f.kid===r);if(o)return o;const l=Date.now();if(o=this.jwks.keys.find(f=>f.kid===r),o&&this.jwks_cached_at+_w>l)return o;const{data:u,error:c}=await te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=l,o=u.keys.find(f=>f.kid===r),!o)?null:o}async getClaims(r,n={}){try{let o=r;if(!o){const{data:C,error:E}=await this.getSession();if(E||!C.session)return this._returnResult({data:null,error:E});o=C.session.access_token}const{header:l,payload:u,signature:c,raw:{header:f,payload:p}}=ml(o);n?.allowExpired||zw(u.exp);const v=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!v){const{error:C}=await this.getUser(o);if(C)throw C;return{data:{claims:u,header:l,signature:c},error:null}}const m=Vw(l.alg),w=await crypto.subtle.importKey("jwk",v,m,!0,["verify"]);if(!await crypto.subtle.verify(m,w,c,Rw(`${f}.${p}`)))throw new Bl("Invalid JWT signature");return{data:{claims:u,header:l,signature:c},error:null}}catch(o){if(G(o))return this._returnResult({data:null,error:o});throw o}}}Ps.nextInstanceID={};const S0=Ps;class E0 extends S0{constructor(r){super(r)}}class k0{constructor(r,n,o){var l,u,c;this.supabaseUrl=r,this.supabaseKey=n;const f=gw(r);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const p=`sb-${f.hostname.split(".")[0]}-auth-token`,v={db:aw,realtime:uw,auth:Object.assign(Object.assign({},lw),{storageKey:p}),global:ow},m=pw(o??{},v);this.storageKey=(l=m.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(u=m.global.headers)!==null&&u!==void 0?u:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(w,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=m.auth)!==null&&c!==void 0?c:{},this.headers,m.global.fetch),this.fetch=hw(n,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&this.accessToken().then(w=>this.realtime.setAuth(w)).catch(w=>console.warn("Failed to set initial Realtime auth token:",w)),this.rest=new vy(new URL("rest/v1",f).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new nw(this.storageUrl.href,this.headers,this.fetch,o?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new hy(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,n={},o={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,n,o)}channel(r,n={config:{}}){return this.realtime.channel(r,n)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r,n;if(this.accessToken)return await this.accessToken();const{data:o}=await this.auth.getSession();return(n=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:n,detectSessionInUrl:o,storage:l,userStorage:u,storageKey:c,flowType:f,lock:p,debug:v,throwOnError:m},w,_){const C={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new E0({url:this.authUrl.href,headers:Object.assign(Object.assign({},C),w),storageKey:c,autoRefreshToken:r,persistSession:n,detectSessionInUrl:o,storage:l,userStorage:u,flowType:f,lock:p,debug:v,throwOnError:m,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(E=>E.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new Iy(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,o)=>{this._handleTokenChanged(n,"CLIENT",o?.access_token)})}_handleTokenChanged(r,n,o){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==o?(this.changedAccessToken=o,this.realtime.setAuth(o)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const b0=(s,r,n)=>new k0(s,r,n);function C0(){if(typeof window<"u"||typeof process>"u")return!1;const s=process.version;if(s==null)return!1;const r=s.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}C0()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const O0="https://ppaibznhkylkhwjqwuuo.supabase.co",P0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBwYWliem5oa3lsa2h3anF3dXVvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQxNDUyMjAsImV4cCI6MjA3OTcyMTIyMH0.-rkPk22EDV7Ct2AhGXEVB42u-RZPfdP4wFWv6QC0cMg",ye=b0(O0,P0),pe={log:(s,r,n,o)=>{const u={timestamp:new Date().toISOString(),level:s,message:r,details:n};switch(s){case"info":console.info(u);break;case"warn":console.warn(u);break;case"error":console.error(u);break;case"debug":console.debug(u);break;default:console.log(u)}(o?.showToast??(s==="error"||s==="warn"))&&o?.userMessage},info:(s,r,n)=>pe.log("info",s,r,n),warn:(s,r,n)=>pe.log("warn",s,r,{...n,toastVariant:"destructive"}),error:(s,r,n)=>pe.log("error",s,r,{...n,toastVariant:"destructive"}),debug:(s,r,n)=>pe.log("debug",s,r,{...n,showToast:!1})},fp=N.createContext(void 0),T0=({children:s})=>{const[r,n]=N.useState(null),[o,l]=N.useState(null),[u,c]=N.useState(!0),[f,p]=N.useState(!1);N.useEffect(()=>{const _={current:!0},C=async j=>{try{const{data:A,error:M}=await ye.from("profiles").select("is_admin").eq("id",j).single();return _.current?M?(pe.error("Error fetching admin status",M),{isAdmin:!1}):{isAdmin:A?.is_admin??!1}:{isAdmin:!1}}catch(A){return pe.error("Exception in fetchUserProfile",A),{isAdmin:!1}}},E=async(j,A)=>{if(_.current)try{if(l(A),n(A?.user??null),A?.user){const{isAdmin:M}=await C(A.user.id);_.current&&p(M)}else _.current&&p(!1)}catch{}finally{_.current&&c(!1)}},{data:{subscription:b}}=ye.auth.onAuthStateChange(E);(async()=>{try{const{data:{session:j}}=await ye.auth.getSession();pe.info("Initial session check",{session:j}),j||(n(null),l(null),p(!1),c(!1))}catch(j){pe.error("Error fetching initial session",j),_.current&&(n(null),l(null),p(!1),c(!1))}})();const I=()=>{pe.warn("Page unloading detected. Ensure all resources are cleaned up.")};return window.addEventListener("beforeunload",I),()=>{_.current=!1,b.unsubscribe(),window.removeEventListener("beforeunload",I)}},[]);const v=async(_,C)=>{pe.info("Attempting sign in",{email:_});const{error:E}=await ye.auth.signInWithPassword({email:_,password:C});return E?pe.error("Sign in error",E,{userMessage:E.message,showToast:!0}):pe.info("User signed in successfully."),{error:E}},m=async(_,C,E)=>{const b=`${window.location.origin}/`;pe.info("Attempting sign up",{email:_,username:E});const{error:S}=await ye.auth.signUp({email:_,password:C,options:{emailRedirectTo:b,data:{username:E,display_name:E}}});return S?pe.error("Sign up error",S,{userMessage:S.message,showToast:!0}):pe.info("User signed up successfully. Check email for verification."),{error:S}},w=async()=>{pe.info("Attempting sign out.");const{error:_}=await ye.auth.signOut();_?pe.error("Sign out error",_,{userMessage:_.message,showToast:!0}):pe.info("User signed out successfully.")};return J.jsx(fp.Provider,{value:{user:r,session:o,loading:u,isAdmin:f,signIn:v,signUp:m,signOut:w},children:s})},su=()=>{const s=N.useContext(fp);if(!s)throw new Error("useAuth must be used within AuthProvider");return s},pp=N.createContext(void 0),R0=({children:s})=>{const{user:r}=su(),[n,o]=N.useState([]),[l,u]=N.useState(!0),c=N.useCallback(async()=>{if(!r){o([]),u(!1);return}u(!0);const{data:E,error:b}=await ye.from("chat_participants").select(`
        last_read_at,
        chats (
          id, created_at, chat_name, is_group_chat, last_message_id,
          chat_participants (
            id, user_id,
            profiles (display_name, username, verified, avatar_url)
          ),
          last_message:messages!last_message_id (
            id, created_at, chat_id, sender_id, content, is_read,
            sender:profiles (display_name, username, verified, avatar_url)
          )
        )
      `).eq("user_id",r.id).order("created_at",{foreignTable:"chats",ascending:!1});if(b)pe.error("Error fetching chats",b,{userMessage:"Failed to load chats."}),o([]);else{const S=E.map(I=>{const j=I.chats;return{...j,last_read_at:I.last_read_at,unread:j.last_message&&new Date(j.last_message.created_at)>new Date(I.last_read_at||0)}});o(S)}u(!1)},[r]),f=N.useCallback(E=>{o(b=>{const S=b.findIndex(Y=>Y.id===E.chat_id);if(S===-1)return b;const I=[...b],j=I[S],A={...E,sender:E.sender},M=j.last_read_at?new Date(A.created_at)>new Date(j.last_read_at):!0;return I[S]={...j,last_message:A,last_message_id:E.id,unread:M},I.sort((Y,X)=>Y.last_message?X.last_message?new Date(X.last_message.created_at).getTime()-new Date(Y.last_message.created_at).getTime():-1:1)})},[]);N.useEffect(()=>{if(!r){o([]),u(!1);return}c();const E=ye.channel(`user_chats:${r.id}`);return E.on("postgres_changes",{event:"*",schema:"public",table:"chat_participants",filter:`user_id=eq.${r.id}`},b=>{pe.debug("Chat participant change received, refetching chats",{payload:b}),c()}),E.on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},b=>{pe.debug("New message received, updating chat list",{payload:b}),f(b.new)}).subscribe(),()=>{ye.removeChannel(E)}},[r,c,f]);const p=async E=>{if(!r)return;const{error:b}=await ye.from("chat_participants").update({last_read_at:new Date().toISOString()}).eq("chat_id",E).eq("user_id",r.id);b?pe.error("Error marking chat as read",b,{userMessage:"Failed to mark chat as read."}):o(S=>S.map(I=>I.id===E?{...I,unread:!1,last_read_at:new Date().toISOString()}:I))},v=async(E,b)=>{if(!r)return;const{data:S,error:I}=await ye.from("messages").insert({chat_id:E,sender_id:r.id,content:b}).select().single();I?pe.error("Error sending message",I,{userMessage:"Failed to send message."}):await ye.from("chats").update({last_message_id:S.id}).eq("id",E)},m=(E,b)=>{const S=ye.channel(`chat_${E}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`chat_id=eq.${E}`},I=>{const j=I.new;b(j)}).subscribe();return()=>{ye.removeChannel(S)}},w=async E=>{if(!r)return null;const{data:b,error:S}=await ye.rpc("create_personal_chat",{p_user_id:E});if(S)return pe.error("Error creating or fetching personal chat",S,{userMessage:"Could not start chat."}),null;if(b&&b.length>0){const I=b.id,{data:j,error:A}=await ye.from("chats").select(`
                id, created_at, chat_name, is_group_chat, last_message_id,
                messages (
                    id, created_at, chat_id, sender_id, content, is_read,
                    sender:profiles!inner(display_name, username, verified, avatar_url)
                ),
                chat_participants (
                    id, user_id,
                    profiles (display_name, username, verified, avatar_url)
                )
            `).eq("id",I).single();return A?(pe.error("Error fetching newly created or existing chat",A),null):j}return null},_=N.useCallback((E,b)=>{const S=ye.channel(`chat_details:${E}`),I=async()=>{const{data:j,error:A}=await ye.from("chats").select(`
          id, created_at, chat_name, is_group_chat, last_message_id,
          chat_participants (
            id, user_id,
            profiles (display_name, username, verified, avatar_url)
          )
        `).eq("id",E).single();if(A){pe.error("Error fetching chat details",A,{userMessage:"Failed to fetch chat details."});return}b(j)};return S.on("postgres_changes",{event:"*",schema:"public",table:"chat_participants",filter:`chat_id=eq.${E}`},I).subscribe(),I(),()=>{ye.removeChannel(S)}},[]),C=N.useCallback((E,b)=>{const S=ye.channel(`chat_messages:${E}`),I=async()=>{const{data:j,error:A}=await ye.from("messages").select(`
          id, created_at, chat_id, sender_id, content, is_read,
          sender:profiles!inner (display_name, username, verified, avatar_url)
        `).eq("chat_id",E).order("created_at",{ascending:!0});if(A){pe.error("Error fetching chat messages",A,{userMessage:"Failed to fetch chat messages."}),b([]);return}b(j)};return S.on("postgres_changes",{event:"*",schema:"public",table:"messages",filter:`chat_id=eq.${E}`},I).subscribe(),I(),()=>{ye.removeChannel(S)}},[]);return J.jsx(pp.Provider,{value:{chats:n,loadingChats:l,fetchChats:c,markChatAsRead:p,sendMessage:v,subscribeToChatMessages:m,createPersonalChat:w,fetchChatDetails:_,fetchChatMessages:C},children:s})},Y0=()=>{const s=N.useContext(pp);if(!s)throw new Error("useChatContext must be used within a ChatProvider");return s},gp=N.createContext(void 0),x0=({children:s})=>{const{user:r}=su(),[n,o]=N.useState([]),[l,u]=N.useState(!0),c=N.useCallback(async()=>{if(!r){o([]),u(!1);return}u(!0);const{data:v,error:m}=await ye.from("notifications").select(`
        id, created_at, recipient_id, type, source_id, read,
        sender:profiles (display_name, username, verified, avatar_url, is_admin),
        pings (id, content),
        comments (id, content)
      `).eq("recipient_id",r.id).order("created_at",{ascending:!1});m?(pe.error("Error fetching notifications",m,{userMessage:"Failed to load notifications."}),o([])):o(v),u(!1)},[r]);N.useEffect(()=>{if(!r){o([]),u(!1);return}c();const v=ye.channel(`user_notifications:${r.id}`);return v.on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`recipient_id=eq.${r.id}`},m=>{console.log("Notification change received!",m),c()}).subscribe(),()=>{ye.removeChannel(v)}},[r,c]);const f=async v=>{if(!r)return;const{error:m}=await ye.from("notifications").update({read:!0}).eq("id",v).eq("recipient_id",r.id);m?pe.error("Error marking notification as read",m,{userMessage:"Failed to mark notification as read."}):o(w=>w.map(_=>_.id===v?{..._,read:!0}:_))},p=n.filter(v=>!v.read).length;return J.jsx(gp.Provider,{value:{notifications:n,loadingNotifications:l,unreadCount:p,fetchNotifications:c,markNotificationAsRead:f},children:s})},X0=()=>{const s=N.useContext(gp);if(!s)throw new Error("useNotificationContext must be used within NotificationProvider");return s},vp=({text:s="Loading..."})=>J.jsx("div",{className:"flex items-center justify-center",children:J.jsxs("div",{className:"text-center animate-fade-in",children:[J.jsx("div",{className:"inline-block h-12 w-12 animate-spin rounded-full border-4 border-muted border-t-primary"}),J.jsx("p",{className:"mt-4 text-muted-foreground",children:s})]})}),j0=()=>null,A0=N.lazy(()=>Bt(()=>import("./Home-C8J27srj.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),Zh=N.lazy(()=>Bt(()=>import("./Profile-CEmEnvtm.js"),__vite__mapDeps([11,1,2,3,4,12,13,14,15,5,16,17,7,8]))),I0=N.lazy(()=>Bt(()=>import("./SearchResults-hevs-UVZ.js"),__vite__mapDeps([18,1,2,3,4,14,13,12,5,17,7]))),N0=N.lazy(()=>Bt(()=>import("./Settings-aeWXDB7G.js"),__vite__mapDeps([19,1,2,12,13,20,21,4,14,15,16,22,17]))),L0=N.lazy(()=>Bt(()=>import("./Notifications-Dq_GRgYW.js"),__vite__mapDeps([23,1,2,3,4,14,13,22,8,9]))),U0=N.lazy(()=>Bt(()=>import("./Chats-C6qcX3dL.js"),__vite__mapDeps([24,1,2,3,4,14,13,7]))),$0=N.lazy(()=>Bt(()=>import("./ChatConversation-DtlaKJJy.js"),__vite__mapDeps([25,14,13,12,21,5,17,2,7,4,6]))),D0=N.lazy(()=>Bt(()=>import("./SupabaseAuth-BJUyIlDX.js"),__vite__mapDeps([26,12,13,20,15,2,10,22]))),M0=N.lazy(()=>Bt(()=>import("./NotFound-QW1UePfW.js"),[])),F0=N.lazy(()=>Bt(()=>import("./PostDetail-B0u4gMhZ.js"),[])),B0=new Gv,Yt=({children:s})=>{const{user:r,loading:n}=su();return n?J.jsx("div",{className:"min-h-screen flex items-center justify-center",children:J.jsx(vp,{})}):r?J.jsx(J.Fragment,{children:s}):J.jsx(zm,{to:"/auth",replace:!0})},z0=()=>J.jsx(Zv,{client:B0,children:J.jsxs(R0,{children:[J.jsx(x0,{children:J.jsx(Zm,{children:J.jsx(N.Suspense,{fallback:J.jsx("div",{className:"min-h-screen flex items-center justify-center",children:J.jsx(vp,{})}),children:J.jsxs(qm,{children:[J.jsx(St,{path:"/auth",element:J.jsx(D0,{})}),J.jsx(St,{path:"/",element:J.jsx(Yt,{children:J.jsx(A0,{})})}),J.jsx(St,{path:"/:username",element:J.jsx(Yt,{children:J.jsx(Zh,{})})}),J.jsx(St,{path:"/profile",element:J.jsx(Yt,{children:J.jsx(Zh,{})})}),J.jsx(St,{path:"/post/:id",element:J.jsx(Yt,{children:J.jsx(F0,{})})}),J.jsx(St,{path:"/search",element:J.jsx(Yt,{children:J.jsx(I0,{})})}),J.jsx(St,{path:"/notifications",element:J.jsx(Yt,{children:J.jsx(L0,{})})}),J.jsx(St,{path:"/chats",element:J.jsx(Yt,{children:J.jsx(U0,{})})}),J.jsx(St,{path:"/chats/:chatId",element:J.jsx(Yt,{children:J.jsx($0,{})})}),J.jsx(St,{path:"/settings",element:J.jsx(Yt,{children:J.jsx(N0,{})})}),J.jsx(St,{path:"*",element:J.jsx(M0,{})})]})})})}),J.jsx(j0,{})]})});Sv.createRoot(document.getElementById("root")).render(J.jsx(T0,{children:J.jsx(z0,{})}));export{vp as L,q0 as N,Wr as a,W0 as b,su as c,V0 as d,X0 as e,Y0 as f,J as j,pe as l,N as r,ye as s,Ql as u};
